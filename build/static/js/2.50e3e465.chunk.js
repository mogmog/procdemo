/*! For license information please see 2.50e3e465.chunk.js.LICENSE.txt */
(this["webpackJsonpfullscreen-video-scroll"]=this["webpackJsonpfullscreen-video-scroll"]||[]).push([[2],[function(e,t,r){"use strict";e.exports=r(30)},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(1);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}},function(e,t,r){"use strict";e.exports=r(23)},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(14);var i=r(13);function a(e){return function(e){if(Array.isArray(e))return Object(n.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(i.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}r.d(t,"a",(function(){return i}))},function(e,t,r){"use strict";(function(e){var n=r(20),i=r(2),a=r(4),o=r(6),s=r(11),u=r(1),l=r(17),c=r(5),h=r(9),f=r(10),p="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{};function d(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function m(e,t){return e(t={exports:{}},t.exports),t.exports}function v(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var g=m((function(e,t){(function(){function r(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function n(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}function i(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}function a(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}function o(e){return function(t){return e(t)}}function s(e,t){return e.has(t)}function u(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function l(e,t){return function(r){return e(t(r))}}function c(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}function h(){}function f(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function d(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function m(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function v(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new m;++t<r;)this.add(e[t])}function g(e){this.size=(this.__data__=new d(e)).size}function y(e,t){var r=Fr(e),n=!r&&Ir(e),i=!r&&!n&&Ur(e),a=!r&&!n&&!i&&Hr(e),o=r||n||i||a,s=o?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],u=s.length;for(var l in e)!t&&!Yt.call(e,l)||o&&("length"==l||i&&("offset"==l||"parent"==l)||a&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||q(l,u))||s.push(l);return s}function b(e,t,r){var n=e[t];Yt.call(e,t)&&ie(n,r)&&(r!==Se||t in e)||w(e,t,r)}function x(e,t){for(var r=e.length;r--;)if(ie(e[r][0],t))return r;return-1}function w(e,t,r){"__proto__"==t&&sr?sr(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function _(e,t,r,i,a,o){var s,u=t&Oe,l=t&ke,c=t&Pe;if(r&&(s=a?r(e,i,a,o):r(e)),s!==Se)return s;if(!ue(e))return e;var h=Fr(e);if(h){if(s=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&Yt.call(e,"index")&&(r.index=e.index,r.input=e.input),r}(e),!u)return function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}(e,s)}else{var f=Lr(e),p=f==Xe||f==Ye;if(Ur(e))return function(e,t){if(t)return e.slice();var r=e.length,n=tr?tr(r):new e.constructor(r);return e.copy(n),n}(e,u);if(f==Je||f==je||p&&!a){if(s=l||p?{}:function(e){return"function"!=typeof e.constructor||Z(e)?{}:Ar(rr(e))}(e),!u)return l?function(e,t){return F(e,Pr(e),t)}(e,function(e,t){return e&&F(t,ye(t),e)}(s,e)):function(e,t){return F(e,kr(e),t)}(e,function(e,t){return e&&F(t,ge(t),e)}(s,e))}else{if(!Ot[f])return a?e:{};s=function(e,t,r){var n=e.constructor;switch(t){case st:return I(e);case Ge:case We:return new n(+e);case ut:return function(e,t){return new e.constructor(t?I(e.buffer):e.buffer,e.byteOffset,e.byteLength)}(e,r);case lt:case ct:case ht:case ft:case pt:case dt:case mt:case vt:case gt:return function(e,t){return new e.constructor(t?I(e.buffer):e.buffer,e.byteOffset,e.length)}(e,r);case Ze:return new n;case Ke:case nt:return new n(e);case tt:return function(e){var t=new e.constructor(e.source,Tt.exec(e));return t.lastIndex=e.lastIndex,t}(e);case rt:return new n;case it:return function(e){return Sr?Object(Sr.call(e)):{}}(e)}}(e,f,u)}}o||(o=new g);var d=o.get(e);if(d)return d;if(o.set(e,s),jr(e))return e.forEach((function(n){s.add(_(n,t,r,n,e,o))})),s;if(Br(e))return e.forEach((function(n,i){s.set(i,_(n,t,r,i,e,o))})),s;var m=h?Se:(c?l?H:j:l?ye:ge)(e);return n(m||e,(function(n,i){m&&(n=e[i=n]),b(s,i,_(n,t,r,i,e,o))})),s}function T(e,t){return e&&Rr(e,t,ge)}function E(e,t){for(var r=0,n=(t=N(t,e)).length;null!=e&&r<n;)e=e[$(t[r++])];return r&&r==n?e:Se}function S(e,t,r){var n=t(e);return Fr(e)?n:i(n,r(e))}function M(e){return null==e?e===Se?at:Qe:or&&or in Object(e)?function(e){var t=Yt.call(e,or),r=e[or];try{e[or]=Se;var n=!0}catch(e){}var i=Kt.call(e);return n&&(t?e[or]=r:delete e[or]),i}(e):function(e){return Kt.call(e)}(e)}function A(e,t){return null!=e&&t in Object(e)}function C(e){return le(e)&&M(e)==je}function R(e,t,r,n,i){return e===t||(null==e||null==t||!le(e)&&!le(t)?e!==e&&t!==t:function(e,t,r,n,i,a){var o=Fr(e),s=Fr(t),u=o?He:Lr(e),l=s?He:Lr(t),c=(u=u==je?Je:u)==Je,h=(l=l==je?Je:l)==Je,f=u==l;if(f&&Ur(e)){if(!Ur(t))return!1;o=!0,c=!1}if(f&&!c)return a||(a=new g),o||Hr(e)?U(e,t,r,n,i,a):B(e,t,u,r,n,i,a);if(!(r&Le)){var p=c&&Yt.call(e,"__wrapped__"),d=h&&Yt.call(t,"__wrapped__");if(p||d){var m=p?e.value():e,v=d?t.value():t;return a||(a=new g),i(m,v,r,n,a)}}return!!f&&(a||(a=new g),function(e,t,r,n,i,a){var o=r&Le,s=j(e),u=s.length;if(u!=j(t).length&&!o)return!1;for(var l=u;l--;){var c=s[l];if(!(o?c in t:Yt.call(t,c)))return!1}var h=a.get(e);if(h&&a.get(t))return h==t;var f=!0;a.set(e,t),a.set(t,e);for(var p=o;++l<u;){var d=e[c=s[l]],m=t[c];if(n)var v=o?n(m,d,c,t,e,a):n(d,m,c,e,t,a);if(!(v===Se?d===m||i(d,m,r,n,a):v)){f=!1;break}p||(p="constructor"==c)}if(f&&!p){var g=e.constructor,y=t.constructor;g!=y&&"constructor"in e&&"constructor"in t&&!("function"==typeof g&&g instanceof g&&"function"==typeof y&&y instanceof y)&&(f=!1)}return a.delete(e),a.delete(t),f}(e,t,r,n,i,a))}(e,t,r,n,R,i))}function O(e){return!(!ue(e)||function(e){return!!Zt&&Zt in e}(e))&&(oe(e)?Qt:Mt).test(ee(e))}function k(e){return"function"==typeof e?e:null==e?xe:"object"==typeof e?Fr(e)?L(e[0],e[1]):function(e){var t=function(e){for(var t=ge(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,K(i)]}return t}(e);return 1==t.length&&t[0][2]?Q(t[0][0],t[0][1]):function(r){return r===e||function(e,t,r,n){var i=r.length,a=i,o=!n;if(null==e)return!a;for(e=Object(e);i--;){var s=r[i];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<a;){var u=(s=r[i])[0],l=e[u],c=s[1];if(o&&s[2]){if(l===Se&&!(u in e))return!1}else{var h=new g;if(n)var f=n(l,c,u,e,t,h);if(!(f===Se?R(c,l,Le|ze,n,h):f))return!1}}return!0}(r,e,t)}}(e):_e(e)}function P(e){if(!ue(e))return function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}(e);var t=Z(e),r=[];for(var n in e)("constructor"!=n||!t&&Yt.call(e,n))&&r.push(n);return r}function L(e,t){return Y(e)&&K(t)?Q($(e),t):function(r){var n=me(r,e);return n===Se&&n===t?ve(r,e):R(t,n,Le|ze)}}function z(e,t){return zr(J(e,t,xe),e+"")}function D(e){if("string"==typeof e)return e;if(Fr(e))return function(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}(e,D)+"";if(ce(e))return Mr?Mr.call(e):"";var t=e+"";return"0"==t&&1/e==-Ie?"-0":t}function N(e,t){return Fr(e)?e:Y(e,t)?[e]:Dr(de(e))}function I(e){var t=new e.constructor(e.byteLength);return new er(t).set(new er(e)),t}function F(e,t,r,n){var i=!r;r||(r={});for(var a=-1,o=t.length;++a<o;){var s=t[a],u=n?n(r[s],e[s],s,r,e):Se;u===Se&&(u=e[s]),i?w(r,s,u):b(r,s,u)}return r}function U(e,t,r,n,i,o){var u=r&Le,l=e.length,c=t.length;if(l!=c&&!(u&&c>l))return!1;var h=o.get(e);if(h&&o.get(t))return h==t;var f=-1,p=!0,d=r&ze?new v:Se;for(o.set(e,t),o.set(t,e);++f<l;){var m=e[f],g=t[f];if(n)var y=u?n(g,m,f,t,e,o):n(m,g,f,e,t,o);if(y!==Se){if(y)continue;p=!1;break}if(d){if(!a(t,(function(e,t){if(!s(d,t)&&(m===e||i(m,e,r,n,o)))return d.push(t)}))){p=!1;break}}else if(m!==g&&!i(m,g,r,n,o)){p=!1;break}}return o.delete(e),o.delete(t),p}function B(e,t,r,n,i,a,o){switch(r){case ut:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case st:return!(e.byteLength!=t.byteLength||!a(new er(e),new er(t)));case Ge:case We:case Ke:return ie(+e,+t);case qe:return e.name==t.name&&e.message==t.message;case tt:case nt:return e==t+"";case Ze:var s=u;case rt:var l=n&Le;if(s||(s=c),e.size!=t.size&&!l)return!1;var h=o.get(e);if(h)return h==t;n|=ze,o.set(e,t);var f=U(s(e),s(t),n,i,a,o);return o.delete(e),f;case it:if(Sr)return Sr.call(e)==Sr.call(t)}return!1}function j(e){return S(e,ge,kr)}function H(e){return S(e,ye,Pr)}function V(){var e=h.iteratee||we;return e=e===we?k:e,arguments.length?e(arguments[0],arguments[1]):e}function G(e,t){var r=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?r["string"==typeof t?"string":"hash"]:r.map}function W(e,t){var r=function(e,t){return null==e?Se:e[t]}(e,t);return O(r)?r:Se}function q(e,t){var r=typeof e;return!!(t=null==t?Fe:t)&&("number"==r||"symbol"!=r&&Ct.test(e))&&e>-1&&e%1==0&&e<t}function X(e,t,r){if(!ue(r))return!1;var n=typeof t;return!!("number"==n?ae(r)&&q(t,r.length):"string"==n&&t in r)&&ie(r[t],e)}function Y(e,t){if(Fr(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!ce(e))||bt.test(e)||!yt.test(e)||null!=t&&e in Object(t)}function Z(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Wt)}function K(e){return e===e&&!ue(e)}function Q(e,t){return function(r){return null!=r&&r[e]===t&&(t!==Se||e in Object(r))}}function J(e,t,n){return t=hr(t===Se?e.length-1:t,0),function(){for(var i=arguments,a=-1,o=hr(i.length-t,0),s=Array(o);++a<o;)s[a]=i[t+a];a=-1;for(var u=Array(t+1);++a<t;)u[a]=i[a];return u[t]=n(s),r(e,this,u)}}function $(e){if("string"==typeof e||ce(e))return e;var t=e+"";return"0"==t&&1/e==-Ie?"-0":t}function ee(e){if(null!=e){try{return Xt.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function te(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:fe(r);return i<0&&(i=hr(n+i,0)),function(e,t,r,n){for(var i=e.length,a=r+(n?1:-1);n?a--:++a<i;)if(t(e[a],a,e))return a;return-1}(e,V(t,3),i)}function re(e,t){return(Fr(e)?n:Cr)(e,V(t,3))}function ne(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(Ae);var r=function r(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=e.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(ne.Cache||m),r}function ie(e,t){return e===t||e!==e&&t!==t}function ae(e){return null!=e&&se(e.length)&&!oe(e)}function oe(e){if(!ue(e))return!1;var t=M(e);return t==Xe||t==Ye||t==Ve||t==et}function se(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Fe}function ue(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function le(e){return null!=e&&"object"==typeof e}function ce(e){return"symbol"==typeof e||le(e)&&M(e)==it}function he(e){return e?(e=pe(e))===Ie||e===-Ie?(e<0?-1:1)*Ue:e===e?e:0:0===e?e:0}function fe(e){var t=he(e),r=t%1;return t===t?r?t-r:t:0}function pe(e){if("number"==typeof e)return e;if(ce(e))return Be;if(ue(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ue(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(wt,"");var r=St.test(e);return r||At.test(e)?kt(e.slice(2),r?2:8):Et.test(e)?Be:+e}function de(e){return null==e?"":D(e)}function me(e,t,r){var n=null==e?Se:E(e,t);return n===Se?r:n}function ve(e,t){return null!=e&&function(e,t,r){for(var n=-1,i=(t=N(t,e)).length,a=!1;++n<i;){var o=$(t[n]);if(!(a=null!=e&&r(e,o)))break;e=e[o]}return a||++n!=i?a:!!(i=null==e?0:e.length)&&se(i)&&q(o,i)&&(Fr(e)||Ir(e))}(e,t,A)}function ge(e){return ae(e)?y(e):function(e){if(!Z(e))return cr(e);var t=[];for(var r in Object(e))Yt.call(e,r)&&"constructor"!=r&&t.push(r);return t}(e)}function ye(e){return ae(e)?y(e,!0):P(e)}function be(e){return function(){return e}}function xe(e){return e}function we(e){return k("function"==typeof e?e:_(e,Oe))}function _e(e){return Y(e)?function(e){return function(t){return null==t?Se:t[e]}}($(e)):function(e){return function(t){return E(t,e)}}(e)}function Te(){return[]}function Ee(){return!1}var Se,Me=200,Ae="Expected a function",Ce="__lodash_hash_undefined__",Re=500,Oe=1,ke=2,Pe=4,Le=1,ze=2,De=800,Ne=16,Ie=1/0,Fe=9007199254740991,Ue=17976931348623157e292,Be=NaN,je="[object Arguments]",He="[object Array]",Ve="[object AsyncFunction]",Ge="[object Boolean]",We="[object Date]",qe="[object Error]",Xe="[object Function]",Ye="[object GeneratorFunction]",Ze="[object Map]",Ke="[object Number]",Qe="[object Null]",Je="[object Object]",$e="[object Promise]",et="[object Proxy]",tt="[object RegExp]",rt="[object Set]",nt="[object String]",it="[object Symbol]",at="[object Undefined]",ot="[object WeakMap]",st="[object ArrayBuffer]",ut="[object DataView]",lt="[object Float32Array]",ct="[object Float64Array]",ht="[object Int8Array]",ft="[object Int16Array]",pt="[object Int32Array]",dt="[object Uint8Array]",mt="[object Uint8ClampedArray]",vt="[object Uint16Array]",gt="[object Uint32Array]",yt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,bt=/^\w*$/,xt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,wt=/^\s+|\s+$/g,_t=/\\(\\)?/g,Tt=/\w*$/,Et=/^[-+]0x[0-9a-f]+$/i,St=/^0b[01]+$/i,Mt=/^\[object .+?Constructor\]$/,At=/^0o[0-7]+$/i,Ct=/^(?:0|[1-9]\d*)$/,Rt={};Rt[lt]=Rt[ct]=Rt[ht]=Rt[ft]=Rt[pt]=Rt[dt]=Rt[mt]=Rt[vt]=Rt[gt]=!0,Rt[je]=Rt[He]=Rt[st]=Rt[Ge]=Rt[ut]=Rt[We]=Rt[qe]=Rt[Xe]=Rt[Ze]=Rt[Ke]=Rt[Je]=Rt[tt]=Rt[rt]=Rt[nt]=Rt[ot]=!1;var Ot={};Ot[je]=Ot[He]=Ot[st]=Ot[ut]=Ot[Ge]=Ot[We]=Ot[lt]=Ot[ct]=Ot[ht]=Ot[ft]=Ot[pt]=Ot[Ze]=Ot[Ke]=Ot[Je]=Ot[tt]=Ot[rt]=Ot[nt]=Ot[it]=Ot[dt]=Ot[mt]=Ot[vt]=Ot[gt]=!0,Ot[qe]=Ot[Xe]=Ot[ot]=!1;var kt=parseInt,Pt="object"==typeof p&&p&&p.Object===Object&&p,Lt="object"==typeof self&&self&&self.Object===Object&&self,zt=Pt||Lt||Function("return this")(),Dt=t&&!t.nodeType&&t,Nt=Dt&&e&&!e.nodeType&&e,It=Nt&&Nt.exports===Dt,Ft=It&&Pt.process,Ut=function(){try{return Ft&&Ft.binding&&Ft.binding("util")}catch(r){}}(),Bt=Ut&&Ut.isMap,jt=Ut&&Ut.isSet,Ht=Ut&&Ut.isTypedArray,Vt=Array.prototype,Gt=Function.prototype,Wt=Object.prototype,qt=zt["__core-js_shared__"],Xt=Gt.toString,Yt=Wt.hasOwnProperty,Zt=function(){var e=/[^.]+$/.exec(qt&&qt.keys&&qt.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Kt=Wt.toString,Qt=RegExp("^"+Xt.call(Yt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Jt=It?zt.Buffer:Se,$t=zt.Symbol,er=zt.Uint8Array,tr=Jt?Jt.allocUnsafe:Se,rr=l(Object.getPrototypeOf,Object),nr=Object.create,ir=Wt.propertyIsEnumerable,ar=Vt.splice,or=$t?$t.toStringTag:Se,sr=function(){try{var e=W(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),ur=Object.getOwnPropertySymbols,lr=Jt?Jt.isBuffer:Se,cr=l(Object.keys,Object),hr=Math.max,fr=Date.now,pr=W(zt,"DataView"),dr=W(zt,"Map"),mr=W(zt,"Promise"),vr=W(zt,"Set"),gr=W(zt,"WeakMap"),yr=W(Object,"create"),br=ee(pr),xr=ee(dr),wr=ee(mr),_r=ee(vr),Tr=ee(gr),Er=$t?$t.prototype:Se,Sr=Er?Er.valueOf:Se,Mr=Er?Er.toString:Se,Ar=function(){function e(){}return function(t){if(!ue(t))return{};if(nr)return nr(t);e.prototype=t;var r=new e;return e.prototype=Se,r}}();f.prototype.clear=function(){this.__data__=yr?yr(null):{},this.size=0},f.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},f.prototype.get=function(e){var t=this.__data__;if(yr){var r=t[e];return r===Ce?Se:r}return Yt.call(t,e)?t[e]:Se},f.prototype.has=function(e){var t=this.__data__;return yr?t[e]!==Se:Yt.call(t,e)},f.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=yr&&t===Se?Ce:t,this},d.prototype.clear=function(){this.__data__=[],this.size=0},d.prototype.delete=function(e){var t=this.__data__,r=x(t,e);return!(r<0)&&(r==t.length-1?t.pop():ar.call(t,r,1),--this.size,!0)},d.prototype.get=function(e){var t=this.__data__,r=x(t,e);return r<0?Se:t[r][1]},d.prototype.has=function(e){return x(this.__data__,e)>-1},d.prototype.set=function(e,t){var r=this.__data__,n=x(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},m.prototype.clear=function(){this.size=0,this.__data__={hash:new f,map:new(dr||d),string:new f}},m.prototype.delete=function(e){var t=G(this,e).delete(e);return this.size-=t?1:0,t},m.prototype.get=function(e){return G(this,e).get(e)},m.prototype.has=function(e){return G(this,e).has(e)},m.prototype.set=function(e,t){var r=G(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},v.prototype.add=v.prototype.push=function(e){return this.__data__.set(e,Ce),this},v.prototype.has=function(e){return this.__data__.has(e)},g.prototype.clear=function(){this.__data__=new d,this.size=0},g.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},g.prototype.get=function(e){return this.__data__.get(e)},g.prototype.has=function(e){return this.__data__.has(e)},g.prototype.set=function(e,t){var r=this.__data__;if(r instanceof d){var n=r.__data__;if(!dr||n.length<Me-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new m(n)}return r.set(e,t),this.size=r.size,this};var Cr=function(e,t){return function(r,n){if(null==r)return r;if(!ae(r))return e(r,n);for(var i=r.length,a=t?i:-1,o=Object(r);(t?a--:++a<i)&&!1!==n(o[a],a,o););return r}}(T),Rr=function(e){return function(t,r,n){for(var i=-1,a=Object(t),o=n(t),s=o.length;s--;){var u=o[e?s:++i];if(!1===r(a[u],u,a))break}return t}}(),Or=sr?function(e,t){return sr(e,"toString",{configurable:!0,enumerable:!1,value:be(t),writable:!0})}:xe,kr=ur?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var r=-1,n=null==e?0:e.length,i=0,a=[];++r<n;){var o=e[r];t(o,r,e)&&(a[i++]=o)}return a}(ur(e),(function(t){return ir.call(e,t)})))}:Te,Pr=ur?function(e){for(var t=[];e;)i(t,kr(e)),e=rr(e);return t}:Te,Lr=M;(pr&&Lr(new pr(new ArrayBuffer(1)))!=ut||dr&&Lr(new dr)!=Ze||mr&&Lr(mr.resolve())!=$e||vr&&Lr(new vr)!=rt||gr&&Lr(new gr)!=ot)&&(Lr=function(e){var t=M(e),r=t==Je?e.constructor:Se,n=r?ee(r):"";if(n)switch(n){case br:return ut;case xr:return Ze;case wr:return $e;case _r:return rt;case Tr:return ot}return t});var zr=function(e){var t=0,r=0;return function(){var n=fr(),i=Ne-(n-r);if(r=n,i>0){if(++t>=De)return arguments[0]}else t=0;return e.apply(Se,arguments)}}(Or),Dr=function(e){var t=ne(e,(function(e){return r.size===Re&&r.clear(),e})),r=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(xt,(function(e,r,n,i){t.push(n?i.replace(_t,"$1"):r||e)})),t})),Nr=function(e){return function(t,r,n){var i=Object(t);if(!ae(t)){var a=V(r,3);t=ge(t),r=function(e){return a(i[e],e,i)}}var o=e(t,r,n);return o>-1?i[a?t[o]:o]:Se}}(te);ne.Cache=m;var Ir=C(function(){return arguments}())?C:function(e){return le(e)&&Yt.call(e,"callee")&&!ir.call(e,"callee")},Fr=Array.isArray,Ur=lr||Ee,Br=Bt?o(Bt):function(e){return le(e)&&Lr(e)==Ze},jr=jt?o(jt):function(e){return le(e)&&Lr(e)==rt},Hr=Ht?o(Ht):function(e){return le(e)&&se(e.length)&&!!Rt[M(e)]},Vr=function(e){return z((function(t,r){var n=-1,i=r.length,a=i>1?r[i-1]:Se,o=i>2?r[2]:Se;for(a=e.length>3&&"function"==typeof a?(i--,a):Se,o&&X(r[0],r[1],o)&&(a=i<3?Se:a,i=1),t=Object(t);++n<i;){var s=r[n];s&&e(t,s,n,a)}return t}))}((function(e,t){if(Z(t)||ae(t))return F(t,ge(t),e),Se;for(var r in t)Yt.call(t,r)&&b(e,r,t[r])})),Gr=z((function(e,t){e=Object(e);var r=-1,n=t.length,i=n>2?t[2]:Se;for(i&&X(t[0],t[1],i)&&(n=1);++r<n;)for(var a=t[r],o=ye(a),s=-1,u=o.length;++s<u;){var l=o[s],c=e[l];(c===Se||ie(c,Wt[l])&&!Yt.call(e,l))&&(e[l]=a[l])}return e}));h.assign=Vr,h.constant=be,h.defaults=Gr,h.iteratee=we,h.keys=ge,h.keysIn=ye,h.matchesProperty=function(e,t){return L(e,_(t,Oe))},h.memoize=ne,h.property=_e,h.clone=function(e){return _(e,Pe)},h.eq=ie,h.find=Nr,h.findIndex=te,h.forEach=re,h.forOwn=function(e,t){return e&&T(e,V(t,3))},h.get=me,h.hasIn=ve,h.identity=xe,h.isArguments=Ir,h.isArray=Fr,h.isArrayLike=ae,h.isBuffer=Ur,h.isEqual=function(e,t){return R(e,t)},h.isFunction=oe,h.isLength=se,h.isMap=Br,h.isObject=ue,h.isObjectLike=le,h.isSet=jr,h.isSymbol=ce,h.isTypedArray=Hr,h.stubArray=Te,h.stubFalse=Ee,h.toFinite=he,h.toInteger=fe,h.toNumber=pe,h.toString=de,h.each=re,h.VERSION="4.17.5",Nt?((Nt.exports=h)._=h,Dt._=h):zt._=h}).call(p)})),y=new(d(m((function(e,t){e.exports=function e(t,r,n){function i(o,s){if(!r[o]){if(!t[o]){if(!s&&v)return v();if(a)return a(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var l=r[o]={exports:{}};t[o][0].call(l.exports,(function(e){return i(t[o][1][e]||e)}),l,l.exports,e,t,r,n)}return r[o].exports}for(var a=v,o=0;o<n.length;o++)i(n[o]);return i}({1:[function(e,t,r){var n={},i=Object.create,a=Object.defineProperties,o=Object.defineProperty,s=function(e){var t=void 0===arguments[1]?{}:arguments[1];return{value:e,configurable:!!t.c,writable:!!t.w,enumerable:!!t.e}},u=void 0;try{var l=o({},"y",{get:function(){return 1}});u=1===l.y}catch(e){u=!1}var c={},h=function(e){e=String(e);for(var t="",r=0;c[e+t];)t=r+=1;c[e+t]=1;var n="Symbol("+e+t+")";return u&&o(Object.prototype,n,{get:void 0,set:function(e){o(this,n,s(e,{c:!0,w:!0}))},configurable:!0,enumerable:!1}),n},f=i(null);function p(e){if(this instanceof p)throw new TypeError("Symbol is not a constructor");e=void 0===e?"":String(e);var t=h(e);return u?i(f,{__description__:s(e),__tag__:s(t)}):t}a(p,{for:s((function(e){var t=String(e);if(n[t])return n[t];var r=p(t);return n[t]=r,r})),keyFor:s((function(e){if(u&&(!(t=e)||"Symbol"!==t[p.toStringTag]))throw new TypeError(e+" is not a symbol");var t;for(var r in n)if(n[r]===e)return u?n[r].__description__:n[r].substr(7,n[r].length-8)}))}),a(p,{hasInstance:s(p("hasInstance")),isConcatSpreadable:s(p("isConcatSpreadable")),iterator:s(p("iterator")),match:s(p("match")),replace:s(p("replace")),search:s(p("search")),species:s(p("species")),split:s(p("split")),toPrimitive:s(p("toPrimitive")),toStringTag:s(p("toStringTag")),unscopables:s(p("unscopables"))}),a(f,{constructor:s(p),toString:s((function(){return this.__tag__})),valueOf:s((function(){return"Symbol("+this.__description__+")"}))}),u&&o(f,p.toStringTag,s("Symbol",{c:!0})),t.exports="function"==typeof Symbol?Symbol:p},{}],2:[function(e,t,r){function n(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function i(){}i.prototype._events=void 0,i.prototype.listeners=function(e){if(!this._events||!this._events[e])return[];if(this._events[e].fn)return[this._events[e].fn];for(var t=0,r=this._events[e].length,n=new Array(r);t<r;t++)n[t]=this._events[e][t].fn;return n},i.prototype.emit=function(e,t,r,n,i,a){if(!this._events||!this._events[e])return!1;var o,s,u=this._events[e],l=arguments.length;if("function"==typeof u.fn){switch(u.once&&this.removeListener(e,u.fn,!0),l){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,n),!0;case 5:return u.fn.call(u.context,t,r,n,i),!0;case 6:return u.fn.call(u.context,t,r,n,i,a),!0}for(s=1,o=new Array(l-1);s<l;s++)o[s-1]=arguments[s];u.fn.apply(u.context,o)}else{var c,h=u.length;for(s=0;s<h;s++)switch(u[s].once&&this.removeListener(e,u[s].fn,!0),l){case 1:u[s].fn.call(u[s].context);break;case 2:u[s].fn.call(u[s].context,t);break;case 3:u[s].fn.call(u[s].context,t,r);break;default:if(!o)for(c=1,o=new Array(l-1);c<l;c++)o[c-1]=arguments[c];u[s].fn.apply(u[s].context,o)}}return!0},i.prototype.on=function(e,t,r){var i=new n(t,r||this);return this._events||(this._events={}),this._events[e]?this._events[e].fn?this._events[e]=[this._events[e],i]:this._events[e].push(i):this._events[e]=i,this},i.prototype.once=function(e,t,r){var i=new n(t,r||this,!0);return this._events||(this._events={}),this._events[e]?this._events[e].fn?this._events[e]=[this._events[e],i]:this._events[e].push(i):this._events[e]=i,this},i.prototype.removeListener=function(e,t,r){if(!this._events||!this._events[e])return this;var n=this._events[e],i=[];if(t&&(n.fn&&(n.fn!==t||r&&!n.once)&&i.push(n),!n.fn))for(var a=0,o=n.length;a<o;a++)(n[a].fn!==t||r&&!n[a].once)&&i.push(n[a]);return i.length?this._events[e]=1===i.length?i[0]:i:delete this._events[e],this},i.prototype.removeAllListeners=function(e){return this._events?(e?delete this._events[e]:this._events={},this):this},i.prototype.off=i.prototype.removeListener,i.prototype.addListener=i.prototype.on,i.prototype.setMaxListeners=function(){return this},i.EventEmitter=i,i.EventEmitter2=i,i.EventEmitter3=i,t.exports=i},{}],3:[function(e,t,r){t.exports.Dispatcher=e("./lib/Dispatcher")},{"./lib/Dispatcher":4}],4:[function(e,t,r){var n=e("./invariant"),i=1;function a(){this.$Dispatcher_callbacks={},this.$Dispatcher_isPending={},this.$Dispatcher_isHandled={},this.$Dispatcher_isDispatching=!1,this.$Dispatcher_pendingPayload=null}a.prototype.register=function(e){var t="ID_"+i++;return this.$Dispatcher_callbacks[t]=e,t},a.prototype.unregister=function(e){n(this.$Dispatcher_callbacks[e],"Dispatcher.unregister(...): `%s` does not map to a registered callback.",e),delete this.$Dispatcher_callbacks[e]},a.prototype.waitFor=function(e){n(this.$Dispatcher_isDispatching,"Dispatcher.waitFor(...): Must be invoked while dispatching.");for(var t=0;t<e.length;t++){var r=e[t];this.$Dispatcher_isPending[r]?n(this.$Dispatcher_isHandled[r],"Dispatcher.waitFor(...): Circular dependency detected while waiting for `%s`.",r):(n(this.$Dispatcher_callbacks[r],"Dispatcher.waitFor(...): `%s` does not map to a registered callback.",r),this.$Dispatcher_invokeCallback(r))}},a.prototype.dispatch=function(e){n(!this.$Dispatcher_isDispatching,"Dispatch.dispatch(...): Cannot dispatch in the middle of a dispatch."),this.$Dispatcher_startDispatching(e);try{for(var t in this.$Dispatcher_callbacks)this.$Dispatcher_isPending[t]||this.$Dispatcher_invokeCallback(t)}finally{this.$Dispatcher_stopDispatching()}},a.prototype.isDispatching=function(){return this.$Dispatcher_isDispatching},a.prototype.$Dispatcher_invokeCallback=function(e){this.$Dispatcher_isPending[e]=!0,this.$Dispatcher_callbacks[e](this.$Dispatcher_pendingPayload),this.$Dispatcher_isHandled[e]=!0},a.prototype.$Dispatcher_startDispatching=function(e){for(var t in this.$Dispatcher_callbacks)this.$Dispatcher_isPending[t]=!1,this.$Dispatcher_isHandled[t]=!1;this.$Dispatcher_pendingPayload=e,this.$Dispatcher_isDispatching=!0},a.prototype.$Dispatcher_stopDispatching=function(){this.$Dispatcher_pendingPayload=null,this.$Dispatcher_isDispatching=!1},t.exports=a},{"./invariant":5}],5:[function(e,t,r){t.exports=function(e,t,r,n,i,a,o,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[r,n,i,a,o,s],c=0;u=new Error("Invariant Violation: "+t.replace(/%s/g,(function(){return l[c++]})))}throw u.framesToPop=1,u}}},{}],6:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}r.default=function(e,t,r,n,i){var a=u.uid(e[s.ACTIONS_REGISTRY],t+"."+r);e[s.ACTIONS_REGISTRY][a]=1;var c=o.default.for("alt/"+a),h={namespace:t,name:r,id:a,symbol:c},f=new l(e,c,n,i,h),p=f[s.ACTION_HANDLER];p.defer=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];setTimeout((function(){f[s.ACTION_HANDLER].apply(null,t)}))},p[s.ACTION_KEY]=c,p.data=h;var d=e.actions[t];return d[u.uid(d,r)]=p,p};var a,o=(a=e("es-symbol"))&&a.__esModule?a:{default:a},s=i(e("../symbols/symbols")),u=i(e("../utils/AltUtils")),l=function(){function e(t,r,n,i,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this[s.ACTION_UID]=r,this[s.ACTION_HANDLER]=n.bind(this),this.actions=i,this.actionDetails=a,this.alt=t}return n(e,[{key:"dispatch",value:function(e){this.alt.dispatch(this[s.ACTION_UID],e,this.actionDetails)}}]),e}();t.exports=r.default},{"../symbols/symbols":10,"../utils/AltUtils":11,"es-symbol":1}],7:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}var o=a(e("eventemitter3")),s=a(e("es-symbol")),u=i(e("../symbols/symbols")),l=i(e("../../utils/functions")),c=(0,s.default)(),h=function(){function e(t,r,n,i){var a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this[c]=new o.default,this[u.LIFECYCLE]=r[u.LIFECYCLE],this[u.STATE_CONTAINER]=n||r,this._storeName=r._storeName,this.boundListeners=r[u.ALL_LISTENERS],this.StoreModel=i,l.assign(this,r[u.PUBLIC_METHODS]),this.dispatchToken=t.dispatcher.register((function(e){if(a[u.LIFECYCLE].emit("beforeEach",e,a[u.STATE_CONTAINER]),r[u.LISTENERS][e.action]){var t=!1;try{t=r[u.LISTENERS][e.action](e.data)}catch(t){if(!r[u.HANDLING_ERRORS])throw t;a[u.LIFECYCLE].emit("error",t,e,a[u.STATE_CONTAINER])}!1!==t&&a.emitChange()}a[u.LIFECYCLE].emit("afterEach",e,a[u.STATE_CONTAINER])})),this[u.LIFECYCLE].emit("init")}return n(e,[{key:"getEventEmitter",value:function(){return this[c]}},{key:"emitChange",value:function(){this[c].emit("change",this[u.STATE_CONTAINER])}},{key:"listen",value:function(e){var t=this;return this[c].on("change",e),function(){return t.unlisten(e)}}},{key:"unlisten",value:function(e){this[u.LIFECYCLE].emit("unlisten"),this[c].removeListener("change",e)}},{key:"getState",value:function(){return this.StoreModel.config.getState.call(this,this[u.STATE_CONTAINER])}}]),e}();r.default=h,t.exports=r.default},{"../../utils/functions":13,"../symbols/symbols":10,"es-symbol":1,eventemitter3:2}],8:[function(e,t,r){function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}Object.defineProperty(r,"__esModule",{value:!0});var i,a=(i=e("es-symbol"))&&i.__esModule?i:{default:i},o=n(e("../symbols/symbols")),s=n(e("../../utils/functions")),u={waitFor:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(!t.length)throw new ReferenceError("Dispatch tokens not provided");var n=t;1===t.length&&(n=Array.isArray(t[0])?t[0]:t);var i=n.map((function(e){return e.dispatchToken||e}));this.dispatcher.waitFor(i)},exportAsync:function(e){this.registerAsync(e)},registerAsync:function(e){var t=this,r=0,n=s.isFunction(e)?e(this.alt):e,i=Object.keys(n).reduce((function(e,i){var a=n[i],u=s.isFunction(a)?a(t):a;return["success","error","loading"].forEach((function(e){if(u[e]&&!u[e][o.ACTION_KEY])throw new Error(e+" handler must be an action function")})),e[i]=function(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];var a=t.getInstance().getState(),o=u.local&&u.local.apply(u,[a].concat(n)),s=u.shouldFetch?u.shouldFetch.apply(u,[a].concat(n)):!o,l=u.interceptResponse||function(e){return e};s?(r+=1,u.loading&&u.loading(l(null,u.loading)),u.remote.apply(u,[a].concat(n)).then((function(e){r-=1,u.success(l(e,u.success))})).catch((function(e){r-=1,u.error(l(e,u.error))}))):t.emitChange()},e}),{});this.exportPublicMethods(i),this.exportPublicMethods({isLoading:function(){return r>0}})},exportPublicMethods:function(e){var t=this;s.eachObject((function(e,r){if(!s.isFunction(r))throw new TypeError("exportPublicMethods expects a function");t[o.PUBLIC_METHODS][e]=r}),[e])},emitChange:function(){this.getInstance().emitChange()},on:function(e,t){"error"===e&&(this[o.HANDLING_ERRORS]=!0),this[o.LIFECYCLE].on(e,t.bind(this))},bindAction:function(e,t){if(!e)throw new ReferenceError("Invalid action reference passed in");if(!s.isFunction(t))throw new TypeError("bindAction expects a function");if(t.length>1)throw new TypeError("Action handler in store "+this._storeName+" for "+(e[o.ACTION_KEY]||e).toString()+" was defined with two parameters. Only a single parameter is passed through the dispatcher, did you mean to pass in an Object instead?");var r=e[o.ACTION_KEY]?e[o.ACTION_KEY]:e;this[o.LISTENERS][r]=t.bind(this),this[o.ALL_LISTENERS].push(a.default.keyFor(r))},bindActions:function(e){var t=this;s.eachObject((function(e,r){var n=e.replace(/./,(function(e){return"on"+e[0].toUpperCase()})),i=null;if(t[e]&&t[n])throw new ReferenceError("You have multiple action handlers bound to an action: "+e+" and "+n);t[e]?i=t[e]:t[n]&&(i=t[n]),i&&t.bindAction(r,i)}),[e])},bindListeners:function(e){var t=this;s.eachObject((function(e,r){var n=t[e];if(!n)throw new ReferenceError(e+" defined but does not exist in "+t._storeName);Array.isArray(r)?r.forEach((function(e){t.bindAction(e,n)})):t.bindAction(r,n)}),[e])}};r.default=u,t.exports=r.default},{"../../utils/functions":13,"../symbols/symbols":10,"es-symbol":1}],9:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=Function.prototype.bind,i=function(e,t,r){for(var n=!0;n;){var i=e,a=t,o=r;l=u=void 0,n=!1;var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(o)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=a,r=o,n=!0}};function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}r.createStoreConfig=function(e,t){t.config=c.assign({getState:function(e){return c.assign({},e)},setState:c.assign},e,t.config)},r.transformStore=function(e,t){return e.reduce((function(e,t){return t(e)}),t)},r.createStoreFromObject=function(e,t,r){var n=void 0,i=d({},e,r,c.assign({getInstance:function(){return n},setState:function(e){p(this,n,e)}},t));return i.bindListeners&&f.default.bindListeners.call(i,i.bindListeners),i.lifecycle&&c.eachObject((function(e,t){f.default.on.call(i,e,t)}),[i.lifecycle]),n=c.assign(new h.default(e,i,i.state,t),i.publicMethods,{displayName:r})},r.createStoreFromClass=function(e,t,r){for(var a=arguments.length,o=Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];var u=void 0,f=t.config,m=function(e){function t(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}(t,e),t}(t);d(m.prototype,e,r,{getInstance:function(){return u},setState:function(e){p(this,u,e)}});var v=new(n.apply(m,[null].concat(o)));return f.bindListeners&&v.bindListeners(f.bindListeners),f.datasource&&v.exportAsync(f.datasource),u=c.assign(new h.default(e,v,v[e.config.stateKey]||v[f.stateKey]||null,t),l.getInternalMethods(t),f.publicMethods,{displayName:r})};var s=o(e("eventemitter3")),u=a(e("../symbols/symbols")),l=a(e("../utils/AltUtils")),c=a(e("../../utils/functions")),h=o(e("./AltStore")),f=o(e("./StoreMixin"));function p(e,t,r){if(r){var n=t.StoreModel.config,i=c.isFunction(r)?r(t[u.STATE_CONTAINER]):r;t[u.STATE_CONTAINER]=n.setState.call(e,t[u.STATE_CONTAINER],i),e.alt.dispatcher.isDispatching()||e.emitChange()}}function d(e,t,r,n){return e[u.ALL_LISTENERS]=[],e[u.LIFECYCLE]=new s.default,e[u.LISTENERS]={},e[u.PUBLIC_METHODS]={},c.assign(e,f.default,{_storeName:r,alt:t,dispatcher:t.dispatcher},n)}},{"../../utils/functions":13,"../symbols/symbols":10,"../utils/AltUtils":11,"./AltStore":7,"./StoreMixin":8,eventemitter3:2}],10:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n,i=(n=e("es-symbol"))&&n.__esModule?n:{default:n},a=(0,i.default)();r.ACTION_HANDLER=a;var o=(0,i.default)();r.ACTION_KEY=o;var s=(0,i.default)();r.ACTIONS_REGISTRY=s;var u=(0,i.default)();r.ACTION_UID=u;var l=(0,i.default)();r.ALL_LISTENERS=l;var c=(0,i.default)();r.HANDLING_ERRORS=c;var h=(0,i.default)();r.INIT_SNAPSHOT=h;var f=(0,i.default)();r.LAST_SNAPSHOT=f;var p=(0,i.default)();r.LIFECYCLE=p;var d=(0,i.default)();r.LISTENERS=d;var m=(0,i.default)();r.PUBLIC_METHODS=m;var v=(0,i.default)();r.STATE_CONTAINER=v},{"es-symbol":1}],11:[function(e,t,r){function n(){}Object.defineProperty(r,"__esModule",{value:!0}),r.getInternalMethods=function(e,t){var r=t?a:i,n=t?e.prototype:e;return Object.getOwnPropertyNames(n).reduce((function(e,t){return-1!==r.indexOf(t)||(e[t]=n[t]),e}),{})},r.warn=function(e){"undefined"!=typeof console&&console.warn(new ReferenceError(e))},r.uid=function(e,t){for(var r=0,n=t;Object.hasOwnProperty.call(e,n);)n=t+String(++r);return n},r.formatAsConstant=function(e){return e.replace(/[a-z]([A-Z])/g,(function(e){return e[0]+"_"+e[1].toLowerCase()})).toUpperCase()},r.dispatchIdentity=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];this.dispatch(r.length?[e].concat(r):e)};var i=Object.getOwnPropertyNames(n),a=Object.getOwnPropertyNames(n.prototype)},{}],12:[function(e,t,r){function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}Object.defineProperty(r,"__esModule",{value:!0}),r.setAppState=function(e,t,r){var n=e.deserialize(t);a.eachObject((function(t,o){var s,u,l=e.stores[t];l&&(s=l.StoreModel.config,u=l[i.STATE_CONTAINER],s.onDeserialize&&(n[t]=s.onDeserialize(o)||o),a.eachObject((function(e){return delete u[e]}),[u]),a.assign(u,n[t]),r(l))}),[n])},r.snapshot=function(e){var t=void 0===arguments[1]?[]:arguments[1];return(t.length?t:Object.keys(e.stores)).reduce((function(t,r){var n=r.displayName||r,a=e.stores[n],o=a.StoreModel.config;a[i.LIFECYCLE].emit("snapshot");var s=o.onSerialize&&o.onSerialize(a[i.STATE_CONTAINER]);return t[n]=s||a.getState(),t}),{})},r.saveInitialSnapshot=function(e,t){var r=e.deserialize(e.serialize(e.stores[t][i.STATE_CONTAINER]));e[i.INIT_SNAPSHOT][t]=r,e[i.LAST_SNAPSHOT][t]=r},r.filterSnapshots=function(e,t,r){return r.reduce((function(e,r){var n=r.displayName||r;if(!t[n])throw new ReferenceError(n+" is not a valid store");return e[n]=t[n],e}),{})};var i=n(e("../symbols/symbols")),a=n(e("../../utils/functions"))},{"../../utils/functions":13,"../symbols/symbols":10}],13:[function(e,t,r){function n(e,t){t.forEach((function(t){Object.keys(Object(t)).forEach((function(r){e(r,t[r])}))}))}Object.defineProperty(r,"__esModule",{value:!0}),r.eachObject=n,r.assign=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return n((function(t,r){return e[t]=r}),r),e},r.isFunction=function(e){return"function"==typeof e}},{}],14:[function(e,t,r){Object.defineProperty(r,"__esModule",{value:!0});var n=Function.prototype.bind,i=function(e,t,r){for(var n=!0;n;){var i=e,a=t,o=r;l=u=void 0,n=!1;var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(o)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=a,r=o,n=!0}},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var u,l=e("flux"),c=o(e("./utils/StateFunctions")),h=o(e("./symbols/symbols")),f=o(e("../utils/functions")),p=o(e("./store")),d=o(e("./utils/AltUtils")),m=(u=e("./actions"))&&u.__esModule?u:{default:u},v=function(){function e(){var t=void 0===arguments[0]?{}:arguments[0];s(this,e),this.config=t,this.serialize=t.serialize||JSON.stringify,this.deserialize=t.deserialize||JSON.parse,this.dispatcher=t.dispatcher||new l.Dispatcher,this.actions={global:{}},this.stores={},this.storeTransforms=t.storeTransforms||[],this[h.ACTIONS_REGISTRY]={},this[h.INIT_SNAPSHOT]={},this[h.LAST_SNAPSHOT]={}}return a(e,[{key:"dispatch",value:function(e,t,r){this.dispatcher.dispatch({action:e,data:t,details:r})}},{key:"createUnsavedStore",value:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i=e.displayName||"";p.createStoreConfig(this.config,e);var a=p.transformStore(this.storeTransforms,e);return f.isFunction(a)?p.createStoreFromClass.apply(p,[this,a,i].concat(r)):p.createStoreFromObject(this,a,i)}},{key:"createStore",value:function(e,t){for(var r=arguments.length,n=Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];var a=t||e.displayName||e.name||"";p.createStoreConfig(this.config,e);var o=p.transformStore(this.storeTransforms,e);!this.stores[a]&&a||(this.stores[a]?d.warn("A store named "+a+" already exists, double check your store names or pass in your own custom identifier for each store"):d.warn("Store name was not specified"),a=d.uid(this.stores,a));var s=f.isFunction(o)?p.createStoreFromClass.apply(p,[this,o,a].concat(n)):p.createStoreFromObject(this,o,a);return this.stores[a]=s,c.saveInitialSnapshot(this,a),s}},{key:"generateActions",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.createActions(t.reduce((function(e,t){return e[t]=d.dispatchIdentity,e}),{name:"global"}))}},{key:"createAction",value:function(e,t,r){return(0,m.default)(this,"global",e,t,r)}},{key:"createActions",value:function(e){for(var t=arguments.length,r=Array(t>2?t-2:0),o=2;o<t;o++)r[o-2]=arguments[o];var u=this,l=void 0===arguments[1]?{}:arguments[1],c={},p=d.uid(this[h.ACTIONS_REGISTRY],e.displayName||e.name||"Unknown");return f.isFunction(e)?function(){f.assign(c,d.getInternalMethods(e,!0));var t=function(t){function r(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];s(this,r),i(Object.getPrototypeOf(r.prototype),"constructor",this).apply(this,t)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}(r,e),a(r,[{key:"generateActions",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];t.forEach((function(e){c[e]=d.dispatchIdentity}))}}]),r}();f.assign(c,new(n.apply(t,[null].concat(r))))}():f.assign(c,e),this.actions[p]=this.actions[p]||{},f.eachObject((function(e,t){if(f.isFunction(t)){l[e]=(0,m.default)(u,p,e,t,l);var r=d.formatAsConstant(e);l[r]=l[e][h.ACTION_KEY]}}),[c]),l}},{key:"takeSnapshot",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=c.snapshot(this,t);return f.assign(this[h.LAST_SNAPSHOT],n),this.serialize(n)}},{key:"rollback",value:function(){c.setAppState(this,this.serialize(this[h.LAST_SNAPSHOT]),(function(e){e[h.LIFECYCLE].emit("rollback"),e.emitChange()}))}},{key:"recycle",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.length?c.filterSnapshots(this,this[h.INIT_SNAPSHOT],t):this[h.INIT_SNAPSHOT];c.setAppState(this,this.serialize(n),(function(e){e[h.LIFECYCLE].emit("init"),e.emitChange()}))}},{key:"flush",value:function(){var e=this.serialize(c.snapshot(this));return this.recycle(),e}},{key:"bootstrap",value:function(e){c.setAppState(this,e,(function(e){e[h.LIFECYCLE].emit("bootstrap"),e.emitChange()}))}},{key:"prepare",value:function(e,t){var r={};if(!e.displayName)throw new ReferenceError("Store provided does not have a name");return r[e.displayName]=t,this.serialize(r)}},{key:"addActions",value:function(e,t){for(var r=arguments.length,n=Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];this.actions[e]=Array.isArray(t)?this.generateActions.apply(this,t):this.createActions.apply(this,[t].concat(n))}},{key:"addStore",value:function(e,t){for(var r=arguments.length,n=Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];this.createStore.apply(this,[t,e].concat(n))}},{key:"getActions",value:function(e){return this.actions[e]}},{key:"getStore",value:function(e){return this.stores[e]}}]),e}();r.default=v,t.exports=r.default},{"../utils/functions":13,"./actions":6,"./store":9,"./symbols/symbols":10,"./utils/AltUtils":11,"./utils/StateFunctions":12,flux:3}]},{},[14])(14)}))));y.serialize=function(){return""},y.deserialize=function(){return""},void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Number.isInteger&&(Number.isInteger=function(e){return"number"===typeof e&&isFinite(e)&&Math.floor(e)===e}),void 0===Math.sign&&(Math.sign=function(e){return e<0?-1:e>0?1:+e}),"name"in Function.prototype===!1&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===Object.assign&&(Object.assign=function(e){if(void 0===e||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1;r<arguments.length;r++){var n=arguments[r];if(void 0!==n&&null!==n)for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t});var b={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},x={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},w=100,_=1e3,T=1001,E=1002,S=1003,M=1004,A=1005,C=1006,R=1008,O=1009,k=1012,P=1014,L=1015,z=1016,D=1020,N=1022,I=1023,F=1026,U=1027,B=33776,j=33777,H=33778,V=33779,G=35840,W=35841,q=35842,X=35843,Y=37492,Z=37496,K=2400,Q=2401,J=2402,$=3e3,ee=7680,te=35044,re=35048;function ne(){}Object.assign(ne.prototype,{addEventListener:function(e,t){void 0===this._listeners&&(this._listeners={});var r=this._listeners;void 0===r[e]&&(r[e]=[]),-1===r[e].indexOf(t)&&r[e].push(t)},hasEventListener:function(e,t){if(void 0===this._listeners)return!1;var r=this._listeners;return void 0!==r[e]&&-1!==r[e].indexOf(t)},removeEventListener:function(e,t){if(void 0!==this._listeners){var r=this._listeners[e];if(void 0!==r){var n=r.indexOf(t);-1!==n&&r.splice(n,1)}}},dispatchEvent:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var r=t.slice(0),n=0,i=r.length;n<i;n++)r[n].call(this,e)}}}});for(var ie=[],ae=0;ae<256;ae++)ie[ae]=(ae<16?"0":"")+ae.toString(16);var oe,se={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,r=4294967295*Math.random()|0,n=4294967295*Math.random()|0;return(ie[255&e]+ie[e>>8&255]+ie[e>>16&255]+ie[e>>24&255]+"-"+ie[255&t]+ie[t>>8&255]+"-"+ie[t>>16&15|64]+ie[t>>24&255]+"-"+ie[63&r|128]+ie[r>>8&255]+"-"+ie[r>>16&255]+ie[r>>24&255]+ie[255&n]+ie[n>>8&255]+ie[n>>16&255]+ie[n>>24&255]).toUpperCase()},clamp:function(e,t,r){return Math.max(t,Math.min(r,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,r,n,i){return n+(e-t)*(i-n)/(r-t)},lerp:function(e,t,r){return(1-r)*e+r*t},smoothstep:function(e,t,r){return e<=t?0:e>=r?1:(e=(e-t)/(r-t))*e*(3-2*e)},smootherstep:function(e,t,r){return e<=t?0:e>=r?1:(e=(e-t)/(r-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},degToRad:function(e){return e*se.DEG2RAD},radToDeg:function(e){return e*se.RAD2DEG},isPowerOfTwo:function(e){return 0===(e&e-1)&&0!==e},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))},setQuaternionFromProperEuler:function(e,t,r,n,i){var a=Math.cos,o=Math.sin,s=a(r/2),u=o(r/2),l=a((t+n)/2),c=o((t+n)/2),h=a((t-n)/2),f=o((t-n)/2),p=a((n-t)/2),d=o((n-t)/2);"XYX"===i?e.set(s*c,u*h,u*f,s*l):"YZY"===i?e.set(u*f,s*c,u*h,s*l):"ZXZ"===i?e.set(u*h,u*f,s*c,s*l):"XZX"===i?e.set(s*c,u*d,u*p,s*l):"YXY"===i?e.set(u*p,s*c,u*d,s*l):"ZYZ"===i?e.set(u*d,u*p,s*c,s*l):console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order.")}};function ue(e,t){this.x=e||0,this.y=t||0}function le(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}Object.defineProperties(ue.prototype,{width:{get:function(){return this.x},set:function(e){this.x=e}},height:{get:function(){return this.y},set:function(e){this.y=e}}}),Object.assign(ue.prototype,{isVector2:!0,set:function(e,t){return this.x=e,this.y=t,this},setScalar:function(e){return this.x=e,this.y=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(e){return this.x=e.x,this.y=e.y,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)},addScalar:function(e){return this.x+=e,this.y+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)},subScalar:function(e){return this.x-=e,this.y-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this},divide:function(e){return this.x/=e.x,this.y/=e.y,this},divideScalar:function(e){return this.multiplyScalar(1/e)},applyMatrix3:function(e){var t=this.x,r=this.y,n=e.elements;return this.x=n[0]*t+n[3]*r+n[6],this.y=n[1]*t+n[4]*r+n[7],this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this},clampLength:function(e,t){var r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(e){return this.x*e.x+this.y*e.y},cross:function(e){return this.x*e.y-this.y*e.x},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var e=Math.atan2(-this.y,-this.x)+Math.PI;return e},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,r=this.y-e.y;return t*t+r*r},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},lerpVectors:function(e,t,r){return this.subVectors(t,e).multiplyScalar(r).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e},fromBufferAttribute:function(e,t,r){return void 0!==r&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this},rotateAround:function(e,t){var r=Math.cos(t),n=Math.sin(t),i=this.x-e.x,a=this.y-e.y;return this.x=i*r-a*n+e.x,this.y=i*n+a*r+e.y,this}}),Object.assign(le.prototype,{isMatrix3:!0,set:function(e,t,r,n,i,a,o,s,u){var l=this.elements;return l[0]=e,l[1]=n,l[2]=o,l[3]=t,l[4]=i,l[5]=s,l[6]=r,l[7]=a,l[8]=u,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(e){var t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this},extractBasis:function(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this},setFromMatrix4:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this},multiply:function(e){return this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var r=e.elements,n=t.elements,i=this.elements,a=r[0],o=r[3],s=r[6],u=r[1],l=r[4],c=r[7],h=r[2],f=r[5],p=r[8],d=n[0],m=n[3],v=n[6],g=n[1],y=n[4],b=n[7],x=n[2],w=n[5],_=n[8];return i[0]=a*d+o*g+s*x,i[3]=a*m+o*y+s*w,i[6]=a*v+o*b+s*_,i[1]=u*d+l*g+c*x,i[4]=u*m+l*y+c*w,i[7]=u*v+l*b+c*_,i[2]=h*d+f*g+p*x,i[5]=h*m+f*y+p*w,i[8]=h*v+f*b+p*_,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this},determinant:function(){var e=this.elements,t=e[0],r=e[1],n=e[2],i=e[3],a=e[4],o=e[5],s=e[6],u=e[7],l=e[8];return t*a*l-t*o*u-r*i*l+r*o*s+n*i*u-n*a*s},getInverse:function(e,t){e&&e.isMatrix4&&console.error("THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.");var r=e.elements,n=this.elements,i=r[0],a=r[1],o=r[2],s=r[3],u=r[4],l=r[5],c=r[6],h=r[7],f=r[8],p=f*u-l*h,d=l*c-f*s,m=h*s-u*c,v=i*p+a*d+o*m;if(0===v){var g="THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0";if(!0===t)throw new Error(g);return console.warn(g),this.identity()}var y=1/v;return n[0]=p*y,n[1]=(o*h-f*a)*y,n[2]=(l*a-o*u)*y,n[3]=d*y,n[4]=(f*i-o*c)*y,n[5]=(o*s-l*i)*y,n[6]=m*y,n[7]=(a*c-h*i)*y,n[8]=(u*i-a*s)*y,this},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this},getNormalMatrix:function(e){return this.setFromMatrix4(e).getInverse(this).transpose()},transposeIntoArray:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this},setUvTransform:function(e,t,r,n,i,a,o){var s=Math.cos(i),u=Math.sin(i);this.set(r*s,r*u,-r*(s*a+u*o)+a+e,-n*u,n*s,-n*(-u*a+s*o)+o+t,0,0,1)},scale:function(e,t){var r=this.elements;return r[0]*=e,r[3]*=e,r[6]*=e,r[1]*=t,r[4]*=t,r[7]*=t,this},rotate:function(e){var t=Math.cos(e),r=Math.sin(e),n=this.elements,i=n[0],a=n[3],o=n[6],s=n[1],u=n[4],l=n[7];return n[0]=t*i+r*s,n[3]=t*a+r*u,n[6]=t*o+r*l,n[1]=-r*i+t*s,n[4]=-r*a+t*u,n[7]=-r*o+t*l,this},translate:function(e,t){var r=this.elements;return r[0]+=e*r[2],r[3]+=e*r[5],r[6]+=e*r[8],r[1]+=t*r[2],r[4]+=t*r[5],r[7]+=t*r[8],this},equals:function(e){for(var t=this.elements,r=e.elements,n=0;n<9;n++)if(t[n]!==r[n])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var r=0;r<9;r++)this.elements[r]=e[r+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}});var ce={getDataURL:function(e){var t;if("undefined"==typeof HTMLCanvasElement)return e.src;if(e instanceof HTMLCanvasElement)t=e;else{void 0===oe&&(oe=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),oe.width=e.width,oe.height=e.height;var r=oe.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=oe}return t.width>2048||t.height>2048?t.toDataURL("image/jpeg",.6):t.toDataURL("image/png")}},he=0;function fe(e,t,r,n,i,a,o,s,u,l){Object.defineProperty(this,"id",{value:he++}),this.uuid=se.generateUUID(),this.name="",this.image=void 0!==e?e:fe.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==t?t:fe.DEFAULT_MAPPING,this.wrapS=void 0!==r?r:T,this.wrapT=void 0!==n?n:T,this.magFilter=void 0!==i?i:C,this.minFilter=void 0!==a?a:R,this.anisotropy=void 0!==u?u:1,this.format=void 0!==o?o:I,this.internalFormat=null,this.type=void 0!==s?s:O,this.offset=new ue(0,0),this.repeat=new ue(1,1),this.center=new ue(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new le,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==l?l:$,this.version=0,this.onUpdate=null}function pe(e,t,r,n){this.x=e||0,this.y=t||0,this.z=r||0,this.w=void 0!==n?n:1}function de(e,t,r){this.width=e,this.height=t,this.scissor=new pe(0,0,e,t),this.scissorTest=!1,this.viewport=new pe(0,0,e,t),r=r||{},this.texture=new fe(void 0,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.image={},this.texture.image.width=e,this.texture.image.height=t,this.texture.generateMipmaps=void 0!==r.generateMipmaps&&r.generateMipmaps,this.texture.minFilter=void 0!==r.minFilter?r.minFilter:C,this.depthBuffer=void 0===r.depthBuffer||r.depthBuffer,this.stencilBuffer=void 0===r.stencilBuffer||r.stencilBuffer,this.depthTexture=void 0!==r.depthTexture?r.depthTexture:null}function me(e,t,r){de.call(this,e,t,r),this.samples=4}function ve(e,t,r,n){this._x=e||0,this._y=t||0,this._z=r||0,this._w=void 0!==n?n:1}fe.DEFAULT_IMAGE=void 0,fe.DEFAULT_MAPPING=300,fe.prototype=Object.assign(Object.create(ne.prototype),{constructor:fe,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this},toJSON:function(e){var t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];var r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){var n=this.image;if(void 0===n.uuid&&(n.uuid=se.generateUUID()),!t&&void 0===e.images[n.uuid]){var i;if(Array.isArray(n)){i=[];for(var a=0,o=n.length;a<o;a++)i.push(ce.getDataURL(n[a]))}else i=ce.getDataURL(n);e.images[n.uuid]={uuid:n.uuid,url:i}}r.image=n.uuid}return t||(e.textures[this.uuid]=r),r},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(e){if(300!==this.mapping)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case _:e.x=e.x-Math.floor(e.x);break;case T:e.x=e.x<0?0:1;break;case E:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case _:e.y=e.y-Math.floor(e.y);break;case T:e.y=e.y<0?0:1;break;case E:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}}),Object.defineProperty(fe.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.defineProperties(pe.prototype,{width:{get:function(){return this.z},set:function(e){this.z=e}},height:{get:function(){return this.w},set:function(e){this.w=e}}}),Object.assign(pe.prototype,{isVector4:!0,set:function(e,t,r,n){return this.x=e,this.y=t,this.z=r,this.w=n,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setW:function(e){return this.w=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this},applyMatrix4:function(e){var t=this.x,r=this.y,n=this.z,i=this.w,a=e.elements;return this.x=a[0]*t+a[4]*r+a[8]*n+a[12]*i,this.y=a[1]*t+a[5]*r+a[9]*n+a[13]*i,this.z=a[2]*t+a[6]*r+a[10]*n+a[14]*i,this.w=a[3]*t+a[7]*r+a[11]*n+a[15]*i,this},divideScalar:function(e){return this.multiplyScalar(1/e)},setAxisAngleFromQuaternion:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this},setAxisAngleFromRotationMatrix:function(e){var t,r,n,i,a=.01,o=.1,s=e.elements,u=s[0],l=s[4],c=s[8],h=s[1],f=s[5],p=s[9],d=s[2],m=s[6],v=s[10];if(Math.abs(l-h)<a&&Math.abs(c-d)<a&&Math.abs(p-m)<a){if(Math.abs(l+h)<o&&Math.abs(c+d)<o&&Math.abs(p+m)<o&&Math.abs(u+f+v-3)<o)return this.set(1,0,0,0),this;t=Math.PI;var g=(u+1)/2,y=(f+1)/2,b=(v+1)/2,x=(l+h)/4,w=(c+d)/4,_=(p+m)/4;return g>y&&g>b?g<a?(r=0,n=.707106781,i=.707106781):(n=x/(r=Math.sqrt(g)),i=w/r):y>b?y<a?(r=.707106781,n=0,i=.707106781):(r=x/(n=Math.sqrt(y)),i=_/n):b<a?(r=.707106781,n=.707106781,i=0):(r=w/(i=Math.sqrt(b)),n=_/i),this.set(r,n,i,t),this}var T=Math.sqrt((m-p)*(m-p)+(c-d)*(c-d)+(h-l)*(h-l));return Math.abs(T)<.001&&(T=1),this.x=(m-p)/T,this.y=(c-d)/T,this.z=(h-l)/T,this.w=Math.acos((u+f+v-1)/2),this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this},clampLength:function(e,t){var r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this},lerpVectors:function(e,t,r){return this.subVectors(t,e).multiplyScalar(r).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e},fromBufferAttribute:function(e,t,r){return void 0!==r&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}}),de.prototype=Object.assign(Object.create(ne.prototype),{constructor:de,isWebGLRenderTarget:!0,setSize:function(e,t){this.width===e&&this.height===t||(this.width=e,this.height=t,this.texture.image.width=e,this.texture.image.height=t,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.width=e.width,this.height=e.height,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),me.prototype=Object.assign(Object.create(de.prototype),{constructor:me,isWebGLMultisampleRenderTarget:!0,copy:function(e){return de.prototype.copy.call(this,e),this.samples=e.samples,this}}),Object.assign(ve,{slerp:function(e,t,r,n){return r.copy(e).slerp(t,n)},slerpFlat:function(e,t,r,n,i,a,o){var s=r[n+0],u=r[n+1],l=r[n+2],c=r[n+3],h=i[a+0],f=i[a+1],p=i[a+2],d=i[a+3];if(c!==d||s!==h||u!==f||l!==p){var m=1-o,v=s*h+u*f+l*p+c*d,g=v>=0?1:-1,y=1-v*v;if(y>Number.EPSILON){var b=Math.sqrt(y),x=Math.atan2(b,v*g);m=Math.sin(m*x)/b,o=Math.sin(o*x)/b}var w=o*g;if(s=s*m+h*w,u=u*m+f*w,l=l*m+p*w,c=c*m+d*w,m===1-o){var _=1/Math.sqrt(s*s+u*u+l*l+c*c);s*=_,u*=_,l*=_,c*=_}}e[t]=s,e[t+1]=u,e[t+2]=l,e[t+3]=c}}),Object.defineProperties(ve.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},w:{get:function(){return this._w},set:function(e){this._w=e,this._onChangeCallback()}}}),Object.assign(ve.prototype,{isQuaternion:!0,set:function(e,t,r,n){return this._x=e,this._y=t,this._z=r,this._w=n,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this},setFromEuler:function(e,t){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var r=e._x,n=e._y,i=e._z,a=e.order,o=Math.cos,s=Math.sin,u=o(r/2),l=o(n/2),c=o(i/2),h=s(r/2),f=s(n/2),p=s(i/2);return"XYZ"===a?(this._x=h*l*c+u*f*p,this._y=u*f*c-h*l*p,this._z=u*l*p+h*f*c,this._w=u*l*c-h*f*p):"YXZ"===a?(this._x=h*l*c+u*f*p,this._y=u*f*c-h*l*p,this._z=u*l*p-h*f*c,this._w=u*l*c+h*f*p):"ZXY"===a?(this._x=h*l*c-u*f*p,this._y=u*f*c+h*l*p,this._z=u*l*p+h*f*c,this._w=u*l*c-h*f*p):"ZYX"===a?(this._x=h*l*c-u*f*p,this._y=u*f*c+h*l*p,this._z=u*l*p-h*f*c,this._w=u*l*c+h*f*p):"YZX"===a?(this._x=h*l*c+u*f*p,this._y=u*f*c+h*l*p,this._z=u*l*p-h*f*c,this._w=u*l*c-h*f*p):"XZY"===a&&(this._x=h*l*c-u*f*p,this._y=u*f*c-h*l*p,this._z=u*l*p+h*f*c,this._w=u*l*c+h*f*p),!1!==t&&this._onChangeCallback(),this},setFromAxisAngle:function(e,t){var r=t/2,n=Math.sin(r);return this._x=e.x*n,this._y=e.y*n,this._z=e.z*n,this._w=Math.cos(r),this._onChangeCallback(),this},setFromRotationMatrix:function(e){var t,r=e.elements,n=r[0],i=r[4],a=r[8],o=r[1],s=r[5],u=r[9],l=r[2],c=r[6],h=r[10],f=n+s+h;return f>0?(t=.5/Math.sqrt(f+1),this._w=.25/t,this._x=(c-u)*t,this._y=(a-l)*t,this._z=(o-i)*t):n>s&&n>h?(t=2*Math.sqrt(1+n-s-h),this._w=(c-u)/t,this._x=.25*t,this._y=(i+o)/t,this._z=(a+l)/t):s>h?(t=2*Math.sqrt(1+s-n-h),this._w=(a-l)/t,this._x=(i+o)/t,this._y=.25*t,this._z=(u+c)/t):(t=2*Math.sqrt(1+h-n-s),this._w=(o-i)/t,this._x=(a+l)/t,this._y=(u+c)/t,this._z=.25*t),this._onChangeCallback(),this},setFromUnitVectors:function(e,t){var r=e.dot(t)+1;return r<1e-6?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()},angleTo:function(e){return 2*Math.acos(Math.abs(se.clamp(this.dot(e),-1,1)))},rotateTowards:function(e,t){var r=this.angleTo(e);if(0===r)return this;var n=Math.min(1,t/r);return this.slerp(e,n),this},inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this},dot:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)},premultiply:function(e){return this.multiplyQuaternions(e,this)},multiplyQuaternions:function(e,t){var r=e._x,n=e._y,i=e._z,a=e._w,o=t._x,s=t._y,u=t._z,l=t._w;return this._x=r*l+a*o+n*u-i*s,this._y=n*l+a*s+i*o-r*u,this._z=i*l+a*u+r*s-n*o,this._w=a*l-r*o-n*s-i*u,this._onChangeCallback(),this},slerp:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var r=this._x,n=this._y,i=this._z,a=this._w,o=a*e._w+r*e._x+n*e._y+i*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=r,this._y=n,this._z=i,this;var s=1-o*o;if(s<=Number.EPSILON){var u=1-t;return this._w=u*a+t*this._w,this._x=u*r+t*this._x,this._y=u*n+t*this._y,this._z=u*i+t*this._z,this.normalize(),this._onChangeCallback(),this}var l=Math.sqrt(s),c=Math.atan2(l,o),h=Math.sin((1-t)*c)/l,f=Math.sin(t*c)/l;return this._w=a*h+this._w*f,this._x=r*h+this._x*f,this._y=n*h+this._y*f,this._z=i*h+this._z*f,this._onChangeCallback(),this},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w},fromArray:function(e,t){return void 0===t&&(t=0),this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e},_onChange:function(e){return this._onChangeCallback=e,this},_onChangeCallback:function(){}});var ge=new be,ye=new ve;function be(e,t,r){this.x=e||0,this.y=t||0,this.z=r||0}Object.assign(be.prototype,{isVector3:!0,set:function(e,t,r){return this.x=e,this.y=t,this.z=r,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this},multiplyVectors:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this},applyEuler:function(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(ye.setFromEuler(e))},applyAxisAngle:function(e,t){return this.applyQuaternion(ye.setFromAxisAngle(e,t))},applyMatrix3:function(e){var t=this.x,r=this.y,n=this.z,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6]*n,this.y=i[1]*t+i[4]*r+i[7]*n,this.z=i[2]*t+i[5]*r+i[8]*n,this},applyNormalMatrix:function(e){return this.applyMatrix3(e).normalize()},applyMatrix4:function(e){var t=this.x,r=this.y,n=this.z,i=e.elements,a=1/(i[3]*t+i[7]*r+i[11]*n+i[15]);return this.x=(i[0]*t+i[4]*r+i[8]*n+i[12])*a,this.y=(i[1]*t+i[5]*r+i[9]*n+i[13])*a,this.z=(i[2]*t+i[6]*r+i[10]*n+i[14])*a,this},applyQuaternion:function(e){var t=this.x,r=this.y,n=this.z,i=e.x,a=e.y,o=e.z,s=e.w,u=s*t+a*n-o*r,l=s*r+o*t-i*n,c=s*n+i*r-a*t,h=-i*t-a*r-o*n;return this.x=u*s+h*-i+l*-o-c*-a,this.y=l*s+h*-a+c*-i-u*-o,this.z=c*s+h*-o+u*-a-l*-i,this},project:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)},unproject:function(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)},transformDirection:function(e){var t=this.x,r=this.y,n=this.z,i=e.elements;return this.x=i[0]*t+i[4]*r+i[8]*n,this.y=i[1]*t+i[5]*r+i[9]*n,this.z=i[2]*t+i[6]*r+i[10]*n,this.normalize()},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this},divideScalar:function(e){return this.multiplyScalar(1/e)},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this},clampLength:function(e,t){var r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this},lerpVectors:function(e,t,r){return this.subVectors(t,e).multiplyScalar(r).add(e)},cross:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)},crossVectors:function(e,t){var r=e.x,n=e.y,i=e.z,a=t.x,o=t.y,s=t.z;return this.x=n*s-i*o,this.y=i*a-r*s,this.z=r*o-n*a,this},projectOnVector:function(e){var t=e.lengthSq();if(0===t)return this.set(0,0,0);var r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)},projectOnPlane:function(e){return ge.copy(this).projectOnVector(e),this.sub(ge)},reflect:function(e){return this.sub(ge.copy(e).multiplyScalar(2*this.dot(e)))},angleTo:function(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;var r=this.dot(e)/t;return Math.acos(se.clamp(r,-1,1))},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,r=this.y-e.y,n=this.z-e.z;return t*t+r*r+n*n},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)},setFromSpherical:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)},setFromSphericalCoords:function(e,t,r){var n=Math.sin(t)*e;return this.x=n*Math.sin(r),this.y=Math.cos(t)*e,this.z=n*Math.cos(r),this},setFromCylindrical:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)},setFromCylindricalCoords:function(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this},setFromMatrixPosition:function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this},setFromMatrixScale:function(e){var t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),n=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=n,this},setFromMatrixColumn:function(e,t){return this.fromArray(e.elements,4*t)},setFromMatrix3Column:function(e,t){return this.fromArray(e.elements,3*t)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e},fromBufferAttribute:function(e,t,r){return void 0!==r&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}});var xe=new be,we=new Ae,_e=new be(0,0,0),Te=new be(1,1,1),Ee=new be,Se=new be,Me=new be;function Ae(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}Object.assign(Ae.prototype,{isMatrix4:!0,set:function(e,t,r,n,i,a,o,s,u,l,c,h,f,p,d,m){var v=this.elements;return v[0]=e,v[4]=t,v[8]=r,v[12]=n,v[1]=i,v[5]=a,v[9]=o,v[13]=s,v[2]=u,v[6]=l,v[10]=c,v[14]=h,v[3]=f,v[7]=p,v[11]=d,v[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new Ae).fromArray(this.elements)},copy:function(e){var t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this},copyPosition:function(e){var t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this},extractBasis:function(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this},makeBasis:function(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this},extractRotation:function(e){var t=this.elements,r=e.elements,n=1/xe.setFromMatrixColumn(e,0).length(),i=1/xe.setFromMatrixColumn(e,1).length(),a=1/xe.setFromMatrixColumn(e,2).length();return t[0]=r[0]*n,t[1]=r[1]*n,t[2]=r[2]*n,t[3]=0,t[4]=r[4]*i,t[5]=r[5]*i,t[6]=r[6]*i,t[7]=0,t[8]=r[8]*a,t[9]=r[9]*a,t[10]=r[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromEuler:function(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var t=this.elements,r=e.x,n=e.y,i=e.z,a=Math.cos(r),o=Math.sin(r),s=Math.cos(n),u=Math.sin(n),l=Math.cos(i),c=Math.sin(i);if("XYZ"===e.order){var h=a*l,f=a*c,p=o*l,d=o*c;t[0]=s*l,t[4]=-s*c,t[8]=u,t[1]=f+p*u,t[5]=h-d*u,t[9]=-o*s,t[2]=d-h*u,t[6]=p+f*u,t[10]=a*s}else if("YXZ"===e.order){var m=s*l,v=s*c,g=u*l,y=u*c;t[0]=m+y*o,t[4]=g*o-v,t[8]=a*u,t[1]=a*c,t[5]=a*l,t[9]=-o,t[2]=v*o-g,t[6]=y+m*o,t[10]=a*s}else if("ZXY"===e.order){m=s*l,v=s*c,g=u*l,y=u*c;t[0]=m-y*o,t[4]=-a*c,t[8]=g+v*o,t[1]=v+g*o,t[5]=a*l,t[9]=y-m*o,t[2]=-a*u,t[6]=o,t[10]=a*s}else if("ZYX"===e.order){h=a*l,f=a*c,p=o*l,d=o*c;t[0]=s*l,t[4]=p*u-f,t[8]=h*u+d,t[1]=s*c,t[5]=d*u+h,t[9]=f*u-p,t[2]=-u,t[6]=o*s,t[10]=a*s}else if("YZX"===e.order){var b=a*s,x=a*u,w=o*s,_=o*u;t[0]=s*l,t[4]=_-b*c,t[8]=w*c+x,t[1]=c,t[5]=a*l,t[9]=-o*l,t[2]=-u*l,t[6]=x*c+w,t[10]=b-_*c}else if("XZY"===e.order){b=a*s,x=a*u,w=o*s,_=o*u;t[0]=s*l,t[4]=-c,t[8]=u*l,t[1]=b*c+_,t[5]=a*l,t[9]=x*c-w,t[2]=w*c-x,t[6]=o*l,t[10]=_*c+b}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromQuaternion:function(e){return this.compose(_e,e,Te)},lookAt:function(e,t,r){var n=this.elements;return Me.subVectors(e,t),0===Me.lengthSq()&&(Me.z=1),Me.normalize(),Ee.crossVectors(r,Me),0===Ee.lengthSq()&&(1===Math.abs(r.z)?Me.x+=1e-4:Me.z+=1e-4,Me.normalize(),Ee.crossVectors(r,Me)),Ee.normalize(),Se.crossVectors(Me,Ee),n[0]=Ee.x,n[4]=Se.x,n[8]=Me.x,n[1]=Ee.y,n[5]=Se.y,n[9]=Me.y,n[2]=Ee.z,n[6]=Se.z,n[10]=Me.z,this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var r=e.elements,n=t.elements,i=this.elements,a=r[0],o=r[4],s=r[8],u=r[12],l=r[1],c=r[5],h=r[9],f=r[13],p=r[2],d=r[6],m=r[10],v=r[14],g=r[3],y=r[7],b=r[11],x=r[15],w=n[0],_=n[4],T=n[8],E=n[12],S=n[1],M=n[5],A=n[9],C=n[13],R=n[2],O=n[6],k=n[10],P=n[14],L=n[3],z=n[7],D=n[11],N=n[15];return i[0]=a*w+o*S+s*R+u*L,i[4]=a*_+o*M+s*O+u*z,i[8]=a*T+o*A+s*k+u*D,i[12]=a*E+o*C+s*P+u*N,i[1]=l*w+c*S+h*R+f*L,i[5]=l*_+c*M+h*O+f*z,i[9]=l*T+c*A+h*k+f*D,i[13]=l*E+c*C+h*P+f*N,i[2]=p*w+d*S+m*R+v*L,i[6]=p*_+d*M+m*O+v*z,i[10]=p*T+d*A+m*k+v*D,i[14]=p*E+d*C+m*P+v*N,i[3]=g*w+y*S+b*R+x*L,i[7]=g*_+y*M+b*O+x*z,i[11]=g*T+y*A+b*k+x*D,i[15]=g*E+y*C+b*P+x*N,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},determinant:function(){var e=this.elements,t=e[0],r=e[4],n=e[8],i=e[12],a=e[1],o=e[5],s=e[9],u=e[13],l=e[2],c=e[6],h=e[10],f=e[14];return e[3]*(+i*s*c-n*u*c-i*o*h+r*u*h+n*o*f-r*s*f)+e[7]*(+t*s*f-t*u*h+i*a*h-n*a*f+n*u*l-i*s*l)+e[11]*(+t*u*c-t*o*f-i*a*c+r*a*f+i*o*l-r*u*l)+e[15]*(-n*o*l-t*s*c+t*o*h+n*a*c-r*a*h+r*s*l)},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this},setPosition:function(e,t,r){var n=this.elements;return e.isVector3?(n[12]=e.x,n[13]=e.y,n[14]=e.z):(n[12]=e,n[13]=t,n[14]=r),this},getInverse:function(e,t){var r=this.elements,n=e.elements,i=n[0],a=n[1],o=n[2],s=n[3],u=n[4],l=n[5],c=n[6],h=n[7],f=n[8],p=n[9],d=n[10],m=n[11],v=n[12],g=n[13],y=n[14],b=n[15],x=p*y*h-g*d*h+g*c*m-l*y*m-p*c*b+l*d*b,w=v*d*h-f*y*h-v*c*m+u*y*m+f*c*b-u*d*b,_=f*g*h-v*p*h+v*l*m-u*g*m-f*l*b+u*p*b,T=v*p*c-f*g*c-v*l*d+u*g*d+f*l*y-u*p*y,E=i*x+a*w+o*_+s*T;if(0===E){var S="THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0";if(!0===t)throw new Error(S);return console.warn(S),this.identity()}var M=1/E;return r[0]=x*M,r[1]=(g*d*s-p*y*s-g*o*m+a*y*m+p*o*b-a*d*b)*M,r[2]=(l*y*s-g*c*s+g*o*h-a*y*h-l*o*b+a*c*b)*M,r[3]=(p*c*s-l*d*s-p*o*h+a*d*h+l*o*m-a*c*m)*M,r[4]=w*M,r[5]=(f*y*s-v*d*s+v*o*m-i*y*m-f*o*b+i*d*b)*M,r[6]=(v*c*s-u*y*s-v*o*h+i*y*h+u*o*b-i*c*b)*M,r[7]=(u*d*s-f*c*s+f*o*h-i*d*h-u*o*m+i*c*m)*M,r[8]=_*M,r[9]=(v*p*s-f*g*s-v*a*m+i*g*m+f*a*b-i*p*b)*M,r[10]=(u*g*s-v*l*s+v*a*h-i*g*h-u*a*b+i*l*b)*M,r[11]=(f*l*s-u*p*s-f*a*h+i*p*h+u*a*m-i*l*m)*M,r[12]=T*M,r[13]=(f*g*o-v*p*o+v*a*d-i*g*d-f*a*y+i*p*y)*M,r[14]=(v*l*o-u*g*o-v*a*c+i*g*c+u*a*y-i*l*y)*M,r[15]=(u*p*o-f*l*o+f*a*c-i*p*c-u*a*d+i*l*d)*M,this},scale:function(e){var t=this.elements,r=e.x,n=e.y,i=e.z;return t[0]*=r,t[4]*=n,t[8]*=i,t[1]*=r,t[5]*=n,t[9]*=i,t[2]*=r,t[6]*=n,t[10]*=i,t[3]*=r,t[7]*=n,t[11]*=i,this},getMaxScaleOnAxis:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],n=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,n))},makeTranslation:function(e,t,r){return this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this},makeRotationX:function(e){var t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this},makeRotationY:function(e){var t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this},makeRotationZ:function(e){var t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(e,t){var r=Math.cos(t),n=Math.sin(t),i=1-r,a=e.x,o=e.y,s=e.z,u=i*a,l=i*o;return this.set(u*a+r,u*o-n*s,u*s+n*o,0,u*o+n*s,l*o+r,l*s-n*a,0,u*s-n*o,l*s+n*a,i*s*s+r,0,0,0,0,1),this},makeScale:function(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this},makeShear:function(e,t,r){return this.set(1,t,r,0,e,1,r,0,e,t,1,0,0,0,0,1),this},compose:function(e,t,r){var n=this.elements,i=t._x,a=t._y,o=t._z,s=t._w,u=i+i,l=a+a,c=o+o,h=i*u,f=i*l,p=i*c,d=a*l,m=a*c,v=o*c,g=s*u,y=s*l,b=s*c,x=r.x,w=r.y,_=r.z;return n[0]=(1-(d+v))*x,n[1]=(f+b)*x,n[2]=(p-y)*x,n[3]=0,n[4]=(f-b)*w,n[5]=(1-(h+v))*w,n[6]=(m+g)*w,n[7]=0,n[8]=(p+y)*_,n[9]=(m-g)*_,n[10]=(1-(h+d))*_,n[11]=0,n[12]=e.x,n[13]=e.y,n[14]=e.z,n[15]=1,this},decompose:function(e,t,r){var n=this.elements,i=xe.set(n[0],n[1],n[2]).length(),a=xe.set(n[4],n[5],n[6]).length(),o=xe.set(n[8],n[9],n[10]).length();this.determinant()<0&&(i=-i),e.x=n[12],e.y=n[13],e.z=n[14],we.copy(this);var s=1/i,u=1/a,l=1/o;return we.elements[0]*=s,we.elements[1]*=s,we.elements[2]*=s,we.elements[4]*=u,we.elements[5]*=u,we.elements[6]*=u,we.elements[8]*=l,we.elements[9]*=l,we.elements[10]*=l,t.setFromRotationMatrix(we),r.x=i,r.y=a,r.z=o,this},makePerspective:function(e,t,r,n,i,a){void 0===a&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var o=this.elements,s=2*i/(t-e),u=2*i/(r-n),l=(t+e)/(t-e),c=(r+n)/(r-n),h=-(a+i)/(a-i),f=-2*a*i/(a-i);return o[0]=s,o[4]=0,o[8]=l,o[12]=0,o[1]=0,o[5]=u,o[9]=c,o[13]=0,o[2]=0,o[6]=0,o[10]=h,o[14]=f,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this},makeOrthographic:function(e,t,r,n,i,a){var o=this.elements,s=1/(t-e),u=1/(r-n),l=1/(a-i),c=(t+e)*s,h=(r+n)*u,f=(a+i)*l;return o[0]=2*s,o[4]=0,o[8]=0,o[12]=-c,o[1]=0,o[5]=2*u,o[9]=0,o[13]=-h,o[2]=0,o[6]=0,o[10]=-2*l,o[14]=-f,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this},equals:function(e){for(var t=this.elements,r=e.elements,n=0;n<16;n++)if(t[n]!==r[n])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var r=0;r<16;r++)this.elements[r]=e[r+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}});var Ce=new Ae,Re=new ve;function Oe(e,t,r,n){this._x=e||0,this._y=t||0,this._z=r||0,this._order=n||Oe.DefaultOrder}function ke(){this.mask=1}Oe.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],Oe.DefaultOrder="XYZ",Object.defineProperties(Oe.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},order:{get:function(){return this._order},set:function(e){this._order=e,this._onChangeCallback()}}}),Object.assign(Oe.prototype,{isEuler:!0,set:function(e,t,r,n){return this._x=e,this._y=t,this._z=r,this._order=n||this._order,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this},setFromRotationMatrix:function(e,t,r){var n=se.clamp,i=e.elements,a=i[0],o=i[4],s=i[8],u=i[1],l=i[5],c=i[9],h=i[2],f=i[6],p=i[10];return"XYZ"===(t=t||this._order)?(this._y=Math.asin(n(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-c,p),this._z=Math.atan2(-o,a)):(this._x=Math.atan2(f,l),this._z=0)):"YXZ"===t?(this._x=Math.asin(-n(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(s,p),this._z=Math.atan2(u,l)):(this._y=Math.atan2(-h,a),this._z=0)):"ZXY"===t?(this._x=Math.asin(n(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-h,p),this._z=Math.atan2(-o,l)):(this._y=0,this._z=Math.atan2(u,a))):"ZYX"===t?(this._y=Math.asin(-n(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(f,p),this._z=Math.atan2(u,a)):(this._x=0,this._z=Math.atan2(-o,l))):"YZX"===t?(this._z=Math.asin(n(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-c,l),this._y=Math.atan2(-h,a)):(this._x=0,this._y=Math.atan2(s,p))):"XZY"===t?(this._z=Math.asin(-n(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(f,l),this._y=Math.atan2(s,a)):(this._x=Math.atan2(-c,p),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+t),this._order=t,!1!==r&&this._onChangeCallback(),this},setFromQuaternion:function(e,t,r){return Ce.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Ce,t,r)},setFromVector3:function(e,t){return this.set(e.x,e.y,e.z,t||this._order)},reorder:function(e){return Re.setFromEuler(this),this.setFromQuaternion(Re,e)},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order},fromArray:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e},toVector3:function(e){return e?e.set(this._x,this._y,this._z):new be(this._x,this._y,this._z)},_onChange:function(e){return this._onChangeCallback=e,this},_onChangeCallback:function(){}}),Object.assign(ke.prototype,{set:function(e){this.mask=1<<e|0},enable:function(e){this.mask|=1<<e|0},enableAll:function(){this.mask=-1},toggle:function(e){this.mask^=1<<e|0},disable:function(e){this.mask&=~(1<<e|0)},disableAll:function(){this.mask=0},test:function(e){return 0!==(this.mask&e.mask)}});var Pe=0,Le=new be,ze=new ve,De=new Ae,Ne=new be,Ie=new be,Fe=new be,Ue=new ve,Be=new be(1,0,0),je=new be(0,1,0),He=new be(0,0,1),Ve={type:"added"},Ge={type:"removed"};function We(){Object.defineProperty(this,"id",{value:Pe++}),this.uuid=se.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=We.DefaultUp.clone();var e=new be,t=new Oe,r=new ve,n=new be(1,1,1);t._onChange((function(){r.setFromEuler(t,!1)})),r._onChange((function(){t.setFromQuaternion(r,void 0,!1)})),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:n},modelViewMatrix:{value:new Ae},normalMatrix:{value:new le}}),this.matrix=new Ae,this.matrixWorld=new Ae,this.matrixAutoUpdate=We.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new ke,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}function qe(){We.call(this),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}We.DefaultUp=new be(0,1,0),We.DefaultMatrixAutoUpdate=!0,We.prototype=Object.assign(Object.create(ne.prototype),{constructor:We,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix4:function(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(e){return this.quaternion.premultiply(e),this},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:function(e,t){return ze.setFromAxisAngle(e,t),this.quaternion.multiply(ze),this},rotateOnWorldAxis:function(e,t){return ze.setFromAxisAngle(e,t),this.quaternion.premultiply(ze),this},rotateX:function(e){return this.rotateOnAxis(Be,e)},rotateY:function(e){return this.rotateOnAxis(je,e)},rotateZ:function(e){return this.rotateOnAxis(He,e)},translateOnAxis:function(e,t){return Le.copy(e).applyQuaternion(this.quaternion),this.position.add(Le.multiplyScalar(t)),this},translateX:function(e){return this.translateOnAxis(Be,e)},translateY:function(e){return this.translateOnAxis(je,e)},translateZ:function(e){return this.translateOnAxis(He,e)},localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(e){return e.applyMatrix4(De.getInverse(this.matrixWorld))},lookAt:function(e,t,r){e.isVector3?Ne.copy(e):Ne.set(e,t,r);var n=this.parent;this.updateWorldMatrix(!0,!1),Ie.setFromMatrixPosition(this.matrixWorld),this.isCamera?De.lookAt(Ie,Ne,this.up):De.lookAt(Ne,Ie,this.up),this.quaternion.setFromRotationMatrix(De),n&&(De.extractRotation(n.matrixWorld),ze.setFromRotationMatrix(De),this.quaternion.premultiply(ze.inverse()))},add:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(Ve)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)},remove:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}var r=this.children.indexOf(e);return-1!==r&&(e.parent=null,this.children.splice(r,1),e.dispatchEvent(Ge)),this},attach:function(e){return this.updateWorldMatrix(!0,!1),De.getInverse(this.matrixWorld),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),De.multiply(e.parent.matrixWorld)),e.applyMatrix4(De),e.updateWorldMatrix(!1,!1),this.add(e),this},getObjectById:function(e){return this.getObjectByProperty("id",e)},getObjectByName:function(e){return this.getObjectByProperty("name",e)},getObjectByProperty:function(e,t){if(this[e]===t)return this;for(var r=0,n=this.children.length;r<n;r++){var i=this.children[r].getObjectByProperty(e,t);if(void 0!==i)return i}},getWorldPosition:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),e=new be),this.updateMatrixWorld(!0),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),e=new ve),this.updateMatrixWorld(!0),this.matrixWorld.decompose(Ie,e,Fe),e},getWorldScale:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),e=new be),this.updateMatrixWorld(!0),this.matrixWorld.decompose(Ie,Ue,e),e},getWorldDirection:function(e){void 0===e&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),e=new be),this.updateMatrixWorld(!0);var t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()},raycast:function(){},traverse:function(e){e(this);for(var t=this.children,r=0,n=t.length;r<n;r++)t[r].traverse(e)},traverseVisible:function(e){if(!1!==this.visible){e(this);for(var t=this.children,r=0,n=t.length;r<n;r++)t[r].traverseVisible(e)}},traverseAncestors:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,r=0,n=t.length;r<n;r++)t[r].updateMatrixWorld(e)},updateWorldMatrix:function(e,t){var r=this.parent;if(!0===e&&null!==r&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t)for(var n=this.children,i=0,a=n.length;i<a;i++)n[i].updateWorldMatrix(!1,!0)},toJSON:function(e){var t=void 0===e||"string"===typeof e,r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var n={};function i(t,r){return void 0===t[r.uuid]&&(t[r.uuid]=r.toJSON(e)),r.uuid}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),!0===this.castShadow&&(n.castShadow=!0),!0===this.receiveShadow&&(n.receiveShadow=!0),!1===this.visible&&(n.visible=!1),!1===this.frustumCulled&&(n.frustumCulled=!1),0!==this.renderOrder&&(n.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),n.layers=this.layers.mask,n.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(n.matrixAutoUpdate=!1),this.isMesh){n.geometry=i(e.geometries,this.geometry);var a=this.geometry.parameters;if(void 0!==a&&void 0!==a.shapes){var o=a.shapes;if(Array.isArray(o))for(var s=0,u=o.length;s<u;s++){var l=o[s];i(e.shapes,l)}else i(e.shapes,o)}}if(void 0!==this.material)if(Array.isArray(this.material)){var c=[];for(s=0,u=this.material.length;s<u;s++)c.push(i(e.materials,this.material[s]));n.material=c}else n.material=i(e.materials,this.material);if(this.children.length>0){n.children=[];for(s=0;s<this.children.length;s++)n.children.push(this.children[s].toJSON(e).object)}if(t){var h=m(e.geometries),f=m(e.materials),p=m(e.textures),d=m(e.images);o=m(e.shapes);h.length>0&&(r.geometries=h),f.length>0&&(r.materials=f),p.length>0&&(r.textures=p),d.length>0&&(r.images=d),o.length>0&&(r.shapes=o)}return r.object=n,r;function m(e){var t=[];for(var r in e){var n=e[r];delete n.metadata,t.push(n)}return t}},clone:function(e){return(new this.constructor).copy(this,e)},copy:function(e,t){if(void 0===t&&(t=!0),this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var r=0;r<e.children.length;r++){var n=e.children[r];this.add(n.clone())}return this}}),qe.prototype=Object.assign(Object.create(We.prototype),{constructor:qe,isScene:!0,copy:function(e,t){return We.prototype.copy.call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this},toJSON:function(e){var t=We.prototype.toJSON.call(this,e);return null!==this.background&&(t.object.background=this.background.toJSON(e)),null!==this.environment&&(t.object.environment=this.environment.toJSON(e)),null!==this.fog&&(t.object.fog=this.fog.toJSON()),t},dispose:function(){this.dispatchEvent({type:"dispose"})}});var Xe=[new be,new be,new be,new be,new be,new be,new be,new be],Ye=new be,Ze=new ot,Ke=new be,Qe=new be,Je=new be,$e=new be,et=new be,tt=new be,rt=new be,nt=new be,it=new be,at=new be;function ot(e,t){this.min=void 0!==e?e:new be(1/0,1/0,1/0),this.max=void 0!==t?t:new be(-1/0,-1/0,-1/0)}function st(e,t,r,n,i){var a,o;for(a=0,o=e.length-3;a<=o;a+=3){at.fromArray(e,a);var s=i.x*Math.abs(at.x)+i.y*Math.abs(at.y)+i.z*Math.abs(at.z),u=t.dot(at),l=r.dot(at),c=n.dot(at);if(Math.max(-Math.max(u,l,c),Math.min(u,l,c))>s)return!1}return!0}Object.assign(ot.prototype,{isBox3:!0,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromArray:function(e){for(var t=1/0,r=1/0,n=1/0,i=-1/0,a=-1/0,o=-1/0,s=0,u=e.length;s<u;s+=3){var l=e[s],c=e[s+1],h=e[s+2];l<t&&(t=l),c<r&&(r=c),h<n&&(n=h),l>i&&(i=l),c>a&&(a=c),h>o&&(o=h)}return this.min.set(t,r,n),this.max.set(i,a,o),this},setFromBufferAttribute:function(e){for(var t=1/0,r=1/0,n=1/0,i=-1/0,a=-1/0,o=-1/0,s=0,u=e.count;s<u;s++){var l=e.getX(s),c=e.getY(s),h=e.getZ(s);l<t&&(t=l),c<r&&(r=c),h<n&&(n=h),l>i&&(i=l),c>a&&(a=c),h>o&&(o=h)}return this.min.set(t,r,n),this.max.set(i,a,o),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(e,t){var r=Ye.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this},setFromObject:function(e){return this.makeEmpty(),this.expandByObject(e)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(e){return void 0===e&&(console.warn("THREE.Box3: .getCenter() target is now required"),e=new be),this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return void 0===e&&(console.warn("THREE.Box3: .getSize() target is now required"),e=new be),this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},expandByObject:function(e){e.updateWorldMatrix(!1,!1);var t=e.geometry;void 0!==t&&(null===t.boundingBox&&t.computeBoundingBox(),Ze.copy(t.boundingBox),Ze.applyMatrix4(e.matrixWorld),this.union(Ze));for(var r=e.children,n=0,i=r.length;n<i;n++)this.expandByObject(r[n]);return this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z},getParameter:function(e,t){return void 0===t&&(console.warn("THREE.Box3: .getParameter() target is now required"),t=new be),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)},intersectsSphere:function(e){return this.clampPoint(e.center,Ye),Ye.distanceToSquared(e.center)<=e.radius*e.radius},intersectsPlane:function(e){var t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant},intersectsTriangle:function(e){if(this.isEmpty())return!1;this.getCenter(rt),nt.subVectors(this.max,rt),Ke.subVectors(e.a,rt),Qe.subVectors(e.b,rt),Je.subVectors(e.c,rt),$e.subVectors(Qe,Ke),et.subVectors(Je,Qe),tt.subVectors(Ke,Je);var t=[0,-$e.z,$e.y,0,-et.z,et.y,0,-tt.z,tt.y,$e.z,0,-$e.x,et.z,0,-et.x,tt.z,0,-tt.x,-$e.y,$e.x,0,-et.y,et.x,0,-tt.y,tt.x,0];return!!st(t,Ke,Qe,Je,nt)&&(!!st(t=[1,0,0,0,1,0,0,0,1],Ke,Qe,Je,nt)&&(it.crossVectors($e,et),st(t=[it.x,it.y,it.z],Ke,Qe,Je,nt)))},clampPoint:function(e,t){return void 0===t&&(console.warn("THREE.Box3: .clampPoint() target is now required"),t=new be),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(e){return Ye.copy(e).clamp(this.min,this.max).sub(e).length()},getBoundingSphere:function(e){return void 0===e&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(e.center),e.radius=.5*this.getSize(Ye).length(),e},intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},applyMatrix4:function(e){return this.isEmpty()||(Xe[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Xe[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Xe[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Xe[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Xe[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Xe[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Xe[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Xe[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Xe)),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}});var ut=new ot;function lt(e,t){this.center=void 0!==e?e:new be,this.radius=void 0!==t?t:0}function ct(){}Object.assign(lt.prototype,{set:function(e,t){return this.center.copy(e),this.radius=t,this},setFromPoints:function(e,t){var r=this.center;void 0!==t?r.copy(t):ut.setFromPoints(e).getCenter(r);for(var n=0,i=0,a=e.length;i<a;i++)n=Math.max(n,r.distanceToSquared(e[i]));return this.radius=Math.sqrt(n),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.center.copy(e.center),this.radius=e.radius,this},empty:function(){return this.radius<=0},containsPoint:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(e){return e.distanceTo(this.center)-this.radius},intersectsSphere:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t},intersectsBox:function(e){return e.intersectsSphere(this)},intersectsPlane:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius},clampPoint:function(e,t){var r=this.center.distanceToSquared(e);return void 0===t&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),t=new be),t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t},getBoundingBox:function(e){return void 0===e&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),e=new ot),e.set(this.center,this.center),e.expandByScalar(this.radius),e},applyMatrix4:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this},translate:function(e){return this.center.add(e),this},equals:function(e){return e.center.equals(this.center)&&e.radius===this.radius}});var ht=new be,ft=new be,pt=new le;function dt(e,t){this.normal=void 0!==e?e:new be(1,0,0),this.constant=void 0!==t?t:0}Object.assign(dt.prototype,{isPlane:!0,set:function(e,t){return this.normal.copy(e),this.constant=t,this},setComponents:function(e,t,r,n){return this.normal.set(e,t,r),this.constant=n,this},setFromNormalAndCoplanarPoint:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this},setFromCoplanarPoints:function(e,t,r){var n=ht.subVectors(r,t).cross(ft.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(n,e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this},normalize:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(e){return this.normal.dot(e)+this.constant},distanceToSphere:function(e){return this.distanceToPoint(e.center)-e.radius},projectPoint:function(e,t){return void 0===t&&(console.warn("THREE.Plane: .projectPoint() target is now required"),t=new be),t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)},intersectLine:function(e,t){void 0===t&&(console.warn("THREE.Plane: .intersectLine() target is now required"),t=new be);var r=e.delta(ht),n=this.normal.dot(r);if(0===n)return 0===this.distanceToPoint(e.start)?t.copy(e.start):void 0;var i=-(e.start.dot(this.normal)+this.constant)/n;return i<0||i>1?void 0:t.copy(r).multiplyScalar(i).add(e.start)},intersectsLine:function(e){var t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0},intersectsBox:function(e){return e.intersectsPlane(this)},intersectsSphere:function(e){return e.intersectsPlane(this)},coplanarPoint:function(e){return void 0===e&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),e=new be),e.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(e,t){var r=t||pt.getNormalMatrix(e),n=this.coplanarPoint(ht).applyMatrix4(e),i=this.normal.applyMatrix3(r).normalize();return this.constant=-n.dot(i),this},translate:function(e){return this.constant-=e.dot(this.normal),this},equals:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}});var mt=new be,vt=new be,gt=new be,yt=new be,bt=new be,xt=new be,wt=new be,_t=new be,Tt=new be,Et=new be;function St(e,t,r){this.a=void 0!==e?e:new be,this.b=void 0!==t?t:new be,this.c=void 0!==r?r:new be}Object.assign(St,{getNormal:function(e,t,r,n){void 0===n&&(console.warn("THREE.Triangle: .getNormal() target is now required"),n=new be),n.subVectors(r,t),mt.subVectors(e,t),n.cross(mt);var i=n.lengthSq();return i>0?n.multiplyScalar(1/Math.sqrt(i)):n.set(0,0,0)},getBarycoord:function(e,t,r,n,i){mt.subVectors(n,t),vt.subVectors(r,t),gt.subVectors(e,t);var a=mt.dot(mt),o=mt.dot(vt),s=mt.dot(gt),u=vt.dot(vt),l=vt.dot(gt),c=a*u-o*o;if(void 0===i&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),i=new be),0===c)return i.set(-2,-1,-1);var h=1/c,f=(u*s-o*l)*h,p=(a*l-o*s)*h;return i.set(1-f-p,p,f)},containsPoint:function(e,t,r,n){return St.getBarycoord(e,t,r,n,yt),yt.x>=0&&yt.y>=0&&yt.x+yt.y<=1},getUV:function(e,t,r,n,i,a,o,s){return this.getBarycoord(e,t,r,n,yt),s.set(0,0),s.addScaledVector(i,yt.x),s.addScaledVector(a,yt.y),s.addScaledVector(o,yt.z),s},isFrontFacing:function(e,t,r,n){return mt.subVectors(r,t),vt.subVectors(e,t),mt.cross(vt).dot(n)<0}}),Object.assign(St.prototype,{set:function(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this},setFromPointsAndIndices:function(e,t,r,n){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[n]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this},getArea:function(){return mt.subVectors(this.c,this.b),vt.subVectors(this.a,this.b),.5*mt.cross(vt).length()},getMidpoint:function(e){return void 0===e&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),e=new be),e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function(e){return St.getNormal(this.a,this.b,this.c,e)},getPlane:function(e){return void 0===e&&(console.warn("THREE.Triangle: .getPlane() target is now required"),e=new dt),e.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function(e,t){return St.getBarycoord(e,this.a,this.b,this.c,t)},getUV:function(e,t,r,n,i){return St.getUV(e,this.a,this.b,this.c,t,r,n,i)},containsPoint:function(e){return St.containsPoint(e,this.a,this.b,this.c)},isFrontFacing:function(e){return St.isFrontFacing(this.a,this.b,this.c,e)},intersectsBox:function(e){return e.intersectsTriangle(this)},closestPointToPoint:function(e,t){void 0===t&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),t=new be);var r,n,i=this.a,a=this.b,o=this.c;bt.subVectors(a,i),xt.subVectors(o,i),_t.subVectors(e,i);var s=bt.dot(_t),u=xt.dot(_t);if(s<=0&&u<=0)return t.copy(i);Tt.subVectors(e,a);var l=bt.dot(Tt),c=xt.dot(Tt);if(l>=0&&c<=l)return t.copy(a);var h=s*c-l*u;if(h<=0&&s>=0&&l<=0)return r=s/(s-l),t.copy(i).addScaledVector(bt,r);Et.subVectors(e,o);var f=bt.dot(Et),p=xt.dot(Et);if(p>=0&&f<=p)return t.copy(o);var d=f*u-s*p;if(d<=0&&u>=0&&p<=0)return n=u/(u-p),t.copy(i).addScaledVector(xt,n);var m=l*p-f*c;if(m<=0&&c-l>=0&&f-p>=0)return wt.subVectors(o,a),n=(c-l)/(c-l+(f-p)),t.copy(a).addScaledVector(wt,n);var v=1/(m+d+h);return r=d*v,n=h*v,t.copy(i).addScaledVector(bt,r).addScaledVector(xt,n)},equals:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}});var Mt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},At={h:0,s:0,l:0},Ct={h:0,s:0,l:0};function Rt(e,t,r){return void 0===t&&void 0===r?this.set(e):this.setRGB(e,t,r)}function Ot(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+6*(t-e)*(2/3-r):e}function kt(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function Pt(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}function Lt(e,t,r,n,i,a){this.a=e,this.b=t,this.c=r,this.normal=n&&n.isVector3?n:new be,this.vertexNormals=Array.isArray(n)?n:[],this.color=i&&i.isColor?i:new Rt,this.vertexColors=Array.isArray(i)?i:[],this.materialIndex=void 0!==a?a:0}Object.assign(Rt.prototype,{isColor:!0,r:1,g:1,b:1,set:function(e){return e&&e.isColor?this.copy(e):"number"===typeof e?this.setHex(e):"string"===typeof e&&this.setStyle(e),this},setScalar:function(e){return this.r=e,this.g=e,this.b=e,this},setHex:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this},setRGB:function(e,t,r){return this.r=e,this.g=t,this.b=r,this},setHSL:function(e,t,r){if(e=se.euclideanModulo(e,1),t=se.clamp(t,0,1),r=se.clamp(r,0,1),0===t)this.r=this.g=this.b=r;else{var n=r<=.5?r*(1+t):r+t-r*t,i=2*r-n;this.r=Ot(i,n,e+1/3),this.g=Ot(i,n,e),this.b=Ot(i,n,e-1/3)}return this},setStyle:function(e){function t(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}var r;if(r=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(e)){var n,i=r[1],a=r[2];switch(i){case"rgb":case"rgba":if(n=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(n[1],10))/255,this.g=Math.min(255,parseInt(n[2],10))/255,this.b=Math.min(255,parseInt(n[3],10))/255,t(n[5]),this;if(n=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(n[1],10))/100,this.g=Math.min(100,parseInt(n[2],10))/100,this.b=Math.min(100,parseInt(n[3],10))/100,t(n[5]),this;break;case"hsl":case"hsla":if(n=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a)){var o=parseFloat(n[1])/360,s=parseInt(n[2],10)/100,u=parseInt(n[3],10)/100;return t(n[5]),this.setHSL(o,s,u)}}}else if(r=/^\#([A-Fa-f0-9]+)$/.exec(e)){var l=r[1],c=l.length;if(3===c)return this.r=parseInt(l.charAt(0)+l.charAt(0),16)/255,this.g=parseInt(l.charAt(1)+l.charAt(1),16)/255,this.b=parseInt(l.charAt(2)+l.charAt(2),16)/255,this;if(6===c)return this.r=parseInt(l.charAt(0)+l.charAt(1),16)/255,this.g=parseInt(l.charAt(2)+l.charAt(3),16)/255,this.b=parseInt(l.charAt(4)+l.charAt(5),16)/255,this}return e&&e.length>0?this.setColorName(e):this},setColorName:function(e){var t=Mt[e];return void 0!==t?this.setHex(t):console.warn("THREE.Color: Unknown color "+e),this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this},copyGammaToLinear:function(e,t){return void 0===t&&(t=2),this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this},copyLinearToGamma:function(e,t){void 0===t&&(t=2);var r=t>0?1/t:1;return this.r=Math.pow(e.r,r),this.g=Math.pow(e.g,r),this.b=Math.pow(e.b,r),this},convertGammaToLinear:function(e){return this.copyGammaToLinear(this,e),this},convertLinearToGamma:function(e){return this.copyLinearToGamma(this,e),this},copySRGBToLinear:function(e){return this.r=kt(e.r),this.g=kt(e.g),this.b=kt(e.b),this},copyLinearToSRGB:function(e){return this.r=Pt(e.r),this.g=Pt(e.g),this.b=Pt(e.b),this},convertSRGBToLinear:function(){return this.copySRGBToLinear(this),this},convertLinearToSRGB:function(){return this.copyLinearToSRGB(this),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(e){void 0===e&&(console.warn("THREE.Color: .getHSL() target is now required"),e={h:0,s:0,l:0});var t,r,n=this.r,i=this.g,a=this.b,o=Math.max(n,i,a),s=Math.min(n,i,a),u=(s+o)/2;if(s===o)t=0,r=0;else{var l=o-s;switch(r=u<=.5?l/(o+s):l/(2-o-s),o){case n:t=(i-a)/l+(i<a?6:0);break;case i:t=(a-n)/l+2;break;case a:t=(n-i)/l+4}t/=6}return e.h=t,e.s=r,e.l=u,e},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(e,t,r){return this.getHSL(At),At.h+=e,At.s+=t,At.l+=r,this.setHSL(At.h,At.s,At.l),this},add:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this},addColors:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this},addScalar:function(e){return this.r+=e,this.g+=e,this.b+=e,this},sub:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this},multiply:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this},multiplyScalar:function(e){return this.r*=e,this.g*=e,this.b*=e,this},lerp:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this},lerpHSL:function(e,t){this.getHSL(At),e.getHSL(Ct);var r=se.lerp(At.h,Ct.h,t),n=se.lerp(At.s,Ct.s,t),i=se.lerp(At.l,Ct.l,t);return this.setHSL(r,n,i),this},equals:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b},fromArray:function(e,t){return void 0===t&&(t=0),this.r=e[t],this.g=e[t+1],this.b=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e},toJSON:function(){return this.getHex()}}),Rt.NAMES=Mt,Object.assign(Lt.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(var t=0,r=e.vertexNormals.length;t<r;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(t=0,r=e.vertexColors.length;t<r;t++)this.vertexColors[t]=e.vertexColors[t].clone();return this}});var zt=0;function Dt(){Object.defineProperty(this,"id",{value:zt++}),this.uuid=se.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.blending=1,this.side=0,this.flatShading=!1,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=w,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=ee,this.stencilZFail=ee,this.stencilZPass=ee,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0}function Nt(){}Dt.prototype=Object.assign(Object.create(ne.prototype),{constructor:Dt,isMaterial:!0,onBeforeCompile:function(){},setValues:function(e){if(void 0!==e)for(var t in e){var r=e[t];if(void 0!==r)if("shading"!==t){var n=this[t];void 0!==n?n&&n.isColor?n.set(r):n&&n.isVector3&&r&&r.isVector3?n.copy(r):this[t]=r:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}else console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===r;else console.warn("THREE.Material: '"+t+"' parameter is undefined.")}},toJSON:function(e){var t=void 0===e||"string"===typeof e;t&&(e={textures:{},images:{}});var r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function n(e){var t=[];for(var r in e){var n=e[r];delete n.metadata,t.push(n)}return t}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),void 0!==this.roughness&&(r.roughness=this.roughness),void 0!==this.metalness&&(r.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(r.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),void 0!==this.shininess&&(r.shininess=this.shininess),void 0!==this.clearcoat&&(r.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.size&&(r.size=this.size),void 0!==this.sizeAttenuation&&(r.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(r.blending=this.blending),!0===this.flatShading&&(r.flatShading=this.flatShading),0!==this.side&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),!0===this.transparent&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation&&0!==this.rotation&&(r.rotation=this.rotation),!0===this.polygonOffset&&(r.polygonOffset=!0),0!==this.polygonOffsetFactor&&(r.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&1!==this.linewidth&&(r.linewidth=this.linewidth),void 0!==this.dashSize&&(r.dashSize=this.dashSize),void 0!==this.gapSize&&(r.gapSize=this.gapSize),void 0!==this.scale&&(r.scale=this.scale),!0===this.dithering&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(r.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(r.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(r.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphNormals&&(r.morphNormals=!0),!0===this.skinning&&(r.skinning=!0),!1===this.visible&&(r.visible=!1),!1===this.toneMapped&&(r.toneMapped=!1),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),t){var i=n(e.textures),a=n(e.images);i.length>0&&(r.textures=i),a.length>0&&(r.images=a)}return r},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.flatShading=e.flatShading,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;var t=e.clippingPlanes,r=null;if(null!==t){var n=t.length;r=new Array(n);for(var i=0;i!==n;++i)r[i]=t[i].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(Dt.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}});var It=new be;function Ft(e,t,r){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=!0===r,this.usage=te,this.updateRange={offset:0,count:-1},this.version=0}function Ut(e,t,r){Ft.call(this,new Int8Array(e),t,r)}function Bt(e,t,r){Ft.call(this,new Uint8Array(e),t,r)}function jt(e,t,r){Ft.call(this,new Uint8ClampedArray(e),t,r)}function Ht(e,t,r){Ft.call(this,new Int16Array(e),t,r)}function Vt(e,t,r){Ft.call(this,new Uint16Array(e),t,r)}function Gt(e,t,r){Ft.call(this,new Int32Array(e),t,r)}function Wt(e,t,r){Ft.call(this,new Uint32Array(e),t,r)}function qt(e,t,r){Ft.call(this,new Float32Array(e),t,r)}function Xt(e,t,r){Ft.call(this,new Float64Array(e),t,r)}function Yt(){}function Zt(e){if(0===e.length)return-1/0;for(var t=e[0],r=1,n=e.length;r<n;++r)e[r]>t&&(t=e[r]);return t}Object.defineProperty(Ft.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(Ft.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this},copyAt:function(e,t,r){e*=this.itemSize,r*=t.itemSize;for(var n=0,i=this.itemSize;n<i;n++)this.array[e+n]=t.array[r+n];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){for(var t=this.array,r=0,n=0,i=e.length;n<i;n++){var a=e[n];void 0===a&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",n),a=new Rt),t[r++]=a.r,t[r++]=a.g,t[r++]=a.b}return this},copyVector2sArray:function(e){for(var t=this.array,r=0,n=0,i=e.length;n<i;n++){var a=e[n];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",n),a=new ue),t[r++]=a.x,t[r++]=a.y}return this},copyVector3sArray:function(e){for(var t=this.array,r=0,n=0,i=e.length;n<i;n++){var a=e[n];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",n),a=new be),t[r++]=a.x,t[r++]=a.y,t[r++]=a.z}return this},copyVector4sArray:function(e){for(var t=this.array,r=0,n=0,i=e.length;n<i;n++){var a=e[n];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",n),a=new pe),t[r++]=a.x,t[r++]=a.y,t[r++]=a.z,t[r++]=a.w}return this},applyMatrix3:function(e){for(var t=0,r=this.count;t<r;t++)It.x=this.getX(t),It.y=this.getY(t),It.z=this.getZ(t),It.applyMatrix3(e),this.setXYZ(t,It.x,It.y,It.z);return this},applyMatrix4:function(e){for(var t=0,r=this.count;t<r;t++)It.x=this.getX(t),It.y=this.getY(t),It.z=this.getZ(t),It.applyMatrix4(e),this.setXYZ(t,It.x,It.y,It.z);return this},applyNormalMatrix:function(e){for(var t=0,r=this.count;t<r;t++)It.x=this.getX(t),It.y=this.getY(t),It.z=this.getZ(t),It.applyNormalMatrix(e),this.setXYZ(t,It.x,It.y,It.z);return this},transformDirection:function(e){for(var t=0,r=this.count;t<r;t++)It.x=this.getX(t),It.y=this.getY(t),It.z=this.getZ(t),It.transformDirection(e),this.setXYZ(t,It.x,It.y,It.z);return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,t){return this.array[e*this.itemSize]=t,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,t){return this.array[e*this.itemSize+1]=t,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,t){return this.array[e*this.itemSize+2]=t,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,t){return this.array[e*this.itemSize+3]=t,this},setXY:function(e,t,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this},setXYZ:function(e,t,r,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=n,this},setXYZW:function(e,t,r,n,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=n,this.array[e+3]=i,this},onUpload:function(e){return this.onUploadCallback=e,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}}),Ut.prototype=Object.create(Ft.prototype),Ut.prototype.constructor=Ut,Bt.prototype=Object.create(Ft.prototype),Bt.prototype.constructor=Bt,jt.prototype=Object.create(Ft.prototype),jt.prototype.constructor=jt,Ht.prototype=Object.create(Ft.prototype),Ht.prototype.constructor=Ht,Vt.prototype=Object.create(Ft.prototype),Vt.prototype.constructor=Vt,Gt.prototype=Object.create(Ft.prototype),Gt.prototype.constructor=Gt,Wt.prototype=Object.create(Ft.prototype),Wt.prototype.constructor=Wt,qt.prototype=Object.create(Ft.prototype),qt.prototype.constructor=qt,Xt.prototype=Object.create(Ft.prototype),Xt.prototype.constructor=Xt;var Kt=1,Qt=new Ae,Jt=new We,$t=new be,er=new ot,tr=new ot,rr=new be;function nr(){Object.defineProperty(this,"id",{value:Kt+=2}),this.uuid=se.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}nr.prototype=Object.assign(Object.create(ne.prototype),{constructor:nr,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(e){Array.isArray(e)?this.index=new(Zt(e)>65535?Wt:Vt)(e,1):this.index=e},getAttribute:function(e){return this.attributes[e]},setAttribute:function(e,t){return this.attributes[e]=t,this},deleteAttribute:function(e){return delete this.attributes[e],this},addGroup:function(e,t,r){this.groups.push({start:e,count:t,materialIndex:void 0!==r?r:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e,this.drawRange.count=t},applyMatrix4:function(e){var t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);var r=this.attributes.normal;if(void 0!==r){var n=(new le).getNormalMatrix(e);r.applyNormalMatrix(n),r.needsUpdate=!0}var i=this.attributes.tangent;return void 0!==i&&(i.transformDirection(e),i.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(e){return Qt.makeRotationX(e),this.applyMatrix4(Qt),this},rotateY:function(e){return Qt.makeRotationY(e),this.applyMatrix4(Qt),this},rotateZ:function(e){return Qt.makeRotationZ(e),this.applyMatrix4(Qt),this},translate:function(e,t,r){return Qt.makeTranslation(e,t,r),this.applyMatrix4(Qt),this},scale:function(e,t,r){return Qt.makeScale(e,t,r),this.applyMatrix4(Qt),this},lookAt:function(e){return Jt.lookAt(e),Jt.updateMatrix(),this.applyMatrix4(Jt.matrix),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter($t).negate(),this.translate($t.x,$t.y,$t.z),this},setFromObject:function(e){var t=e.geometry;return e.isMesh&&t&&t.isGeometry&&this.fromGeometry(t),this},setFromPoints:function(e){for(var t=[],r=0,n=e.length;r<n;r++){var i=e[r];t.push(i.x,i.y,i.z||0)}return this.setAttribute("position",new qt(t,3)),this},updateFromObject:function(e){var t,r=e.geometry;if(e.isMesh){var n=r.__directGeometry;if(!0===r.elementsNeedUpdate&&(n=void 0,r.elementsNeedUpdate=!1),void 0===n)return this.fromGeometry(r);n.verticesNeedUpdate=r.verticesNeedUpdate,n.normalsNeedUpdate=r.normalsNeedUpdate,n.colorsNeedUpdate=r.colorsNeedUpdate,n.uvsNeedUpdate=r.uvsNeedUpdate,n.groupsNeedUpdate=r.groupsNeedUpdate,r.verticesNeedUpdate=!1,r.normalsNeedUpdate=!1,r.colorsNeedUpdate=!1,r.uvsNeedUpdate=!1,r.groupsNeedUpdate=!1,r=n}return!0===r.verticesNeedUpdate&&(void 0!==(t=this.attributes.position)&&(t.copyVector3sArray(r.vertices),t.needsUpdate=!0),r.verticesNeedUpdate=!1),!0===r.normalsNeedUpdate&&(void 0!==(t=this.attributes.normal)&&(t.copyVector3sArray(r.normals),t.needsUpdate=!0),r.normalsNeedUpdate=!1),!0===r.colorsNeedUpdate&&(void 0!==(t=this.attributes.color)&&(t.copyColorsArray(r.colors),t.needsUpdate=!0),r.colorsNeedUpdate=!1),r.uvsNeedUpdate&&(void 0!==(t=this.attributes.uv)&&(t.copyVector2sArray(r.uvs),t.needsUpdate=!0),r.uvsNeedUpdate=!1),r.lineDistancesNeedUpdate&&(void 0!==(t=this.attributes.lineDistance)&&(t.copyArray(r.lineDistances),t.needsUpdate=!0),r.lineDistancesNeedUpdate=!1),r.groupsNeedUpdate&&(r.computeGroups(e.geometry),this.groups=r.groups,r.groupsNeedUpdate=!1),this},fromGeometry:function(e){return e.__directGeometry=(new Yt).fromGeometry(e),this.fromDirectGeometry(e.__directGeometry)},fromDirectGeometry:function(e){var t=new Float32Array(3*e.vertices.length);if(this.setAttribute("position",new Ft(t,3).copyVector3sArray(e.vertices)),e.normals.length>0){var r=new Float32Array(3*e.normals.length);this.setAttribute("normal",new Ft(r,3).copyVector3sArray(e.normals))}if(e.colors.length>0){var n=new Float32Array(3*e.colors.length);this.setAttribute("color",new Ft(n,3).copyColorsArray(e.colors))}if(e.uvs.length>0){var i=new Float32Array(2*e.uvs.length);this.setAttribute("uv",new Ft(i,2).copyVector2sArray(e.uvs))}if(e.uvs2.length>0){var a=new Float32Array(2*e.uvs2.length);this.setAttribute("uv2",new Ft(a,2).copyVector2sArray(e.uvs2))}for(var o in this.groups=e.groups,!1){for(var s=[],u=(!1)[o],l=0,c=u.length;l<c;l++){var h=u[l],f=new qt(3*h.data.length,3);f.name=h.name,s.push(f.copyVector3sArray(h.data))}this.morphAttributes[o]=s}if(e.skinIndices.length>0){var p=new qt(4*e.skinIndices.length,4);this.setAttribute("skinIndex",p.copyVector4sArray(e.skinIndices))}if(e.skinWeights.length>0){var d=new qt(4*e.skinWeights.length,4);this.setAttribute("skinWeight",d.copyVector4sArray(e.skinWeights))}return null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new ot);var e=this.attributes.position,t=this.morphAttributes.position;if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(var r=0,n=t.length;r<n;r++){var i=t[r];er.setFromBufferAttribute(i),this.morphTargetsRelative?(rr.addVectors(this.boundingBox.min,er.min),this.boundingBox.expandByPoint(rr),rr.addVectors(this.boundingBox.max,er.max),this.boundingBox.expandByPoint(rr)):(this.boundingBox.expandByPoint(er.min),this.boundingBox.expandByPoint(er.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new lt);var e=this.attributes.position,t=this.morphAttributes.position;if(e){var r=this.boundingSphere.center;if(er.setFromBufferAttribute(e),t)for(var n=0,i=t.length;n<i;n++){var a=t[n];tr.setFromBufferAttribute(a),this.morphTargetsRelative?(rr.addVectors(er.min,tr.min),er.expandByPoint(rr),rr.addVectors(er.max,tr.max),er.expandByPoint(rr)):(er.expandByPoint(tr.min),er.expandByPoint(tr.max))}er.getCenter(r);var o=0;for(n=0,i=e.count;n<i;n++)rr.fromBufferAttribute(e,n),o=Math.max(o,r.distanceToSquared(rr));if(t)for(n=0,i=t.length;n<i;n++){a=t[n];for(var s=this.morphTargetsRelative,u=0,l=a.count;u<l;u++)rr.fromBufferAttribute(a,u),s&&($t.fromBufferAttribute(e,u),rr.add($t)),o=Math.max(o,r.distanceToSquared(rr))}this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}},computeFaceNormals:function(){},computeVertexNormals:function(){var e=this.index,t=this.attributes;if(t.position){var r=t.position.array;if(void 0===t.normal)this.setAttribute("normal",new Ft(new Float32Array(r.length),3));else for(var n=t.normal.array,i=0,a=n.length;i<a;i++)n[i]=0;var o,s,u,l=t.normal.array,c=new be,h=new be,f=new be,p=new be,d=new be;if(e){var m=e.array;for(i=0,a=e.count;i<a;i+=3)o=3*m[i+0],s=3*m[i+1],u=3*m[i+2],c.fromArray(r,o),h.fromArray(r,s),f.fromArray(r,u),p.subVectors(f,h),d.subVectors(c,h),p.cross(d),l[o]+=p.x,l[o+1]+=p.y,l[o+2]+=p.z,l[s]+=p.x,l[s+1]+=p.y,l[s+2]+=p.z,l[u]+=p.x,l[u+1]+=p.y,l[u+2]+=p.z}else for(i=0,a=r.length;i<a;i+=9)c.fromArray(r,i),h.fromArray(r,i+3),f.fromArray(r,i+6),p.subVectors(f,h),d.subVectors(c,h),p.cross(d),l[i]=p.x,l[i+1]=p.y,l[i+2]=p.z,l[i+3]=p.x,l[i+4]=p.y,l[i+5]=p.z,l[i+6]=p.x,l[i+7]=p.y,l[i+8]=p.z;this.normalizeNormals(),t.normal.needsUpdate=!0}},merge:function(e,t){if(e&&e.isBufferGeometry){void 0===t&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var r=this.attributes;for(var n in r)if(void 0!==e.attributes[n])for(var i=r[n].array,a=e.attributes[n],o=a.array,s=a.itemSize*t,u=Math.min(o.length,i.length-s),l=0,c=s;l<u;l++,c++)i[c]=o[l];return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e)},normalizeNormals:function(){for(var e=this.attributes.normal,t=0,r=e.count;t<r;t++)rr.x=e.getX(t),rr.y=e.getY(t),rr.z=e.getZ(t),rr.normalize(),e.setXYZ(t,rr.x,rr.y,rr.z)},toNonIndexed:function(){function e(e,t){for(var r=e.array,n=e.itemSize,i=new r.constructor(t.length*n),a=0,o=0,s=0,u=t.length;s<u;s++){a=t[s]*n;for(var l=0;l<n;l++)i[o++]=r[a++]}return new Ft(i,n)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var t=new nr,r=this.index.array,n=this.attributes;for(var i in n){var a=e(n[i],r);t.setAttribute(i,a)}var o=this.morphAttributes;for(i in o){for(var s=[],u=o[i],l=0,c=u.length;l<c;l++){a=e(u[l],r);s.push(a)}t.morphAttributes[i]=s}t.morphTargetsRelative=this.morphTargetsRelative;for(var h=this.groups,f=(l=0,h.length);l<f;l++){var p=h[l];t.addGroup(p.start,p.count,p.materialIndex)}return t},toJSON:function(){var e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){var t=this.parameters;for(var r in t)void 0!==t[r]&&(e[r]=t[r]);return e}e.data={attributes:{}};var n=this.index;null!==n&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});var i=this.attributes;for(var r in i){var a=(f=i[r]).toJSON();""!==f.name&&(a.name=f.name),e.data.attributes[r]=a}var o={},s=!1;for(var r in this.morphAttributes){for(var u=this.morphAttributes[r],l=[],c=0,h=u.length;c<h;c++){var f;a=(f=u[c]).toJSON();""!==f.name&&(a.name=f.name),l.push(a)}l.length>0&&(o[r]=l,s=!0)}s&&(e.data.morphAttributes=o,e.data.morphTargetsRelative=this.morphTargetsRelative);var p=this.groups;p.length>0&&(e.data.groups=JSON.parse(JSON.stringify(p)));var d=this.boundingSphere;return null!==d&&(e.data.boundingSphere={center:d.center.toArray(),radius:d.radius}),e},clone:function(){return(new nr).copy(this)},copy:function(e){var t,r,n;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;var i=e.index;null!==i&&this.setIndex(i.clone());var a=e.attributes;for(t in a){var o=a[t];this.setAttribute(t,o.clone())}var s=e.morphAttributes;for(t in s){var u=[],l=s[t];for(r=0,n=l.length;r<n;r++)u.push(l[r].clone());this.morphAttributes[t]=u}this.morphTargetsRelative=e.morphTargetsRelative;var c=e.groups;for(r=0,n=c.length;r<n;r++){var h=c[r];this.addGroup(h.start,h.count,h.materialIndex)}var f=e.boundingBox;null!==f&&(this.boundingBox=f.clone());var p=e.boundingSphere;return null!==p&&(this.boundingSphere=p.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});var ir=new Ae,ar=new ct,or=new lt,sr=new be,ur=new be,lr=new be,cr=new ue,hr=new ue,fr=new ue,pr=new be,dr=new be;function mr(e,t){We.call(this),this.type="Mesh",this.geometry=void 0!==e?e:new nr,this.material=void 0!==t?t:new Nt,this.updateMorphTargets()}function vr(e,t,r,n,i,a,o,s){if(null===(1===t.side?n.intersectTriangle(o,a,i,!0,s):n.intersectTriangle(i,a,o,2!==t.side,s)))return null;dr.copy(s),dr.applyMatrix4(e.matrixWorld);var u=r.ray.origin.distanceTo(dr);return u<r.near||u>r.far?null:{distance:u,point:dr.clone(),object:e}}function gr(e,t,r,n,i,a,o,s,u,l,c,h){sr.fromBufferAttribute(i,l),ur.fromBufferAttribute(i,c),lr.fromBufferAttribute(i,h);e.morphTargetInfluences;var f=vr(e,t,r,n,sr,ur,lr,pr);if(f){s&&(cr.fromBufferAttribute(s,l),hr.fromBufferAttribute(s,c),fr.fromBufferAttribute(s,h),f.uv=St.getUV(pr,sr,ur,lr,cr,hr,fr,new ue)),u&&(cr.fromBufferAttribute(u,l),hr.fromBufferAttribute(u,c),fr.fromBufferAttribute(u,h),f.uv2=St.getUV(pr,sr,ur,lr,cr,hr,fr,new ue));var p=new Lt(l,c,h);St.getNormal(sr,ur,lr,p.normal),f.face=p}return f}mr.prototype=Object.assign(Object.create(We.prototype),{constructor:mr,isMesh:!0,copy:function(e){return We.prototype.copy.call(this,e),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this},updateMorphTargets:function(){var e,t,r,n=this.geometry;if(n.isBufferGeometry){var i=n.morphAttributes,a=Object.keys(i);if(a.length>0){var o=i[a[0]];if(void 0!==o)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},e=0,t=o.length;e<t;e++)r=o[e].name||String(e),this.morphTargetInfluences.push(0),this.morphTargetDictionary[r]=e}}else{false.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},raycast:function(e,t){var r,n=this.geometry,i=this.material,a=this.matrixWorld;if(void 0!==i&&(null===n.boundingSphere&&n.computeBoundingSphere(),or.copy(n.boundingSphere),or.applyMatrix4(a),!1!==e.ray.intersectsSphere(or)&&(ir.getInverse(a),ar.copy(e.ray).applyMatrix4(ir),null===n.boundingBox||!1!==ar.intersectsBox(n.boundingBox))))if(n.isBufferGeometry){var o,s,u,l,c,h,f,p,d,m=n.index,v=n.attributes.position,g=n.morphAttributes.position,y=n.morphTargetsRelative,b=n.attributes.uv,x=n.attributes.uv2,w=n.groups,_=n.drawRange;if(null!==m)if(Array.isArray(i))for(l=0,h=w.length;l<h;l++)for(d=i[(p=w[l]).materialIndex],c=Math.max(p.start,_.start),f=Math.min(p.start+p.count,_.start+_.count);c<f;c+=3)o=m.getX(c),s=m.getX(c+1),u=m.getX(c+2),(r=gr(this,d,e,ar,v,g,y,b,x,o,s,u))&&(r.faceIndex=Math.floor(c/3),r.face.materialIndex=p.materialIndex,t.push(r));else for(l=Math.max(0,_.start),h=Math.min(m.count,_.start+_.count);l<h;l+=3)o=m.getX(l),s=m.getX(l+1),u=m.getX(l+2),(r=gr(this,i,e,ar,v,g,y,b,x,o,s,u))&&(r.faceIndex=Math.floor(l/3),t.push(r));else if(void 0!==v)if(Array.isArray(i))for(l=0,h=w.length;l<h;l++)for(d=i[(p=w[l]).materialIndex],c=Math.max(p.start,_.start),f=Math.min(p.start+p.count,_.start+_.count);c<f;c+=3)(r=gr(this,d,e,ar,v,g,y,b,x,o=c,s=c+1,u=c+2))&&(r.faceIndex=Math.floor(c/3),r.face.materialIndex=p.materialIndex,t.push(r));else for(l=Math.max(0,_.start),h=Math.min(v.count,_.start+_.count);l<h;l+=3)(r=gr(this,i,e,ar,v,g,y,b,x,o=l,s=l+1,u=l+2))&&(r.faceIndex=Math.floor(l/3),t.push(r))}else if(n.isGeometry){var T,E,S,M,A=Array.isArray(i),C=n.vertices,R=n.faces,O=n.faceVertexUvs[0];O.length>0&&(M=O);for(var k=0,P=R.length;k<P;k++){var L=R[k],z=A?i[L.materialIndex]:i;if(void 0!==z&&(T=C[L.a],E=C[L.b],S=C[L.c],r=vr(this,z,e,ar,T,E,S,pr))){if(M&&M[k]){var D=M[k];cr.copy(D[0]),hr.copy(D[1]),fr.copy(D[2]),r.uv=St.getUV(pr,T,E,S,cr,hr,fr,new ue)}r.face=L,r.faceIndex=k,t.push(r)}}}},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var yr=0,br=new Ae,xr=new We,wr=new be;function _r(){Object.defineProperty(this,"id",{value:yr+=2}),this.uuid=se.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}_r.prototype=Object.assign(Object.create(ne.prototype),{constructor:_r,isGeometry:!0,applyMatrix4:function(e){for(var t=(new le).getNormalMatrix(e),r=0,n=this.vertices.length;r<n;r++){this.vertices[r].applyMatrix4(e)}for(r=0,n=this.faces.length;r<n;r++){var i=this.faces[r];i.normal.applyMatrix3(t).normalize();for(var a=0,o=i.vertexNormals.length;a<o;a++)i.vertexNormals[a].applyMatrix3(t).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(e){return br.makeRotationX(e),this.applyMatrix4(br),this},rotateY:function(e){return br.makeRotationY(e),this.applyMatrix4(br),this},rotateZ:function(e){return br.makeRotationZ(e),this.applyMatrix4(br),this},translate:function(e,t,r){return br.makeTranslation(e,t,r),this.applyMatrix4(br),this},scale:function(e,t,r){return br.makeScale(e,t,r),this.applyMatrix4(br),this},lookAt:function(e){return xr.lookAt(e),xr.updateMatrix(),this.applyMatrix4(xr.matrix),this},fromBufferGeometry:function(e){var t=this,r=null!==e.index?e.index.array:void 0,n=e.attributes;if(void 0===n.position)return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."),this;var i=n.position.array,a=void 0!==n.normal?n.normal.array:void 0,o=void 0!==n.color?n.color.array:void 0,s=void 0!==n.uv?n.uv.array:void 0,u=void 0!==n.uv2?n.uv2.array:void 0;void 0!==u&&(this.faceVertexUvs[1]=[]);for(var l=0;l<i.length;l+=3)t.vertices.push((new be).fromArray(i,l)),void 0!==o&&t.colors.push((new Rt).fromArray(o,l));function c(e,r,n,i){var l=void 0===o?[]:[t.colors[e].clone(),t.colors[r].clone(),t.colors[n].clone()],c=new Lt(e,r,n,void 0===a?[]:[(new be).fromArray(a,3*e),(new be).fromArray(a,3*r),(new be).fromArray(a,3*n)],l,i);t.faces.push(c),void 0!==s&&t.faceVertexUvs[0].push([(new ue).fromArray(s,2*e),(new ue).fromArray(s,2*r),(new ue).fromArray(s,2*n)]),void 0!==u&&t.faceVertexUvs[1].push([(new ue).fromArray(u,2*e),(new ue).fromArray(u,2*r),(new ue).fromArray(u,2*n)])}var h=e.groups;if(h.length>0)for(l=0;l<h.length;l++)for(var f=h[l],p=f.start,d=p,m=p+f.count;d<m;d+=3)void 0!==r?c(r[d],r[d+1],r[d+2],f.materialIndex):c(d,d+1,d+2,f.materialIndex);else if(void 0!==r)for(l=0;l<r.length;l+=3)c(r[l],r[l+1],r[l+2]);else for(l=0;l<i.length/3;l+=3)c(l,l+1,l+2);return this.computeFaceNormals(),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(wr).negate(),this.translate(wr.x,wr.y,wr.z),this},normalize:function(){this.computeBoundingSphere();var e=this.boundingSphere.center,t=this.boundingSphere.radius,r=0===t?1:1/t,n=new Ae;return n.set(r,0,0,-r*e.x,0,r,0,-r*e.y,0,0,r,-r*e.z,0,0,0,1),this.applyMatrix4(n),this},computeFaceNormals:function(){for(var e=new be,t=new be,r=0,n=this.faces.length;r<n;r++){var i=this.faces[r],a=this.vertices[i.a],o=this.vertices[i.b],s=this.vertices[i.c];e.subVectors(s,o),t.subVectors(a,o),e.cross(t),e.normalize(),i.normal.copy(e)}},computeVertexNormals:function(e){var t,r,n,i,a,o;for(void 0===e&&(e=!0),o=new Array(this.vertices.length),t=0,r=this.vertices.length;t<r;t++)o[t]=new be;if(e){var s,u,l,c=new be,h=new be;for(n=0,i=this.faces.length;n<i;n++)a=this.faces[n],s=this.vertices[a.a],u=this.vertices[a.b],l=this.vertices[a.c],c.subVectors(l,u),h.subVectors(s,u),c.cross(h),o[a.a].add(c),o[a.b].add(c),o[a.c].add(c)}else for(this.computeFaceNormals(),n=0,i=this.faces.length;n<i;n++)o[(a=this.faces[n]).a].add(a.normal),o[a.b].add(a.normal),o[a.c].add(a.normal);for(t=0,r=this.vertices.length;t<r;t++)o[t].normalize();for(n=0,i=this.faces.length;n<i;n++){var f=(a=this.faces[n]).vertexNormals;3===f.length?(f[0].copy(o[a.a]),f[1].copy(o[a.b]),f[2].copy(o[a.c])):(f[0]=o[a.a].clone(),f[1]=o[a.b].clone(),f[2]=o[a.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var e,t,r;for(this.computeFaceNormals(),e=0,t=this.faces.length;e<t;e++){var n=(r=this.faces[e]).vertexNormals;3===n.length?(n[0].copy(r.normal),n[1].copy(r.normal),n[2].copy(r.normal)):(n[0]=r.normal.clone(),n[1]=r.normal.clone(),n[2]=r.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var e,t,r,n,i;for(r=0,n=this.faces.length;r<n;r++)for((i=this.faces[r]).__originalFaceNormal?i.__originalFaceNormal.copy(i.normal):i.__originalFaceNormal=i.normal.clone(),i.__originalVertexNormals||(i.__originalVertexNormals=[]),e=0,t=i.vertexNormals.length;e<t;e++)i.__originalVertexNormals[e]?i.__originalVertexNormals[e].copy(i.vertexNormals[e]):i.__originalVertexNormals[e]=i.vertexNormals[e].clone();var a=new _r;for(a.faces=this.faces,e=0,t=(!1).length;e<t;e++){if(!this.morphNormals[e]){this.morphNormals[e]={},this.morphNormals[e].faceNormals=[],this.morphNormals[e].vertexNormals=[];var o=this.morphNormals[e].faceNormals,s=this.morphNormals[e].vertexNormals;for(r=0,n=this.faces.length;r<n;r++)u=new be,l={a:new be,b:new be,c:new be},o.push(u),s.push(l)}var u,l,c=this.morphNormals[e];for(a.vertices=(!1)[e].vertices,a.computeFaceNormals(),a.computeVertexNormals(),r=0,n=this.faces.length;r<n;r++)i=this.faces[r],u=c.faceNormals[r],l=c.vertexNormals[r],u.copy(i.normal),l.a.copy(i.vertexNormals[0]),l.b.copy(i.vertexNormals[1]),l.c.copy(i.vertexNormals[2])}for(r=0,n=this.faces.length;r<n;r++)(i=this.faces[r]).normal=i.__originalFaceNormal,i.vertexNormals=i.__originalVertexNormals},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new ot),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new lt),this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,t,r){if(e&&e.isGeometry){var n,i=this.vertices.length,a=this.vertices,o=e.vertices,s=this.faces,u=e.faces,l=this.colors,c=e.colors;void 0===r&&(r=0),void 0!==t&&(n=(new le).getNormalMatrix(t));for(var h=0,f=o.length;h<f;h++){var p=o[h].clone();void 0!==t&&p.applyMatrix4(t),a.push(p)}for(h=0,f=c.length;h<f;h++)l.push(c[h].clone());for(h=0,f=u.length;h<f;h++){var d,m,v,g=u[h],y=g.vertexNormals,b=g.vertexColors;(d=new Lt(g.a+i,g.b+i,g.c+i)).normal.copy(g.normal),void 0!==n&&d.normal.applyMatrix3(n).normalize();for(var x=0,w=y.length;x<w;x++)m=y[x].clone(),void 0!==n&&m.applyMatrix3(n).normalize(),d.vertexNormals.push(m);d.color.copy(g.color);for(x=0,w=b.length;x<w;x++)v=b[x],d.vertexColors.push(v.clone());d.materialIndex=g.materialIndex+r,s.push(d)}for(h=0,f=e.faceVertexUvs.length;h<f;h++){var _=e.faceVertexUvs[h];void 0===this.faceVertexUvs[h]&&(this.faceVertexUvs[h]=[]);for(x=0,w=_.length;x<w;x++){for(var T=_[x],E=[],S=0,M=T.length;S<M;S++)E.push(T[S].clone());this.faceVertexUvs[h].push(E)}}}else console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e)},mergeMesh:function(e){e&&e.isMesh?(e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e)},mergeVertices:function(){var e,t,r,n,i,a,o,s,u={},l=[],c=[],h=Math.pow(10,4);for(r=0,n=this.vertices.length;r<n;r++)e=this.vertices[r],void 0===u[t=Math.round(e.x*h)+"_"+Math.round(e.y*h)+"_"+Math.round(e.z*h)]?(u[t]=r,l.push(this.vertices[r]),c[r]=l.length-1):c[r]=c[u[t]];var f=[];for(r=0,n=this.faces.length;r<n;r++){(i=this.faces[r]).a=c[i.a],i.b=c[i.b],i.c=c[i.c],a=[i.a,i.b,i.c];for(var p=0;p<3;p++)if(a[p]===a[(p+1)%3]){f.push(r);break}}for(r=f.length-1;r>=0;r--){var d=f[r];for(this.faces.splice(d,1),o=0,s=this.faceVertexUvs.length;o<s;o++)this.faceVertexUvs[o].splice(d,1)}var m=this.vertices.length-l.length;return this.vertices=l,m},setFromPoints:function(e){this.vertices=[];for(var t=0,r=e.length;t<r;t++){var n=e[t];this.vertices.push(new be(n.x,n.y,n.z||0))}return this},sortFacesByMaterialIndex:function(){for(var e=this.faces,t=e.length,r=0;r<t;r++)e[r]._id=r;e.sort((function(e,t){return e.materialIndex-t.materialIndex}));var n,i,a=this.faceVertexUvs[0],o=this.faceVertexUvs[1];a&&a.length===t&&(n=[]),o&&o.length===t&&(i=[]);for(r=0;r<t;r++){var s=e[r]._id;n&&n.push(a[s]),i&&i.push(o[s])}n&&(this.faceVertexUvs[0]=n),i&&(this.faceVertexUvs[1]=i)},toJSON:function(){var e={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),void 0!==this.parameters){var t=this.parameters;for(var r in t)void 0!==t[r]&&(e[r]=t[r]);return e}for(var n=[],i=0;i<this.vertices.length;i++){var a=this.vertices[i];n.push(a.x,a.y,a.z)}var o=[],s=[],u={},l=[],c={},h=[],f={};for(i=0;i<this.faces.length;i++){var p=this.faces[i],d=void 0!==this.faceVertexUvs[0][i],m=p.normal.length()>0,v=p.vertexNormals.length>0,g=1!==p.color.r||1!==p.color.g||1!==p.color.b,y=p.vertexColors.length>0,b=0;if(b=T(b,0,0),b=T(b,1,!0),b=T(b,2,!1),b=T(b,3,d),b=T(b,4,m),b=T(b,5,v),b=T(b,6,g),b=T(b,7,y),o.push(b),o.push(p.a,p.b,p.c),o.push(p.materialIndex),d){var x=this.faceVertexUvs[0][i];o.push(M(x[0]),M(x[1]),M(x[2]))}if(m&&o.push(E(p.normal)),v){var w=p.vertexNormals;o.push(E(w[0]),E(w[1]),E(w[2]))}if(g&&o.push(S(p.color)),y){var _=p.vertexColors;o.push(S(_[0]),S(_[1]),S(_[2]))}}function T(e,t,r){return r?e|1<<t:e&~(1<<t)}function E(e){var t=e.x.toString()+e.y.toString()+e.z.toString();return void 0!==u[t]||(u[t]=s.length/3,s.push(e.x,e.y,e.z)),u[t]}function S(e){var t=e.r.toString()+e.g.toString()+e.b.toString();return void 0!==c[t]||(c[t]=l.length,l.push(e.getHex())),c[t]}function M(e){var t=e.x.toString()+e.y.toString();return void 0!==f[t]||(f[t]=h.length/2,h.push(e.x,e.y)),f[t]}return e.data={},e.data.vertices=n,e.data.normals=s,l.length>0&&(e.data.colors=l),h.length>0&&(e.data.uvs=[h]),e.data.faces=o,e},clone:function(){return(new _r).copy(this)},copy:function(e){var t,r,n,i,a,o;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;var s=e.vertices;for(t=0,r=s.length;t<r;t++)this.vertices.push(s[t].clone());var u=e.colors;for(t=0,r=u.length;t<r;t++)this.colors.push(u[t].clone());var l=e.faces;for(t=0,r=l.length;t<r;t++)this.faces.push(l[t].clone());for(t=0,r=e.faceVertexUvs.length;t<r;t++){var c=e.faceVertexUvs[t];for(void 0===this.faceVertexUvs[t]&&(this.faceVertexUvs[t]=[]),n=0,i=c.length;n<i;n++){var h=c[n],f=[];for(a=0,o=h.length;a<o;a++){var p=h[a];f.push(p.clone())}this.faceVertexUvs[t].push(f)}}var d=!1;for(t=0,r=d.length;t<r;t++){var m={};if(m.name=d[t].name,void 0!==d[t].vertices)for(m.vertices=[],n=0,i=d[t].vertices.length;n<i;n++)m.vertices.push(d[t].vertices[n].clone());if(void 0!==d[t].normals)for(m.normals=[],n=0,i=d[t].normals.length;n<i;n++)m.normals.push(d[t].normals[n].clone());(!1).push(m)}var v=e.morphNormals;for(t=0,r=v.length;t<r;t++){var g={};if(void 0!==v[t].vertexNormals)for(g.vertexNormals=[],n=0,i=v[t].vertexNormals.length;n<i;n++){var y=v[t].vertexNormals[n],b={};b.a=y.a.clone(),b.b=y.b.clone(),b.c=y.c.clone(),g.vertexNormals.push(b)}if(void 0!==v[t].faceNormals)for(g.faceNormals=[],n=0,i=v[t].faceNormals.length;n<i;n++)g.faceNormals.push(v[t].faceNormals[n].clone());this.morphNormals.push(g)}var x=e.skinWeights;for(t=0,r=x.length;t<r;t++)this.skinWeights.push(x[t].clone());var w=e.skinIndices;for(t=0,r=w.length;t<r;t++)this.skinIndices.push(w[t].clone());var _=e.lineDistances;for(t=0,r=_.length;t<r;t++)this.lineDistances.push(_[t]);var T=e.boundingBox;null!==T&&(this.boundingBox=T.clone());var E=e.boundingSphere;return null!==E&&(this.boundingSphere=E.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});var Tr=function(e){Object(h.a)(r,e);var t=Object(f.a)(r);function r(e,n,i,a,o,s){var u;return Object(c.a)(this,r),(u=t.call(this)).type="BoxGeometry",u.parameters={width:e,height:n,depth:i,widthSegments:a,heightSegments:o,depthSegments:s},u.fromBufferGeometry(new Er(e,n,i,a,o,s)),u.mergeVertices(),u}return r}(_r),Er=function(e){Object(h.a)(r,e);var t=Object(f.a)(r);function r(e,n,i,a,o,s){var u;Object(c.a)(this,r),(u=t.call(this)).type="BoxBufferGeometry",u.parameters={width:e,height:n,depth:i,widthSegments:a,heightSegments:o,depthSegments:s};var h=Object(l.a)(u);e=e||1,n=n||1,i=i||1,a=Math.floor(a)||1,o=Math.floor(o)||1,s=Math.floor(s)||1;var f=[],p=[],d=[],m=[],v=0,g=0;function y(e,t,r,n,i,a,o,s,u,l,c){var y,b,x=a/u,w=o/l,_=a/2,T=o/2,E=s/2,S=u+1,M=l+1,A=0,C=0,R=new be;for(b=0;b<M;b++){var O=b*w-T;for(y=0;y<S;y++){var k=y*x-_;R[e]=k*n,R[t]=O*i,R[r]=E,p.push(R.x,R.y,R.z),R[e]=0,R[t]=0,R[r]=s>0?1:-1,d.push(R.x,R.y,R.z),m.push(y/u),m.push(1-b/l),A+=1}}for(b=0;b<l;b++)for(y=0;y<u;y++){var P=v+y+S*b,L=v+y+S*(b+1),z=v+(y+1)+S*(b+1),D=v+(y+1)+S*b;f.push(P,L,D),f.push(L,z,D),C+=6}h.addGroup(g,C,c),g+=C,v+=A}return y("z","y","x",-1,-1,i,n,e,s,o,0),y("z","y","x",1,-1,i,n,-e,s,o,1),y("x","z","y",1,1,e,i,n,a,s,2),y("x","z","y",1,-1,e,i,-n,a,s,3),y("x","y","z",1,-1,e,n,i,a,o,4),y("x","y","z",-1,-1,e,n,-i,a,o,5),u.setIndex(f),u.setAttribute("position",new qt(p,3)),u.setAttribute("normal",new qt(d,3)),u.setAttribute("uv",new qt(m,2)),u}return r}(nr);function Sr(e){var t={};for(var r in e)for(var n in t[r]={},e[r]){var i=e[r][n];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture)?t[r][n]=i.clone():Array.isArray(i)?t[r][n]=i.slice():t[r][n]=i}return t}function Mr(e){for(var t={},r=0;r<e.length;r++){var n=Sr(e[r]);for(var i in n)t[i]=n[i]}return t}var Ar={clone:Sr,merge:Mr};function Cr(e){Dt.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="",this.fragmentShader="",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}function Rr(){We.call(this),this.type="Camera",this.matrixWorldInverse=new Ae,this.projectionMatrix=new Ae,this.projectionMatrixInverse=new Ae}function Or(e,t,r,n){Rr.call(this),this.type="PerspectiveCamera",this.fov=void 0!==e?e:50,this.zoom=1,this.near=void 0!==r?r:.1,this.far=void 0!==n?n:2e3,this.focus=10,this.aspect=void 0!==t?t:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}Cr.prototype=Object.create(Dt.prototype),Cr.prototype.constructor=Cr,Cr.prototype.isShaderMaterial=!0,Cr.prototype.copy=function(e){return Dt.prototype.copy.call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Sr(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=e.extensions,this},Cr.prototype.toJSON=function(e){var t=Dt.prototype.toJSON.call(this,e);for(var r in t.uniforms={},this.uniforms){var n=this.uniforms[r].value;n&&n.isTexture?t.uniforms[r]={type:"t",value:n.toJSON(e).uuid}:n&&n.isColor?t.uniforms[r]={type:"c",value:n.getHex()}:n&&n.isVector2?t.uniforms[r]={type:"v2",value:n.toArray()}:n&&n.isVector3?t.uniforms[r]={type:"v3",value:n.toArray()}:n&&n.isVector4?t.uniforms[r]={type:"v4",value:n.toArray()}:n&&n.isMatrix3?t.uniforms[r]={type:"m3",value:n.toArray()}:n&&n.isMatrix4?t.uniforms[r]={type:"m4",value:n.toArray()}:t.uniforms[r]={value:n}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;var i={};for(var a in this.extensions)!0===this.extensions[a]&&(i[a]=!0);return Object.keys(i).length>0&&(t.extensions=i),t},Rr.prototype=Object.assign(Object.create(We.prototype),{constructor:Rr,isCamera:!0,copy:function(e,t){return We.prototype.copy.call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this},getWorldDirection:function(e){void 0===e&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),e=new be),this.updateMatrixWorld(!0);var t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()},updateMatrixWorld:function(e){We.prototype.updateMatrixWorld.call(this,e),this.matrixWorldInverse.getInverse(this.matrixWorld)},updateWorldMatrix:function(e,t){We.prototype.updateWorldMatrix.call(this,e,t),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}}),Or.prototype=Object.assign(Object.create(Rr.prototype),{constructor:Or,isPerspectiveCamera:!0,copy:function(e,t){return Rr.prototype.copy.call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this},setFocalLength:function(e){var t=.5*this.getFilmHeight()/e;this.fov=2*se.RAD2DEG*Math.atan(t),this.updateProjectionMatrix()},getFocalLength:function(){var e=Math.tan(.5*se.DEG2RAD*this.fov);return.5*this.getFilmHeight()/e},getEffectiveFOV:function(){return 2*se.RAD2DEG*Math.atan(Math.tan(.5*se.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(e,t,r,n,i,a){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=n,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=this.near,t=e*Math.tan(.5*se.DEG2RAD*this.fov)/this.zoom,r=2*t,n=this.aspect*r,i=-.5*n,a=this.view;if(null!==this.view&&this.view.enabled){var o=a.fullWidth,s=a.fullHeight;i+=a.offsetX*n/o,t-=a.offsetY*r/s,n*=a.width/o,r*=a.height/s}var u=this.filmOffset;0!==u&&(i+=e*u/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+n,t,t-r,e,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){var t=We.prototype.toJSON.call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}});var kr=90;function Pr(e,t,r,n){We.call(this),this.type="CubeCamera";var i=new Or(kr,1,e,t);i.up.set(0,-1,0),i.lookAt(new be(1,0,0)),this.add(i);var a=new Or(kr,1,e,t);a.up.set(0,-1,0),a.lookAt(new be(-1,0,0)),this.add(a);var o=new Or(kr,1,e,t);o.up.set(0,0,1),o.lookAt(new be(0,1,0)),this.add(o);var s=new Or(kr,1,e,t);s.up.set(0,0,-1),s.lookAt(new be(0,-1,0)),this.add(s);var u=new Or(kr,1,e,t);u.up.set(0,-1,0),u.lookAt(new be(0,0,1)),this.add(u);var l=new Or(kr,1,e,t);l.up.set(0,-1,0),l.lookAt(new be(0,0,-1)),this.add(l),n=n||{format:N,magFilter:C,minFilter:C},this.renderTarget=new Lr(r,n),this.renderTarget.texture.name="CubeCamera",this.update=function(e,t){null===this.parent&&this.updateMatrixWorld();var r=e.getRenderTarget(),n=this.renderTarget,c=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0),e.render(t,i),e.setRenderTarget(n,1),e.render(t,a),e.setRenderTarget(n,2),e.render(t,o),e.setRenderTarget(n,3),e.render(t,s),e.setRenderTarget(n,4),e.render(t,u),n.texture.generateMipmaps=c,e.setRenderTarget(n,5),e.render(t,l),e.setRenderTarget(r)},this.clear=function(e,t,r,n){for(var i=e.getRenderTarget(),a=this.renderTarget,o=0;o<6;o++)e.setRenderTarget(a,o),e.clear(t,r,n);e.setRenderTarget(i)}}function Lr(){}function zr(e,t,r,n,i,a,o,s,u,l,c,h){fe.call(this,null,a,o,s,u,l,n,i,c,h),this.image={data:e||null,width:t||1,height:r||1},this.magFilter=void 0!==u?u:S,this.minFilter=void 0!==l?l:S,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}Pr.prototype=Object.create(We.prototype),Pr.prototype.constructor=Pr,zr.prototype=Object.create(fe.prototype),zr.prototype.constructor=zr,zr.prototype.isDataTexture=!0;var Dr=new lt,Nr=new be;function Ir(e,t,r,n,i,a){this.planes=[void 0!==e?e:new dt,void 0!==t?t:new dt,void 0!==r?r:new dt,void 0!==n?n:new dt,void 0!==i?i:new dt,void 0!==a?a:new dt]}Object.assign(Ir.prototype,{set:function(e,t,r,n,i,a){var o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(r),o[3].copy(n),o[4].copy(i),o[5].copy(a),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){for(var t=this.planes,r=0;r<6;r++)t[r].copy(e.planes[r]);return this},setFromProjectionMatrix:function(e){var t=this.planes,r=e.elements,n=r[0],i=r[1],a=r[2],o=r[3],s=r[4],u=r[5],l=r[6],c=r[7],h=r[8],f=r[9],p=r[10],d=r[11],m=r[12],v=r[13],g=r[14],y=r[15];return t[0].setComponents(o-n,c-s,d-h,y-m).normalize(),t[1].setComponents(o+n,c+s,d+h,y+m).normalize(),t[2].setComponents(o+i,c+u,d+f,y+v).normalize(),t[3].setComponents(o-i,c-u,d-f,y-v).normalize(),t[4].setComponents(o-a,c-l,d-p,y-g).normalize(),t[5].setComponents(o+a,c+l,d+p,y+g).normalize(),this},intersectsObject:function(e){var t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),Dr.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Dr)},intersectsSprite:function(e){return Dr.center.set(0,0,0),Dr.radius=.7071067811865476,Dr.applyMatrix4(e.matrixWorld),this.intersectsSphere(Dr)},intersectsSphere:function(e){for(var t=this.planes,r=e.center,n=-e.radius,i=0;i<6;i++){if(t[i].distanceToPoint(r)<n)return!1}return!0},intersectsBox:function(e){for(var t=this.planes,r=0;r<6;r++){var n=t[r];if(Nr.x=n.normal.x>0?e.max.x:e.min.x,Nr.y=n.normal.y>0?e.max.y:e.min.y,Nr.z=n.normal.z>0?e.max.z:e.min.z,n.distanceToPoint(Nr)<0)return!1}return!0},containsPoint:function(e){for(var t=this.planes,r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}});var Fr={common:{diffuse:{value:new Rt(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new le},uv2Transform:{value:new le},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new ue(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Rt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new Rt(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new le}},sprite:{diffuse:{value:new Rt(15658734)},opacity:{value:1},center:{value:new ue(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new le}}};function Ur(){var e=null,t=!1,r=null;function n(i,a){!1!==t&&(r(i,a),e.requestAnimationFrame(n))}return{start:function(){!0!==t&&null!==r&&(e.requestAnimationFrame(n),t=!0)},stop:function(){t=!1},setAnimationLoop:function(e){r=e},setContext:function(t){e=t}}}function Br(e,t){var r=t.isWebGL2,n=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),n.get(e)},remove:function(t){t.isInterleavedBufferAttribute&&(t=t.data);var r=n.get(t);r&&(e.deleteBuffer(r.buffer),n.delete(t))},update:function(t,i){t.isInterleavedBufferAttribute&&(t=t.data);var a=n.get(t);void 0===a?n.set(t,function(t,r){var n=t.array,i=t.usage,a=e.createBuffer();e.bindBuffer(r,a),e.bufferData(r,n,i),t.onUploadCallback();var o=5126;return n instanceof Float32Array?o=5126:n instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):n instanceof Uint16Array?o=5123:n instanceof Int16Array?o=5122:n instanceof Uint32Array?o=5125:n instanceof Int32Array?o=5124:n instanceof Int8Array?o=5120:n instanceof Uint8Array&&(o=5121),{buffer:a,type:o,bytesPerElement:n.BYTES_PER_ELEMENT,version:t.version}}(t,i)):a.version<t.version&&(!function(t,n,i){var a=n.array,o=n.updateRange;e.bindBuffer(i,t),-1===o.count?e.bufferSubData(i,0,a):(r?e.bufferSubData(i,o.offset*a.BYTES_PER_ELEMENT,a,o.offset,o.count):e.bufferSubData(i,o.offset*a.BYTES_PER_ELEMENT,a.subarray(o.offset,o.offset+o.count)),o.count=-1)}(a.buffer,t,i),a.version=t.version)}}}function jr(e,t,r,n){nr.call(this),this.type="PlaneBufferGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:n};var i,a,o=(e=e||1)/2,s=(t=t||1)/2,u=Math.floor(r)||1,l=Math.floor(n)||1,c=u+1,h=l+1,f=e/u,p=t/l,d=[],m=[],v=[],g=[];for(a=0;a<h;a++){var y=a*p-s;for(i=0;i<c;i++){var b=i*f-o;m.push(b,-y,0),v.push(0,0,1),g.push(i/u),g.push(1-a/l)}}for(a=0;a<l;a++)for(i=0;i<u;i++){var x=i+c*a,w=i+c*(a+1),_=i+1+c*(a+1),T=i+1+c*a;d.push(x,w,T),d.push(w,_,T)}this.setIndex(d),this.setAttribute("position",new qt(m,3)),this.setAttribute("normal",new qt(v,3)),this.setAttribute("uv",new qt(g,2))}jr.prototype=Object.create(nr.prototype),jr.prototype.constructor=jr;var Hr={alphamap_fragment:"",alphamap_pars_fragment:"",alphatest_fragment:"",aomap_fragment:"",aomap_pars_fragment:"",begin_vertex:"",beginnormal_vertex:"",bsdfs:"",bumpmap_pars_fragment:"",clipping_planes_fragment:"",clipping_planes_pars_fragment:"",clipping_planes_pars_vertex:"",clipping_planes_vertex:"",color_fragment:"",color_pars_fragment:"",color_pars_vertex:"",color_vertex:"",common:"",cube_uv_reflection_fragment:"",defaultnormal_vertex:"",displacementmap_pars_vertex:"",displacementmap_vertex:"",emissivemap_fragment:"",emissivemap_pars_fragment:"",encodings_fragment:"",encodings_pars_fragment:"",envmap_fragment:"",envmap_common_pars_fragment:"",envmap_pars_fragment:"",envmap_pars_vertex:"",envmap_physical_pars_fragment:"",envmap_vertex:"",fog_vertex:"",fog_pars_vertex:"",fog_fragment:"",fog_pars_fragment:"",gradientmap_pars_fragment:"",lightmap_fragment:"",lightmap_pars_fragment:"",lights_lambert_vertex:"",lights_pars_begin:"",lights_toon_fragment:"",lights_toon_pars_fragment:"",lights_phong_fragment:"",lights_phong_pars_fragment:"",lights_physical_fragment:"",lights_physical_pars_fragment:"",lights_fragment_begin:"",lights_fragment_maps:"",lights_fragment_end:"",logdepthbuf_fragment:"",logdepthbuf_pars_fragment:"",logdepthbuf_pars_vertex:"",logdepthbuf_vertex:"",map_fragment:"",map_pars_fragment:"",map_particle_fragment:"",map_particle_pars_fragment:"",metalnessmap_fragment:"",metalnessmap_pars_fragment:"",morphnormal_vertex:"",morphtarget_pars_vertex:"",morphtarget_vertex:"",normal_fragment_begin:"",normal_fragment_maps:"",normalmap_pars_fragment:"",clearcoat_normal_fragment_begin:"",clearcoat_normal_fragment_maps:"",clearcoat_normalmap_pars_fragment:"",packing:"",premultiplied_alpha_fragment:"",project_vertex:"",dithering_fragment:"",dithering_pars_fragment:"",roughnessmap_fragment:"",roughnessmap_pars_fragment:"",shadowmap_pars_fragment:"",shadowmap_pars_vertex:"",shadowmap_vertex:"",shadowmask_pars_fragment:"",skinbase_vertex:"",skinning_pars_vertex:"",skinning_vertex:"",skinnormal_vertex:"",specularmap_fragment:"",specularmap_pars_fragment:"",tonemapping_fragment:"",tonemapping_pars_fragment:"",uv_pars_fragment:"",uv_pars_vertex:"",uv_vertex:"",uv2_pars_fragment:"",uv2_pars_vertex:"",uv2_vertex:"",worldpos_vertex:"",background_frag:"",background_vert:"",cube_frag:"",cube_vert:"",depth_frag:"",depth_vert:"",distanceRGBA_frag:"",distanceRGBA_vert:"",equirect_frag:"",equirect_vert:"",linedashed_frag:"",linedashed_vert:"",meshbasic_frag:"",meshbasic_vert:"",meshlambert_frag:"",meshlambert_vert:"",meshmatcap_frag:"",meshmatcap_vert:"",meshtoon_frag:"",meshtoon_vert:"",meshphong_frag:"",meshphong_vert:"",meshphysical_frag:"",meshphysical_vert:"",normal_frag:"",normal_vert:"",points_frag:"",points_vert:"",shadow_frag:"",shadow_vert:"",sprite_frag:"",sprite_vert:""},Vr={basic:{uniforms:Mr([Fr.common,Fr.specularmap,Fr.envmap,Fr.aomap,Fr.lightmap,Fr.fog]),vertexShader:Hr.meshbasic_vert,fragmentShader:Hr.meshbasic_frag},lambert:{uniforms:Mr([Fr.common,Fr.specularmap,Fr.envmap,Fr.aomap,Fr.lightmap,Fr.emissivemap,Fr.fog,Fr.lights,{emissive:{value:new Rt(0)}}]),vertexShader:Hr.meshlambert_vert,fragmentShader:Hr.meshlambert_frag},phong:{uniforms:Mr([Fr.common,Fr.specularmap,Fr.envmap,Fr.aomap,Fr.lightmap,Fr.emissivemap,Fr.bumpmap,Fr.normalmap,Fr.displacementmap,Fr.fog,Fr.lights,{emissive:{value:new Rt(0)},specular:{value:new Rt(1118481)},shininess:{value:30}}]),vertexShader:Hr.meshphong_vert,fragmentShader:Hr.meshphong_frag},standard:{uniforms:Mr([Fr.common,Fr.envmap,Fr.aomap,Fr.lightmap,Fr.emissivemap,Fr.bumpmap,Fr.normalmap,Fr.displacementmap,Fr.roughnessmap,Fr.metalnessmap,Fr.fog,Fr.lights,{emissive:{value:new Rt(0)},roughness:{value:.5},metalness:{value:.5},envMapIntensity:{value:1}}]),vertexShader:Hr.meshphysical_vert,fragmentShader:Hr.meshphysical_frag},toon:{uniforms:Mr([Fr.common,Fr.specularmap,Fr.aomap,Fr.lightmap,Fr.emissivemap,Fr.bumpmap,Fr.normalmap,Fr.displacementmap,Fr.gradientmap,Fr.fog,Fr.lights,{emissive:{value:new Rt(0)},specular:{value:new Rt(1118481)},shininess:{value:30}}]),vertexShader:Hr.meshtoon_vert,fragmentShader:Hr.meshtoon_frag},matcap:{uniforms:Mr([Fr.common,Fr.bumpmap,Fr.normalmap,Fr.displacementmap,Fr.fog,{matcap:{value:null}}]),vertexShader:Hr.meshmatcap_vert,fragmentShader:Hr.meshmatcap_frag},points:{uniforms:Mr([Fr.points,Fr.fog]),vertexShader:Hr.points_vert,fragmentShader:Hr.points_frag},dashed:{uniforms:Mr([Fr.common,Fr.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Hr.linedashed_vert,fragmentShader:Hr.linedashed_frag},depth:{uniforms:Mr([Fr.common,Fr.displacementmap]),vertexShader:Hr.depth_vert,fragmentShader:Hr.depth_frag},normal:{uniforms:Mr([Fr.common,Fr.bumpmap,Fr.normalmap,Fr.displacementmap,{opacity:{value:1}}]),vertexShader:Hr.normal_vert,fragmentShader:Hr.normal_frag},sprite:{uniforms:Mr([Fr.sprite,Fr.fog]),vertexShader:Hr.sprite_vert,fragmentShader:Hr.sprite_frag},background:{uniforms:{uvTransform:{value:new le},t2D:{value:null}},vertexShader:Hr.background_vert,fragmentShader:Hr.background_frag},cube:{uniforms:Mr([Fr.envmap,{opacity:{value:1}}]),vertexShader:Hr.cube_vert,fragmentShader:Hr.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Hr.equirect_vert,fragmentShader:Hr.equirect_frag},distanceRGBA:{uniforms:Mr([Fr.common,Fr.displacementmap,{referencePosition:{value:new be},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Hr.distanceRGBA_vert,fragmentShader:Hr.distanceRGBA_frag},shadow:{uniforms:Mr([Fr.lights,Fr.fog,{color:{value:new Rt(0)},opacity:{value:1}}]),vertexShader:Hr.shadow_vert,fragmentShader:Hr.shadow_frag}};function Gr(e,t,r,n){var i,a,o=new Rt(0),s=0,u=null,l=0,c=null;function h(e,r){t.buffers.color.setClear(e.r,e.g,e.b,r,n)}return{getClearColor:function(){return o},setClearColor:function(e,t){o.set(e),h(o,s=void 0!==t?t:1)},getClearAlpha:function(){return s},setClearAlpha:function(e){h(o,s=e)},render:function(t,n,f,p){var d=n.background,m=e.xr,v=m.getSession&&m.getSession();if(v&&"additive"===v.environmentBlendMode&&(d=null),null===d?h(o,s):d&&d.isColor&&(h(d,1),p=!0),(e.autoClear||p)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),d&&306===d.mapping){void 0===a&&((a=new mr(new Er(1,1,1),new Cr({type:"BackgroundCubeMaterial",uniforms:Sr(Vr.cube.uniforms),vertexShader:Vr.cube.vertexShader,fragmentShader:Vr.cube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),a.geometry.deleteAttribute("uv"),a.onBeforeRender=function(e,t,r){this.matrixWorld.copyPosition(r.matrixWorld)},Object.defineProperty(a.material,"envMap",{get:function(){return(!1).value}}),r.update(a));var g=d;(!1).value=g,a.material.uniforms.flipEnvMap.value=1,u===d&&l===g.version&&c===e.toneMapping||(a.material.needsUpdate=!0,u=d,l=g.version,c=e.toneMapping),t.unshift(a,a.geometry,a.material,0,0,null)}else d&&d.isTexture&&(void 0===i&&((i=new mr(new jr(2,2),new Cr({type:"BackgroundMaterial",uniforms:Sr(Vr.background.uniforms),vertexShader:Vr.background.vertexShader,fragmentShader:Vr.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),Object.defineProperty(i.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(i)),i.material.uniforms.t2D.value=d,!0===d.matrixAutoUpdate&&d.updateMatrix(),i.material.uniforms.uvTransform.value.copy(d.matrix),u===d&&l===d.version&&c===e.toneMapping||(i.material.needsUpdate=!0,u=d,l=d.version,c=e.toneMapping),t.unshift(i,i.geometry,i.material,0,0,null))}}}function Wr(e,t,r,n){var i,a=n.isWebGL2;this.setMode=function(e){i=e},this.render=function(t,n){e.drawArrays(i,t,n),r.update(n,i)},this.renderInstances=function(n,o,s,u){if(0!==u){var l,c;if(a)l=e,c="drawArraysInstanced";else if(c="drawArraysInstancedANGLE",null===(l=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");l[c](i,o,s,u),r.update(s,i,u)}}}function qr(e,t,r){var n;function i(t){if("highp"===t){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}var a="undefined"!==typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext||"undefined"!==typeof WebGL2ComputeRenderingContext&&e instanceof WebGL2ComputeRenderingContext,o=void 0!==r.precision?r.precision:"highp",s=i(o);s!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",s,"instead."),o=s);var u=!0===r.logarithmicDepthBuffer,l=e.getParameter(34930),c=e.getParameter(35660),h=e.getParameter(3379),f=e.getParameter(34076),p=e.getParameter(34921),d=e.getParameter(36347),m=e.getParameter(36348),v=e.getParameter(36349),g=c>0,y=a||!!t.get("OES_texture_float");return{isWebGL2:a,getMaxAnisotropy:function(){if(void 0!==n)return n;var r=t.get("EXT_texture_filter_anisotropic");return n=null!==r?e.getParameter(r.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:i,precision:o,logarithmicDepthBuffer:u,maxTextures:l,maxVertexTextures:c,maxTextureSize:h,maxCubemapSize:f,maxAttributes:p,maxVertexUniforms:d,maxVaryings:m,maxFragmentUniforms:v,vertexTextures:g,floatFragmentTextures:y,floatVertexTextures:g&&y,maxSamples:a?e.getParameter(36183):0}}function Xr(){var e=this,t=null,r=0,n=!1,i=!1,a=new dt,o=new le,s={value:null,needsUpdate:!1};function u(){s.value!==t&&(s.value=t,s.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function l(t,r,n,i){var u=null!==t?t.length:0,l=null;if(0!==u){if(l=s.value,!0!==i||null===l){var c=n+4*u,h=r.matrixWorldInverse;o.getNormalMatrix(h),(null===l||l.length<c)&&(l=new Float32Array(c));for(var f=0,p=n;f!==u;++f,p+=4)a.copy(t[f]).applyMatrix4(h,o),a.normal.toArray(l,p),l[p+3]=a.constant}s.value=l,s.needsUpdate=!0}return e.numPlanes=u,e.numIntersection=0,l}this.uniform=s,this.numPlanes=0,this.numIntersection=0,this.init=function(e,i,a){var o=0!==e.length||i||0!==r||n;return n=i,t=l(e,a,0),r=e.length,o},this.beginShadows=function(){i=!0,l(null)},this.endShadows=function(){i=!1,u()},this.setState=function(e,a,o,c,h,f){if(!n||null===e||0===e.length||i&&!o)i?l(null):u();else{var p=i?0:r,d=4*p,m=h.clippingState||null;s.value=m,m=l(e,c,d,f);for(var v=0;v!==d;++v)m[v]=t[v];h.clippingState=m,this.numIntersection=a?this.numPlanes:0,this.numPlanes+=p}}}function Yr(e){var t={};return{get:function(r){if(void 0!==t[r])return t[r];var n;switch(r){case"WEBGL_depth_texture":n=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":n=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":n=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":n=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:n=e.getExtension(r)}return null===n&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),t[r]=n,n}}}function Zr(e,t,r){var n=new WeakMap,i=new WeakMap;function a(e){var o=e.target,s=n.get(o);for(var u in null!==s.index&&t.remove(s.index),s.attributes)t.remove(s.attributes[u]);o.removeEventListener("dispose",a),n.delete(o);var l=i.get(s);l&&(t.remove(l),i.delete(s)),r.memory.geometries--}function o(e){var r=[],n=e.index,a=e.attributes.position,o=0;if(null!==n){var s=n.array;o=n.version;for(var u=0,l=s.length;u<l;u+=3){var c=s[u+0],h=s[u+1],f=s[u+2];r.push(c,h,h,f,f,c)}}else{s=a.array;o=a.version;for(u=0,l=s.length/3-1;u<l;u+=3){c=u+0,h=u+1,f=u+2;r.push(c,h,h,f,f,c)}}var p=new(Zt(r)>65535?Wt:Vt)(r,1);p.version=o,t.update(p,34963);var d=i.get(e);d&&t.remove(d),i.set(e,p)}return{get:function(e,t){var i=n.get(t);return i||(t.addEventListener("dispose",a),t.isBufferGeometry?i=t:t.isGeometry&&(void 0===t._bufferGeometry&&(t._bufferGeometry=(new nr).setFromObject(e)),i=t._bufferGeometry),n.set(t,i),r.memory.geometries++,i)},update:function(e){var r=e.index,n=e.attributes;for(var i in null!==r&&t.update(r,34963),n)t.update(n[i],34962);var a=e.morphAttributes;for(var i in a)for(var o=a[i],s=0,u=o.length;s<u;s++)t.update(o[s],34962)},getWireframeAttribute:function(e){var t=i.get(e);if(t){var r=e.index;null!==r&&t.version<r.version&&o(e)}else o(e);return i.get(e)}}}function Kr(e,t,r,n){var i,a,o,s=n.isWebGL2;this.setMode=function(e){i=e},this.setIndex=function(e){a=e.type,o=e.bytesPerElement},this.render=function(t,n){e.drawElements(i,n,a,t*o),r.update(n,i)},this.renderInstances=function(n,u,l,c){if(0!==c){var h,f;if(s)h=e,f="drawElementsInstanced";else if(f="drawElementsInstancedANGLE",null===(h=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");h[f](i,l,a,u*o,c),r.update(l,i,c)}}}function Qr(e){var t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(e,r,n){switch(n=n||1,t.calls++,r){case 4:t.triangles+=n*(e/3);break;case 1:t.lines+=n*(e/2);break;case 3:t.lines+=n*(e-1);break;case 2:t.lines+=n*e;break;case 0:t.points+=n*e;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",r)}}}}function Jr(e,t){return Math.abs(t[1])-Math.abs(e[1])}function $r(e){var t={},r=new Float32Array(8);return{update:function(n,i,a,o){var s=n.morphTargetInfluences,u=void 0===s?0:s.length,l=t[i.id];if(void 0===l){l=[];for(var c=0;c<u;c++)l[c]=[c,0];t[i.id]=l}var h=a.morphNormals&&i.morphAttributes.normal;for(c=0;c<u;c++){0!==(p=l[c])[1]&&h&&i.deleteAttribute("morphNormal"+c)}for(c=0;c<u;c++){(p=l[c])[0]=c,p[1]=s[c]}l.sort(Jr);var f=0;for(c=0;c<8;c++){var p;if(p=l[c]){var d=p[0],m=p[1];if(m){h&&i.setAttribute("morphNormal"+c,h[d]),r[c]=m,f+=m;continue}}r[c]=0}var v=i.morphTargetsRelative?1:1-f;o.getUniforms().setValue(e,"morphTargetBaseInfluence",v),o.getUniforms().setValue(e,"morphTargetInfluences",r)}}}function en(e,t,r,n){var i=new WeakMap;return{update:function(e){var r=n.render.frame,a=e.geometry,o=t.get(e,a);return i.get(o)!==r&&(a.isGeometry&&o.updateFromObject(e),t.update(o),i.set(o,r)),o},dispose:function(){i=new WeakMap}}}function tn(){}function rn(){}function nn(){}Object.defineProperty(tn.prototype,"images",{get:function(){return this.image},set:function(e){this.image=e}});var an=new fe,on=new rn,sn=new nn,un=new tn,ln=[],cn=[],hn=new Float32Array(16),fn=new Float32Array(9),pn=new Float32Array(4);function dn(e,t,r){var n=e[0];if(n<=0||n>0)return e;var i=t*r,a=ln[i];if(void 0===a&&(a=new Float32Array(i),ln[i]=a),0!==t){n.toArray(a,0);for(var o=1,s=0;o!==t;++o)s+=r,e[o].toArray(a,s)}return a}function mn(e,t){if(e.length!==t.length)return!1;for(var r=0,n=e.length;r<n;r++)if(e[r]!==t[r])return!1;return!0}function vn(e,t){for(var r=0,n=t.length;r<n;r++)e[r]=t[r]}function gn(e,t){var r=cn[t];void 0===r&&(r=new Int32Array(t),cn[t]=r);for(var n=0;n!==t;++n)r[n]=e.allocateTextureUnit();return r}function yn(e,t){var r=this.cache;r[0]!==t&&(e.uniform1f(this.addr,t),r[0]=t)}function bn(e,t){var r=this.cache;if(void 0!==t.x)r[0]===t.x&&r[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),r[0]=t.x,r[1]=t.y);else{if(mn(r,t))return;e.uniform2fv(this.addr,t),vn(r,t)}}function xn(e,t){var r=this.cache;if(void 0!==t.x)r[0]===t.x&&r[1]===t.y&&r[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),r[0]=t.x,r[1]=t.y,r[2]=t.z);else if(void 0!==t.r)r[0]===t.r&&r[1]===t.g&&r[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),r[0]=t.r,r[1]=t.g,r[2]=t.b);else{if(mn(r,t))return;e.uniform3fv(this.addr,t),vn(r,t)}}function wn(e,t){var r=this.cache;if(void 0!==t.x)r[0]===t.x&&r[1]===t.y&&r[2]===t.z&&r[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),r[0]=t.x,r[1]=t.y,r[2]=t.z,r[3]=t.w);else{if(mn(r,t))return;e.uniform4fv(this.addr,t),vn(r,t)}}function _n(e,t){var r=this.cache,n=t.elements;if(void 0===n){if(mn(r,t))return;e.uniformMatrix2fv(this.addr,!1,t),vn(r,t)}else{if(mn(r,n))return;pn.set(n),e.uniformMatrix2fv(this.addr,!1,pn),vn(r,n)}}function Tn(e,t){var r=this.cache,n=t.elements;if(void 0===n){if(mn(r,t))return;e.uniformMatrix3fv(this.addr,!1,t),vn(r,t)}else{if(mn(r,n))return;fn.set(n),e.uniformMatrix3fv(this.addr,!1,fn),vn(r,n)}}function En(e,t){var r=this.cache,n=t.elements;if(void 0===n){if(mn(r,t))return;e.uniformMatrix4fv(this.addr,!1,t),vn(r,t)}else{if(mn(r,n))return;hn.set(n),e.uniformMatrix4fv(this.addr,!1,hn),vn(r,n)}}function Sn(e,t,r){var n=this.cache,i=r.allocateTextureUnit();n[0]!==i&&(e.uniform1i(this.addr,i),n[0]=i),r.safeSetTexture2D(t||an,i)}function Mn(e,t,r){var n=this.cache,i=r.allocateTextureUnit();n[0]!==i&&(e.uniform1i(this.addr,i),n[0]=i),r.setTexture2DArray(t||on,i)}function An(e,t,r){var n=this.cache,i=r.allocateTextureUnit();n[0]!==i&&(e.uniform1i(this.addr,i),n[0]=i),r.setTexture3D(t||sn,i)}function Cn(e,t,r){var n=this.cache,i=r.allocateTextureUnit();n[0]!==i&&(e.uniform1i(this.addr,i),n[0]=i),r.safeSetTextureCube(t||un,i)}function Rn(e,t){var r=this.cache;r[0]!==t&&(e.uniform1i(this.addr,t),r[0]=t)}function On(e,t){var r=this.cache;mn(r,t)||(e.uniform2iv(this.addr,t),vn(r,t))}function kn(e,t){var r=this.cache;mn(r,t)||(e.uniform3iv(this.addr,t),vn(r,t))}function Pn(e,t){var r=this.cache;mn(r,t)||(e.uniform4iv(this.addr,t),vn(r,t))}function Ln(e,t){var r=this.cache;r[0]!==t&&(e.uniform1ui(this.addr,t),r[0]=t)}function zn(e,t){e.uniform1fv(this.addr,t)}function Dn(e,t){e.uniform1iv(this.addr,t)}function Nn(e,t){e.uniform2iv(this.addr,t)}function In(e,t){e.uniform3iv(this.addr,t)}function Fn(e,t){e.uniform4iv(this.addr,t)}function Un(e,t){var r=dn(t,this.size,2);e.uniform2fv(this.addr,r)}function Bn(e,t){var r=dn(t,this.size,3);e.uniform3fv(this.addr,r)}function jn(e,t){var r=dn(t,this.size,4);e.uniform4fv(this.addr,r)}function Hn(e,t){var r=dn(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,r)}function Vn(e,t){var r=dn(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,r)}function Gn(e,t){var r=dn(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,r)}function Wn(e,t,r){var n=t.length,i=gn(r,n);e.uniform1iv(this.addr,i);for(var a=0;a!==n;++a)r.safeSetTexture2D(t[a]||an,i[a])}function qn(e,t,r){var n=t.length,i=gn(r,n);e.uniform1iv(this.addr,i);for(var a=0;a!==n;++a)r.safeSetTextureCube(t[a]||un,i[a])}function Xn(e,t,r){this.id=e,this.addr=r,this.cache=[],this.setValue=function(e){switch(e){case 5126:return yn;case 35664:return bn;case 35665:return xn;case 35666:return wn;case 35674:return _n;case 35675:return Tn;case 35676:return En;case 5124:case 35670:return Rn;case 35667:case 35671:return On;case 35668:case 35672:return kn;case 35669:case 35673:return Pn;case 5125:return Ln;case 35678:case 36198:case 36298:case 36306:case 35682:return Sn;case 35679:case 36299:case 36307:return An;case 35680:case 36300:case 36308:case 36293:return Cn;case 36289:case 36303:case 36311:case 36292:return Mn}}(t.type)}function Yn(e,t,r){this.id=e,this.addr=r,this.cache=[],this.size=t.size,this.setValue=function(e){switch(e){case 5126:return zn;case 35664:return Un;case 35665:return Bn;case 35666:return jn;case 35674:return Hn;case 35675:return Vn;case 35676:return Gn;case 5124:case 35670:return Dn;case 35667:case 35671:return Nn;case 35668:case 35672:return In;case 35669:case 35673:return Fn;case 35678:case 36198:case 36298:case 36306:case 35682:return Wn;case 35680:case 36300:case 36308:case 36293:return qn}}(t.type)}function Zn(e){this.id=e,this.seq=[],this.map={}}Yn.prototype.updateCache=function(e){var t=this.cache;e instanceof Float32Array&&t.length!==e.length&&(this.cache=new Float32Array(e.length)),vn(t,e)},Zn.prototype.setValue=function(e,t,r){for(var n=this.seq,i=0,a=n.length;i!==a;++i){var o=n[i];o.setValue(e,t[o.id],r)}};var Kn=/([\w\d_]+)(\])?(\[|\.)?/g;function Qn(e,t){e.seq.push(t),e.map[t.id]=t}function Jn(e,t,r){var n=e.name,i=n.length;for(Kn.lastIndex=0;;){var a=Kn.exec(n),o=Kn.lastIndex,s=a[1],u="]"===a[2],l=a[3];if(u&&(s|=0),void 0===l||"["===l&&o+2===i){Qn(r,void 0===l?new Xn(s,e,t):new Yn(s,e,t));break}var c=r.map[s];void 0===c&&Qn(r,c=new Zn(s)),r=c}}function $n(e,t){this.seq=[],this.map={};for(var r=e.getProgramParameter(t,35718),n=0;n<r;++n){var i=e.getActiveUniform(t,n);Jn(i,e.getUniformLocation(t,i.name),this)}}function ei(e,t,r){var n=e.createShader(t);return e.shaderSource(n,r),e.compileShader(n),n}$n.prototype.setValue=function(e,t,r,n){var i=this.map[t];void 0!==i&&i.setValue(e,r,n)},$n.prototype.setOptional=function(e,t,r){var n=t[r];void 0!==n&&this.setValue(e,r,n)},$n.upload=function(e,t,r,n){for(var i=0,a=t.length;i!==a;++i){var o=t[i],s=r[o.id];!1!==s.needsUpdate&&o.setValue(e,s.value,n)}},$n.seqWithValue=function(e,t){for(var r=[],n=0,i=e.length;n!==i;++n){var a=e[n];a.id in t&&r.push(a)}return r};var ti=0;function ri(e,t,r){var n=e.getShaderParameter(t,35713),i=e.getShaderInfoLog(t).trim();return n&&""===i?"":"THREE.WebGLShader: gl.getShaderInfoLog() "+r+"\n"+i+function(e){for(var t=e.split("\n"),r=0;r<t.length;r++)t[r]=r+1+": "+t[r];return t.join("\n")}(e.getShaderSource(t))}function ni(e){return""!==e}function ii(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function ai(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}var oi=/^[ \t]*#include +<([\w\d./]+)>/gm;function si(e){return e.replace(oi,ui)}function ui(e,t){var r=Hr[t];if(void 0===r)throw new Error("Can not resolve #include <"+t+">");return si(r)}var li=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g;function ci(e){return e.replace(li,hi)}function hi(e,t,r,n){for(var i="",a=parseInt(t);a<parseInt(r);a++)i+=n.replace(/\[ i \]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return i}function fi(e,t,r){var n,i,a=e.getContext(),o=r.defines,s=r.vertexShader,u=r.fragmentShader,l=(e.gammaFactor>0&&e.gammaFactor,r.isWebGL2?"":function(e){return[e.extensionDerivatives||e.envMapCubeUV||e.bumpMap||e.tangentSpaceNormalMap||e.clearcoatNormalMap||e.flatShading||"physical"===e.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",e.extensionShaderTextureLOD&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(ni).join("\n")}(r)),c=function(e){var t=[];for(var r in e){var n=e[r];!1!==n&&t.push("#define "+r+" "+n)}return t.join("\n")}(o),h=a.createProgram();(n=[c].filter(ni).join("\n")).length>0&&(n+="\n"),(i=[l,c].filter(ni).join("\n")).length>0&&(i+="\n"),s=ai(s=ii(s=si(s),r),r),u=ai(u=ii(u=si(u),r),r),s=ci(s),u=ci(u),r.isWebGL2;var f,p,d=i+u,m=ei(a,35633,n+s),v=ei(a,35632,d);if(a.attachShader(h,m),a.attachShader(h,v),void 0!==r.index0AttributeName&&a.bindAttribLocation(h,0,r.index0AttributeName),a.linkProgram(h),e.debug.checkShaderErrors){var g=a.getProgramInfoLog(h).trim(),y=a.getShaderInfoLog(m).trim(),b=a.getShaderInfoLog(v).trim(),x=!0,w=!0;if(!1===a.getProgramParameter(h,35714)){x=!1;var _=ri(a,m,"vertex"),T=ri(a,v,"fragment");console.error("THREE.WebGLProgram: shader error: ",a.getError(),"35715",a.getProgramParameter(h,35715),"gl.getProgramInfoLog",g,_,T)}else""!==g?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",g):""!==y&&""!==b||(w=!1);w&&(this.diagnostics={runnable:x,programLog:g,vertexShader:{log:y,prefix:n},fragmentShader:{log:b,prefix:i}})}return a.detachShader(h,m),a.detachShader(h,v),a.deleteShader(m),a.deleteShader(v),this.getUniforms=function(){return void 0===f&&(f=new $n(a,h)),f},this.getAttributes=function(){return void 0===p&&(p=function(e,t){for(var r={},n=e.getProgramParameter(t,35721),i=0;i<n;i++){var a=e.getActiveAttrib(t,i).name;r[a]=e.getAttribLocation(t,a)}return r}(a,h)),p},this.destroy=function(){a.deleteProgram(h),this.program=void 0},this.name=r.shaderName,this.id=ti++,this.cacheKey=t,this.usedTimes=1,this.program=h,this.vertexShader=m,this.fragmentShader=v,this}function pi(e,t,r){var n=[],i=r.isWebGL2,a=r.logarithmicDepthBuffer,o=r.floatVertexTextures,s=r.precision,u=(r.maxVertexUniforms,r.vertexTextures),l={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function c(e){var t;return e?e.isTexture?t=e.encoding:e.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),t=e.texture.encoding):t=$,t}this.getParameters=function(n,h,f,p,d,m,v){var g=p.fog,y=null,b=l[n.type];null!==n.precision&&(s=r.getMaxPrecision(n.precision))!==n.precision&&console.warn("THREE.WebGLProgram.getParameters:",n.precision,"not supported, using",s,"instead.");var x=function(e,t){var r;if(t){var n=Vr[t];r={name:e.type,uniforms:Ar.clone(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader}}else r={name:e.type,uniforms:e.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader};return r}(n,b);n.onBeforeCompile(x,e);var w=e.getRenderTarget();return{isWebGL2:i,shaderID:b,shaderName:x.name,uniforms:x.uniforms,vertexShader:x.vertexShader,fragmentShader:x.fragmentShader,defines:n.defines,isRawShaderMaterial:!0,isShaderMaterial:!0,precision:s,instancing:!1,supportsVertexTextures:u,outputEncoding:null!==w?c(w.texture):e.outputEncoding,map:!!n.map,mapEncoding:c(n.map),matcap:!!n.matcap,matcapEncoding:c(n.matcap),envMap:!1,envMapMode:y,envMapEncoding:c(y),envMapCubeUV:!1,lightMap:!!n.lightMap,lightMapEncoding:c(n.lightMap),aoMap:!!n.aoMap,emissiveMap:!!n.emissiveMap,emissiveMapEncoding:c(n.emissiveMap),bumpMap:!!n.bumpMap,normalMap:!!n.normalMap,objectSpaceNormalMap:1===n.normalMapType,tangentSpaceNormalMap:0===n.normalMapType,clearcoatNormalMap:!!n.clearcoatNormalMap,displacementMap:!!n.displacementMap,roughnessMap:!!n.roughnessMap,metalnessMap:!!n.metalnessMap,specularMap:!!n.specularMap,alphaMap:!!n.alphaMap,gradientMap:!!n.gradientMap,sheen:!!n.sheen,combine:n.combine,vertexTangents:n.normalMap&&n.vertexTangents,vertexColors:n.vertexColors,vertexUvs:!!n.map||!!n.bumpMap||!!n.normalMap||!!n.specularMap||!!n.alphaMap||!!n.emissiveMap||!!n.roughnessMap||!!n.metalnessMap||!!n.clearcoatNormalMap||!!n.displacementMap,uvsVertexOnly:!(n.map||n.bumpMap||n.normalMap||n.specularMap||n.alphaMap||n.emissiveMap||n.roughnessMap||n.metalnessMap||n.clearcoatNormalMap)&&!!n.displacementMap,fog:!!g,useFog:n.fog,fogExp2:g&&g.isFogExp2,flatShading:n.flatShading,sizeAttenuation:n.sizeAttenuation,logarithmicDepthBuffer:a,skinning:n.skinning&&!1,maxBones:0,useVertexTexture:o,morphTargets:!1,morphNormals:n.morphNormals,maxMorphTargets:e.maxMorphTargets,maxMorphNormals:e.maxMorphNormals,numDirLights:h.directional.length,numPointLights:h.point.length,numSpotLights:h.spot.length,numRectAreaLights:h.rectArea.length,numHemiLights:h.hemi.length,numDirLightShadows:h.directionalShadowMap.length,numPointLightShadows:h.pointShadowMap.length,numSpotLightShadows:h.spotShadowMap.length,numClippingPlanes:d,numClipIntersection:m,dithering:n.dithering,shadowMapEnabled:e.shadowMap.enabled&&f.length>0,shadowMapType:e.shadowMap.type,toneMapping:n.toneMapped?e.toneMapping:0,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:n.premultipliedAlpha,alphaTest:n.alphaTest,doubleSided:2===n.side,flipSided:1===n.side,depthPacking:void 0!==n.depthPacking&&n.depthPacking,index0AttributeName:n.index0AttributeName,extensionDerivatives:n.extensions&&n.extensions.derivatives,extensionFragDepth:n.extensions&&n.extensions.fragDepth,extensionDrawbuffers:n.extensions&&n.extensions.drawBuffers,extensionShaderTextureLOD:n.extensions&&n.extensions.shaderTextureLOD,rendererExtensionFragDepth:i||null!==t.get("EXT_frag_depth"),rendererExtensionDrawBuffers:i||null!==t.get("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:i||null!==t.get("EXT_shader_texture_lod"),onBeforeCompile:n.onBeforeCompile}},this.getProgramCacheKey=function(e){var t=[];if(e.shaderID?t.push(e.shaderID):(t.push(e.fragmentShader),t.push(e.vertexShader)),void 0!==e.defines)for(var r in e.defines)t.push(r),t.push(e.defines[r]);return t.push(e.onBeforeCompile.toString()),t.join()},this.acquireProgram=function(t,r){for(var i,a=0,o=n.length;a<o;a++){var s=n[a];if(s.cacheKey===r){++(i=s).usedTimes;break}}return void 0===i&&(i=new fi(e,r,t),n.push(i)),i},this.releaseProgram=function(e){if(0===--e.usedTimes){var t=n.indexOf(e);n[t]=n[n.length-1],n.pop(),e.destroy()}},this.programs=n}function di(){var e=new WeakMap;return{get:function(t){var r=e.get(t);return void 0===r&&(r={},e.set(t,r)),r},remove:function(t){e.delete(t)},update:function(t,r,n){e.get(t)[r]=n},dispose:function(){e=new WeakMap}}}function mi(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program!==t.program?e.program.id-t.program.id:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function vi(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function gi(){var e=[],t=0,r=[],n=[],i={id:-1};function a(r,n,a,o,s,u){var l=e[t];return void 0===l?(l={id:r.id,object:r,geometry:n,material:a,program:a.program||i,groupOrder:o,renderOrder:r.renderOrder,z:s,group:u},e[t]=l):(l.id=r.id,l.object=r,l.geometry=n,l.material=a,l.program=a.program||i,l.groupOrder=o,l.renderOrder=r.renderOrder,l.z=s,l.group=u),t++,l}return{opaque:r,transparent:n,init:function(){t=0,r.length=0,n.length=0},push:function(e,t,i,o,s,u){var l=a(e,t,i,o,s,u);(!0===i.transparent?n:r).push(l)},unshift:function(e,t,i,o,s,u){var l=a(e,t,i,o,s,u);(!0===i.transparent?n:r).unshift(l)},finish:function(){for(var r=t,n=e.length;r<n;r++){var i=e[r];if(null===i.id)break;i.id=null,i.object=null,i.geometry=null,i.material=null,i.program=null,i.group=null}},sort:function(e,t){r.length>1&&r.sort(e||mi),n.length>1&&n.sort(t||vi)}}}function yi(){var e=new WeakMap;function t(r){var n=r.target;n.removeEventListener("dispose",t),e.delete(n)}return{get:function(r,n){var i,a=e.get(r);return void 0===a?(i=new gi,e.set(r,new WeakMap),e.get(r).set(n,i),r.addEventListener("dispose",t)):void 0===(i=a.get(n))&&(i=new gi,a.set(n,i)),i},dispose:function(){e=new WeakMap}}}var bi=0;function xi(e,t){return(t.castShadow?1:0)-(e.castShadow?1:0)}function wi(){for(var e={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},t=0;t<9;t++)e.probe.push(new be);new Ae,new Ae;return{setup:function(t,r,n){for(var i=0;i<9;i++)e.probe[i].set(0,0,0);n.matrixWorldInverse,t.sort(xi),i=0;for(var a=t.length;i<a;i++){var o=t[i];o.color,o.intensity,o.distance,o.shadow&&o.shadow.map&&o.shadow.map.texture}e.ambient[0]=0,e.ambient[1]=0,e.ambient[2]=0;var s=e.hash;0===s.directionalLength&&0===s.pointLength&&0===s.spotLength&&0===s.rectAreaLength&&0===s.hemiLength&&0===s.numDirectionalShadows&&0===s.numPointShadows&&0===s.numSpotShadows||(e.directional.length=0,e.spot.length=0,e.rectArea.length=0,e.point.length=0,e.hemi.length=0,e.directionalShadow.length=0,e.directionalShadowMap.length=0,e.pointShadow.length=0,e.pointShadowMap.length=0,e.spotShadow.length=0,e.spotShadowMap.length=0,e.directionalShadowMatrix.length=0,e.pointShadowMatrix.length=0,e.spotShadowMatrix.length=0,s.directionalLength=0,s.pointLength=0,s.spotLength=0,s.rectAreaLength=0,s.hemiLength=0,s.numDirectionalShadows=0,s.numPointShadows=0,s.numSpotShadows=0,e.version=bi++)},state:e}}function _i(){var e=new wi,t=[],r=[];return{init:function(){t.length=0,r.length=0},state:{lightsArray:t,shadowsArray:r,lights:e},setupLights:function(n){e.setup(t,r,n)},pushLight:function(e){t.push(e)},pushShadow:function(e){r.push(e)}}}function Ti(){var e=new WeakMap;function t(r){var n=r.target;n.removeEventListener("dispose",t),e.delete(n)}return{get:function(r,n){var i;return!1===e.has(r)?(i=new _i,e.set(r,new WeakMap),e.get(r).set(n,i),r.addEventListener("dispose",t)):!1===e.get(r).has(n)?(i=new _i,e.get(r).set(n,i)):i=e.get(r).get(n),i},dispose:function(){e=new WeakMap}}}function Ei(e){Dt.call(this),this.type="MeshDepthMaterial",this.depthPacking=3200,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(e)}function Si(){this.render=function(){}}function Mi(e,t,r){var n,i,a=r.isWebGL2;var o=new function(){var t=!1,r=new pe,n=null,i=new pe(0,0,0,0);return{setMask:function(r){n===r||t||(e.colorMask(r,r,r,r),n=r)},setLocked:function(e){t=e},setClear:function(t,n,a,o,s){!0===s&&(t*=o,n*=o,a*=o),r.set(t,n,a,o),!1===i.equals(r)&&(e.clearColor(t,n,a,o),i.copy(r))},reset:function(){t=!1,n=null,i.set(-1,0,0,0)}}},s=new function(){var t=!1,r=null,n=null,i=null;return{setTest:function(e){e?H(2929):V(2929)},setMask:function(n){r===n||t||(e.depthMask(n),r=n)},setFunc:function(t){if(n!==t){if(t)switch(t){case 0:e.depthFunc(512);break;case 1:e.depthFunc(519);break;case 2:e.depthFunc(513);break;case 3:e.depthFunc(515);break;case 4:e.depthFunc(514);break;case 5:e.depthFunc(518);break;case 6:e.depthFunc(516);break;case 7:e.depthFunc(517);break;default:e.depthFunc(515)}else e.depthFunc(515);n=t}},setLocked:function(e){t=e},setClear:function(t){i!==t&&(e.clearDepth(t),i=t)},reset:function(){t=!1,r=null,n=null,i=null}}},l=new function(){var t=!1,r=null,n=null,i=null,a=null,o=null,s=null,u=null,l=null;return{setTest:function(e){t||(e?H(2960):V(2960))},setMask:function(n){r===n||t||(e.stencilMask(n),r=n)},setFunc:function(t,r,o){n===t&&i===r&&a===o||(e.stencilFunc(t,r,o),n=t,i=r,a=o)},setOp:function(t,r,n){o===t&&s===r&&u===n||(e.stencilOp(t,r,n),o=t,s=r,u=n)},setLocked:function(e){t=e},setClear:function(t){l!==t&&(e.clearStencil(t),l=t)},reset:function(){t=!1,r=null,n=null,i=null,a=null,o=null,s=null,u=null,l=null}}},c=e.getParameter(34921),h=new Uint8Array(c),f=new Uint8Array(c),p=new Uint8Array(c),d={},m=null,v=null,g=null,y=null,b=null,x=null,_=null,T=null,E=null,S=!1,M=null,A=null,C=null,R=null,O=null,k=e.getParameter(35661),P=!1,L=0,z=e.getParameter(7938);-1!==z.indexOf("WebGL")?(L=parseFloat(/^WebGL\ ([0-9])/.exec(z)[1]),P=L>=1):-1!==z.indexOf("OpenGL ES")&&(L=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(z)[1]),P=L>=2);var D=null,N={},I=new pe,F=new pe;function U(t,r,n){var i=new Uint8Array(4),a=e.createTexture();e.bindTexture(t,a),e.texParameteri(t,10241,9728),e.texParameteri(t,10240,9728);for(var o=0;o<n;o++)e.texImage2D(r+o,0,6408,1,1,0,6408,5121,i);return a}var B={};function j(r,n){(h[r]=1,0===f[r]&&(e.enableVertexAttribArray(r),f[r]=1),p[r]!==n)&&((a?e:t.get("ANGLE_instanced_arrays"))[a?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](r,n),p[r]=n)}function H(t){!0!==d[t]&&(e.enable(t),d[t]=!0)}function V(t){!1!==d[t]&&(e.disable(t),d[t]=!1)}B[3553]=U(3553,3553,1),B[34067]=U(34067,34069,6),o.setClear(0,0,0,1),s.setClear(1),l.setClear(0),H(2929),s.setFunc(3),Y(!1),Z(1),H(2884),X(0);var G=(n={},Object(u.a)(n,w,32774),Object(u.a)(n,101,32778),Object(u.a)(n,102,32779),n);if(a)G[103]=32775,G[104]=32776;else{var W=t.get("EXT_blend_minmax");null!==W&&(G[103]=W.MIN_EXT,G[104]=W.MAX_EXT)}var q=(i={},Object(u.a)(i,200,0),Object(u.a)(i,201,1),Object(u.a)(i,202,768),Object(u.a)(i,204,770),Object(u.a)(i,210,776),Object(u.a)(i,208,774),Object(u.a)(i,206,772),Object(u.a)(i,203,769),Object(u.a)(i,205,771),Object(u.a)(i,209,775),Object(u.a)(i,207,773),i);function X(t,r,n,i,a,o,s,u){if(0!==t){if(v||(H(3042),v=!0),5===t)a=a||r,o=o||n,s=s||i,r===y&&a===_||(e.blendEquationSeparate(G[r],G[a]),y=r,_=a),n===b&&i===x&&o===T&&s===E||(e.blendFuncSeparate(q[n],q[i],q[o],q[s]),b=n,x=i,T=o,E=s),g=t,S=null;else if(t!==g||u!==S){if(y===w&&_===w||(e.blendEquation(32774),y=w,_=w),u)switch(t){case 1:e.blendFuncSeparate(1,771,1,771);break;case 2:e.blendFunc(1,1);break;case 3:e.blendFuncSeparate(0,0,769,771);break;case 4:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case 1:e.blendFuncSeparate(770,771,1,771);break;case 2:e.blendFunc(770,1);break;case 3:e.blendFunc(0,769);break;case 4:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}b=null,x=null,T=null,E=null,g=t,S=u}}else v&&(V(3042),v=!1)}function Y(t){M!==t&&(t?e.frontFace(2304):e.frontFace(2305),M=t)}function Z(t){0!==t?(H(2884),t!==A&&(1===t?e.cullFace(1029):2===t?e.cullFace(1028):e.cullFace(1032))):V(2884),A=t}function K(t,r,n){t?(H(32823),R===r&&O===n||(e.polygonOffset(r,n),R=r,O=n)):V(32823)}function Q(t){void 0===t&&(t=33984+k-1),D!==t&&(e.activeTexture(t),D=t)}function J(t,r){null===D&&Q();var n=N[D];void 0===n&&(n={type:void 0,texture:void 0},N[D]=n),n.type===t&&n.texture===r||(e.bindTexture(t,r||B[t]),n.type=t,n.texture=r)}return{buffers:{color:o,depth:s,stencil:l},initAttributes:function(){for(var e=0,t=h.length;e<t;e++)h[e]=0},enableAttribute:function(e){j(e,0)},enableAttributeAndDivisor:j,disableUnusedAttributes:function(){for(var t=0,r=f.length;t!==r;++t)f[t]!==h[t]&&(e.disableVertexAttribArray(t),f[t]=0)},enable:H,disable:V,useProgram:function(t){return m!==t&&(e.useProgram(t),m=t,!0)},setBlending:X,setMaterial:function(e,t){2===e.side?V(2884):H(2884);var r=1===e.side;t&&(r=!r),Y(r),1===e.blending&&!1===e.transparent?X(0):X(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),s.setFunc(e.depthFunc),s.setTest(e.depthTest),s.setMask(e.depthWrite),o.setMask(e.colorWrite);var n=e.stencilWrite;l.setTest(n),n&&(l.setMask(e.stencilWriteMask),l.setFunc(e.stencilFunc,e.stencilRef,e.stencilFuncMask),l.setOp(e.stencilFail,e.stencilZFail,e.stencilZPass)),K(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits)},setFlipSided:Y,setCullFace:Z,setLineWidth:function(t){t!==C&&(P&&e.lineWidth(t),C=t)},setPolygonOffset:K,setScissorTest:function(e){e?H(3089):V(3089)},activeTexture:Q,bindTexture:J,activeAndBindTexture:function(e,t,r){var n=N[e];(void 0===n||n.type!==t||n.texture!==r)&&(Q(e),J(t,r))},unbindTexture:function(){var t=N[D];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},scissor:function(t){!1===I.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),I.copy(t))},viewport:function(t){!1===F.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),F.copy(t))},reset:function(){for(var t=0;t<f.length;t++)1===f[t]&&(e.disableVertexAttribArray(t),f[t]=0);d={},D=null,N={},m=null,g=null,M=null,A=null,o.reset(),s.reset(),l.reset()}}}function Ai(e,t,r,n,i,a,o){var s,l,c,h=i.isWebGL2,f=i.maxTextures,p=(i.maxCubemapSize,i.maxTextureSize),d=i.maxSamples,m=!1;try{m="undefined"!==typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(Q){}function v(e,t){return m?new OffscreenCanvas(e,t):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function g(e){return se.isPowerOfTwo(e.width)&&se.isPowerOfTwo(e.height)}function y(e,t){return e.generateMipmaps&&t&&e.minFilter!==S&&e.minFilter!==C}function b(t,r,i,a){e.generateMipmap(t),n.get(r).__maxMipLevel=Math.log(Math.max(i,a))*Math.LOG2E}function x(r,n,i){if(!1===h)return n;if(null!==r){if(void 0!==e[r])return e[r];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+r+"'")}var a=n;return 6403===n&&(5126===i&&(a=33326),5131===i&&(a=33325),5121===i&&(a=33321)),6407===n&&(5126===i&&(a=34837),5131===i&&(a=34843),5121===i&&(a=32849)),6408===n&&(5126===i&&(a=34836),5131===i&&(a=34842),5121===i&&(a=32856)),33325===a||33326===a||34842===a||34836===a?t.get("EXT_color_buffer_float"):34843!==a&&34837!==a||console.warn("THREE.WebGLRenderer: Floating point textures with RGB format not supported. Please use RGBA instead."),a}function w(e){return e===S||e===M||e===A?9728:9729}function O(t){var r=t.target;r.removeEventListener("dispose",O),function(t){var r=n.get(t);if(void 0===r.__webglInit)return;e.deleteTexture(r.__webglTexture),n.remove(t)}(r),o.memory.textures--}function B(t){var r=t.target;r.removeEventListener("dispose",B),function(t){var r=n.get(t),i=n.get(t.texture);if(!t)return;void 0!==i.__webglTexture&&e.deleteTexture(i.__webglTexture);t.depthTexture&&t.depthTexture.dispose();e.deleteFramebuffer(r.__webglFramebuffer),r.__webglDepthbuffer&&e.deleteRenderbuffer(r.__webglDepthbuffer);n.remove(t.texture),n.remove(t)}(r),o.memory.textures--}var j=0;function H(e,t){var i=n.get(e);if(e.version>0&&i.__version!==e.version){var a=e.image;if(void 0===a)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==a.complete)return void q(i,e,t);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}r.activeAndBindTexture(33984+t,3553,i.__webglTexture)}var V=(s={},Object(u.a)(s,_,10497),Object(u.a)(s,T,33071),Object(u.a)(s,E,33648),s),G=(l={},Object(u.a)(l,S,9728),Object(u.a)(l,M,9984),Object(u.a)(l,A,9986),Object(u.a)(l,C,9729),Object(u.a)(l,1007,9985),Object(u.a)(l,R,9987),l);function W(r,a,o){o?(e.texParameteri(r,10242,V[a.wrapS]),e.texParameteri(r,10243,V[a.wrapT]),32879!==r&&35866!==r||e.texParameteri(r,32882,V[a.wrapR]),e.texParameteri(r,10240,G[a.magFilter]),e.texParameteri(r,10241,G[a.minFilter])):(e.texParameteri(r,10242,33071),e.texParameteri(r,10243,33071),32879!==r&&35866!==r||e.texParameteri(r,32882,33071),a.wrapS===T&&a.wrapT===T||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(r,10240,w(a.magFilter)),e.texParameteri(r,10241,w(a.minFilter)),a.minFilter!==S&&a.minFilter!==C&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter."));var s=t.get("EXT_texture_filter_anisotropic");if(s){if(a.type===L&&null===t.get("OES_texture_float_linear"))return;if(a.type===z&&null===(h||t.get("OES_texture_half_float_linear")))return;(a.anisotropy>1||n.get(a).__currentAnisotropy)&&(e.texParameterf(r,s.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,i.getMaxAnisotropy())),n.get(a).__currentAnisotropy=a.anisotropy)}}function q(t,n,i){var s=3553;n.isDataTexture2DArray&&(s=35866),n.isDataTexture3D&&(s=32879),function(t,r){void 0===t.__webglInit&&(t.__webglInit=!0,r.addEventListener("dispose",O),t.__webglTexture=e.createTexture(),o.memory.textures++)}(t,n),r.activeTexture(33984+i),r.bindTexture(s,t.__webglTexture),e.pixelStorei(37440,n.flipY),e.pixelStorei(37441,n.premultiplyAlpha),e.pixelStorei(3317,n.unpackAlignment);var u=function(e){return!h&&(e.wrapS!==T||e.wrapT!==T||e.minFilter!==S&&e.minFilter!==C)}(n)&&!1===g(n.image),l=function(e,t,r,n){var i=1;if((e.width>n||e.height>n)&&(i=n/Math.max(e.width,e.height)),i<1||!0===t){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){var a=t?se.floorPowerOfTwo:Math.floor,o=a(i*e.width),s=a(i*e.height);void 0===c&&(c=v(o,s));var u=r?v(o,s):c;return u.width=o,u.height=s,u.getContext("2d").drawImage(e,0,0,o,s),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+e.width+"x"+e.height+") to ("+o+"x"+s+")."),u}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+e.width+"x"+e.height+")."),e}return e}(n.image,u,!1,p),f=g(l)||h,d=a.convert(n.format),m=a.convert(n.type),w=x(n.internalFormat,d,m);W(s,n,f);var _,E=n.mipmaps;if(n.isDepthTexture){if(w=6402,n.type===L){if(!1===h)throw new Error("Float Depth Texture only supported in WebGL2.0");w=36012}else h&&(w=33189);n.format===F&&6402===w&&n.type!==k&&n.type!==P&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),n.type=k,m=a.convert(n.type)),n.format===U&&(w=34041,n.type!==D&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),n.type=D,m=a.convert(n.type))),r.texImage2D(3553,0,w,l.width,l.height,0,d,m,null)}else if(n.isDataTexture)if(E.length>0&&f){for(var M=0,A=E.length;M<A;M++)_=E[M],r.texImage2D(3553,M,w,_.width,_.height,0,d,m,_.data);n.generateMipmaps=!1,t.__maxMipLevel=E.length-1}else r.texImage2D(3553,0,w,l.width,l.height,0,d,m,l.data),t.__maxMipLevel=0;else if(n.isCompressedTexture){for(M=0,A=E.length;M<A;M++)_=E[M],n.format!==I&&n.format!==N?null!==d?r.compressedTexImage2D(3553,M,w,_.width,_.height,0,_.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):r.texImage2D(3553,M,w,_.width,_.height,0,d,m,_.data);t.__maxMipLevel=E.length-1}else if(n.isDataTexture2DArray)r.texImage3D(35866,0,w,l.width,l.height,l.depth,0,d,m,l.data),t.__maxMipLevel=0;else if(n.isDataTexture3D)r.texImage3D(32879,0,w,l.width,l.height,l.depth,0,d,m,l.data),t.__maxMipLevel=0;else if(E.length>0&&f){for(M=0,A=E.length;M<A;M++)_=E[M],r.texImage2D(3553,M,w,d,m,_);n.generateMipmaps=!1,t.__maxMipLevel=E.length-1}else r.texImage2D(3553,0,w,d,m,l),t.__maxMipLevel=0;y(n,f)&&b(s,n,l.width,l.height),t.__version=n.version,n.onUpdate&&n.onUpdate(n)}function X(t,r,n){if(e.bindRenderbuffer(36161,t),r.depthBuffer&&!r.stencilBuffer){if(n){var i=Z(r);e.renderbufferStorageMultisample(36161,i,33189,r.width,r.height)}else e.renderbufferStorage(36161,33189,r.width,r.height);e.framebufferRenderbuffer(36160,36096,36161,t)}else if(r.depthBuffer&&r.stencilBuffer){if(n){i=Z(r);e.renderbufferStorageMultisample(36161,i,35056,r.width,r.height)}else e.renderbufferStorage(36161,34041,r.width,r.height);e.framebufferRenderbuffer(36160,33306,36161,t)}else{var o=a.convert(r.texture.format),s=a.convert(r.texture.type),u=x(r.texture.internalFormat,o,s);if(n){i=Z(r);e.renderbufferStorageMultisample(36161,i,u,r.width,r.height)}else e.renderbufferStorage(36161,u,r.width,r.height)}e.bindRenderbuffer(36161,null)}function Y(t){var r=n.get(t);t.depthTexture?function(t,r){0;if(e.bindFramebuffer(36160,t),!r.depthTexture||!r.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");n.get(r.depthTexture).__webglTexture&&r.depthTexture.image.width===r.width&&r.depthTexture.image.height===r.height||(r.depthTexture.image.width=r.width,r.depthTexture.image.height=r.height,r.depthTexture.needsUpdate=!0),H(r.depthTexture,0);var i=n.get(r.depthTexture).__webglTexture;if(r.depthTexture.format===F)e.framebufferTexture2D(36160,36096,3553,i,0);else{if(r.depthTexture.format!==U)throw new Error("Unknown depthTexture format");e.framebufferTexture2D(36160,33306,3553,i,0)}}(r.__webglFramebuffer,t):(e.bindFramebuffer(36160,r.__webglFramebuffer),r.__webglDepthbuffer=e.createRenderbuffer(),X(r.__webglDepthbuffer,t)),e.bindFramebuffer(36160,null)}function Z(e){return h&&e.isWebGLMultisampleRenderTarget?Math.min(d,e.samples):0}var K=!1;this.allocateTextureUnit=function(){var e=j;return e>=f&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+f),j+=1,e},this.resetTextureUnits=function(){j=0},this.setTexture2D=H,this.setTexture2DArray=function(e,t){var i=n.get(e);e.version>0&&i.__version!==e.version?q(i,e,t):(r.activeTexture(33984+t),r.bindTexture(35866,i.__webglTexture))},this.setTexture3D=function(e,t){var i=n.get(e);e.version>0&&i.__version!==e.version?q(i,e,t):(r.activeTexture(33984+t),r.bindTexture(32879,i.__webglTexture))},this.setTextureCube=function(){},this.setTextureCubeDynamic=function(){},this.setupRenderTarget=function(t){var i=n.get(t),s=n.get(t.texture);t.addEventListener("dispose",B),s.__webglTexture=e.createTexture(),o.memory.textures++;var u=!0===t.isWebGLMultisampleRenderTarget,l=g(t)||h;if(i.__webglFramebuffer=e.createFramebuffer(),u)if(h){i.__webglMultisampledFramebuffer=e.createFramebuffer(),i.__webglColorRenderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(36161,i.__webglColorRenderbuffer);var c=a.convert(t.texture.format),f=a.convert(t.texture.type),p=x(t.texture.internalFormat,c,f),d=Z(t);e.renderbufferStorageMultisample(36161,d,p,t.width,t.height),e.bindFramebuffer(36160,i.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064,36161,i.__webglColorRenderbuffer),e.bindRenderbuffer(36161,null),t.depthBuffer&&(i.__webglDepthRenderbuffer=e.createRenderbuffer(),X(i.__webglDepthRenderbuffer,t,!0)),e.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");r.bindTexture(3553,s.__webglTexture),W(3553,t.texture,l),function(t,i,o,s){var u=a.convert(i.texture.format),l=a.convert(i.texture.type),c=x(i.texture.internalFormat,u,l);r.texImage2D(s,0,c,i.width,i.height,0,u,l,null),e.bindFramebuffer(36160,t),e.framebufferTexture2D(36160,o,s,n.get(i.texture).__webglTexture,0),e.bindFramebuffer(36160,null)}(i.__webglFramebuffer,t,36064,3553),y(t.texture,l)&&b(3553,t.texture,t.width,t.height),r.bindTexture(3553,null),t.depthBuffer&&Y(t)},this.updateRenderTargetMipmap=function(e){var t=e.texture;if(y(t,g(e)||h)){var i=3553,a=n.get(t).__webglTexture;r.bindTexture(i,a),b(i,t,e.width,e.height),r.bindTexture(i,null)}},this.updateMultisampleRenderTarget=function(t){if(t.isWebGLMultisampleRenderTarget)if(h){var r=n.get(t);e.bindFramebuffer(36008,r.__webglMultisampledFramebuffer),e.bindFramebuffer(36009,r.__webglFramebuffer);var i=t.width,a=t.height,o=16384;t.depthBuffer&&(o|=256),t.stencilBuffer&&(o|=1024),e.blitFramebuffer(0,0,i,a,0,0,i,a,o,9728)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")},this.safeSetTexture2D=function(e,t){e&&e.isWebGLRenderTarget&&(!1===K&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),K=!0),e=e.texture),H(e,t)},this.safeSetTextureCube=function(e,t){Array.isArray(e.image)&&e.image.length}}function Ci(e,t,r){var n=r.isWebGL2;return{convert:function(e){var r;if(e===O)return 5121;if(1017===e)return 32819;if(1018===e)return 32820;if(1019===e)return 33635;if(1010===e)return 5120;if(1011===e)return 5122;if(e===k)return 5123;if(1013===e)return 5124;if(e===P)return 5125;if(e===L)return 5126;if(e===z)return n?5131:null!==(r=t.get("OES_texture_half_float"))?r.HALF_FLOAT_OES:null;if(1021===e)return 6406;if(e===N)return 6407;if(e===I)return 6408;if(1024===e)return 6409;if(1025===e)return 6410;if(e===F)return 6402;if(e===U)return 34041;if(1028===e)return 6403;if(1029===e)return 36244;if(1030===e)return 33319;if(1031===e)return 33320;if(1032===e)return 36248;if(1033===e)return 36249;if(e===B||e===j||e===H||e===V){if(null===(r=t.get("WEBGL_compressed_texture_s3tc")))return null;if(e===B)return r.COMPRESSED_RGB_S3TC_DXT1_EXT;if(e===j)return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(e===H)return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(e===V)return r.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(e===G||e===W||e===q||e===X){if(null===(r=t.get("WEBGL_compressed_texture_pvrtc")))return null;if(e===G)return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(e===W)return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(e===q)return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(e===X)return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===e)return null!==(r=t.get("WEBGL_compressed_texture_etc1"))?r.COMPRESSED_RGB_ETC1_WEBGL:null;if((e===Y||e===Z)&&null!==(r=t.get("WEBGL_compressed_texture_etc"))){if(e===Y)return r.COMPRESSED_RGB8_ETC2;if(e===Z)return r.COMPRESSED_RGBA8_ETC2_EAC}return 37808===e||37809===e||37810===e||37811===e||37812===e||37813===e||37814===e||37815===e||37816===e||37817===e||37818===e||37819===e||37820===e||37821===e||37840===e||37841===e||37842===e||37843===e||37844===e||37845===e||37846===e||37847===e||37848===e||37849===e||37850===e||37851===e||37852===e||37853===e?null!==(r=t.get("WEBGL_compressed_texture_astc"))?e:null:e===D?n?34042:null!==(r=t.get("WEBGL_depth_texture"))?r.UNSIGNED_INT_24_8_WEBGL:null:void 0}}}function Ri(){We.call(this),this.type="Group"}function Oi(){this.getDevice=function(){}}function ki(e){var t=void 0!==(e=e||{}).canvas?e.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),r=void 0!==e.context?e.context:null,n=void 0!==e.alpha&&e.alpha,i=void 0===e.depth||e.depth,a=void 0===e.stencil||e.stencil,o=void 0!==e.antialias&&e.antialias,s=void 0===e.premultipliedAlpha||e.premultipliedAlpha,u=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,l=void 0!==e.powerPreference?e.powerPreference:"default",c=void 0!==e.failIfMajorPerformanceCaveat&&e.failIfMajorPerformanceCaveat,h=null,f=null;this.domElement=t,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=$,this.physicallyCorrectLights=!1,this.toneMapping=1,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var p,d,m,v,g,y,b,x,w,_,T,E,S,M,A,C,R,k,P=this,D=!1,N=null,F=0,U=0,B=null,j=null,H=-1,V={geometry:null,program:null,wireframe:!1},G=null,W=null,q=new pe,X=new pe,Y=null,Z=t.width,K=t.height,Q=1,J=null,ee=null,te=new pe(0,0,Z,K),re=new pe(0,0,Z,K),ne=!1,ie=new Ir,ae=new Xr,oe=!1,le=!1,ce=new Ae,he=new be;try{var fe={alpha:n,depth:i,stencil:a,antialias:o,premultipliedAlpha:s,preserveDrawingBuffer:u,powerPreference:l,failIfMajorPerformanceCaveat:c,xrCompatible:!0};if(t.addEventListener("webglcontextlost",ge,!1),t.addEventListener("webglcontextrestored",ye,!1),null===(p=r||t.getContext("webgl",fe)||t.getContext("experimental-webgl",fe)))throw null!==t.getContext("webgl")?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.");void 0===p.getShaderPrecisionFormat&&(p.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Pe){throw console.error("THREE.WebGLRenderer: "+Pe.message),Pe}function de(){d=new Yr(p),!1===(m=new qr(p,d,e)).isWebGL2&&(d.get("WEBGL_depth_texture"),d.get("OES_texture_float"),d.get("OES_texture_half_float"),d.get("OES_texture_half_float_linear"),d.get("OES_standard_derivatives"),d.get("OES_element_index_uint"),d.get("ANGLE_instanced_arrays")),d.get("OES_texture_float_linear"),k=new Ci(p,d,m),(v=new Mi(p,d,m)).scissor(X.copy(re).multiplyScalar(Q).floor()),v.viewport(q.copy(te).multiplyScalar(Q).floor()),g=new Qr(p),y=new di,b=new Ai(p,d,v,y,m,k,g),x=new Br(p,m),w=new Zr(p,x,g),_=new en(p,w,x,g),A=new $r(p),T=new pi(P,d,m),E=new yi,S=new Ti,M=new Gr(P,v,_,s),C=new Wr(p,d,g,m),R=new Kr(p,d,g,m),g.programs=T.programs,P.capabilities=m,P.extensions=d,P.properties=y,P.renderLists=E,P.state=v,P.info=g}de();var me=new Oi(P,p);this.xr=me;var ve=new Si(P,_,m.maxTextureSize);function ge(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),D=!0}function ye(){console.log("THREE.WebGLRenderer: Context Restored."),D=!1,de()}function xe(e){var t=e.target;t.removeEventListener("dispose",xe),function(e){we(e),y.remove(e)}(t)}function we(e){var t=y.get(e).program;e.program=void 0,void 0!==t&&T.releaseProgram(t)}this.shadowMap=ve,this.getContext=function(){return p},this.getContextAttributes=function(){return p.getContextAttributes()},this.forceContextLoss=function(){var e=d.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=d.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return Q},this.setPixelRatio=function(e){void 0!==e&&(Q=e,this.setSize(Z,K,!1))},this.getSize=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),e=new ue),e.set(Z,K)},this.setSize=function(e,r,n){me.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(Z=e,K=r,t.width=Math.floor(e*Q),t.height=Math.floor(r*Q),!1!==n&&(t.style.width=e+"px",t.style.height=r+"px"),this.setViewport(0,0,e,r))},this.getDrawingBufferSize=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),e=new ue),e.set(Z*Q,K*Q).floor()},this.setDrawingBufferSize=function(e,r,n){Z=e,K=r,Q=n,t.width=Math.floor(e*n),t.height=Math.floor(r*n),this.setViewport(0,0,e,r)},this.getCurrentViewport=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),e=new pe),e.copy(q)},this.getViewport=function(e){return e.copy(te)},this.setViewport=function(e,t,r,n){e.isVector4?te.set(e.x,e.y,e.z,e.w):te.set(e,t,r,n),v.viewport(q.copy(te).multiplyScalar(Q).floor())},this.getScissor=function(e){return e.copy(re)},this.setScissor=function(e,t,r,n){e.isVector4?re.set(e.x,e.y,e.z,e.w):re.set(e,t,r,n),v.scissor(X.copy(re).multiplyScalar(Q).floor())},this.getScissorTest=function(){return ne},this.setScissorTest=function(e){v.setScissorTest(ne=e)},this.setOpaqueSort=function(e){J=e},this.setTransparentSort=function(e){ee=e},this.getClearColor=function(){return M.getClearColor()},this.setClearColor=function(){M.setClearColor.apply(M,arguments)},this.getClearAlpha=function(){return M.getClearAlpha()},this.setClearAlpha=function(){M.setClearAlpha.apply(M,arguments)},this.clear=function(e,t,r){var n=0;(void 0===e||e)&&(n|=16384),(void 0===t||t)&&(n|=256),(void 0===r||r)&&(n|=1024),p.clear(n)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",ge,!1),t.removeEventListener("webglcontextrestored",ye,!1),E.dispose(),S.dispose(),y.dispose(),_.dispose(),me.dispose(),Ee.stop()},this.renderBufferImmediate=function(e,t){v.initAttributes();var r=y.get(e);e.hasPositions&&!r.position&&(r.position=p.createBuffer()),e.hasNormals&&!r.normal&&(r.normal=p.createBuffer()),e.hasUvs&&!r.uv&&(r.uv=p.createBuffer()),e.hasColors&&!r.color&&(r.color=p.createBuffer());var n=t.getAttributes();e.hasPositions&&(p.bindBuffer(34962,r.position),p.bufferData(34962,e.positionArray,35048),v.enableAttribute(n.position),p.vertexAttribPointer(n.position,3,5126,!1,0,0)),e.hasNormals&&(p.bindBuffer(34962,r.normal),p.bufferData(34962,e.normalArray,35048),v.enableAttribute(n.normal),p.vertexAttribPointer(n.normal,3,5126,!1,0,0)),e.hasUvs&&(p.bindBuffer(34962,r.uv),p.bufferData(34962,e.uvArray,35048),v.enableAttribute(n.uv),p.vertexAttribPointer(n.uv,2,5126,!1,0,0)),e.hasColors&&(p.bindBuffer(34962,r.color),p.bufferData(34962,e.colorArray,35048),v.enableAttribute(n.color),p.vertexAttribPointer(n.color,3,5126,!1,0,0)),v.disableUnusedAttributes(),p.drawArrays(4,0,e.count),e.count=0};var _e=new qe;this.renderBufferDirect=function(e,t,r,n,i,a){null===t&&(t=_e);var o=i.isMesh&&i.matrixWorld.determinant()<0,s=Oe(e,t,n,i);v.setMaterial(n,o);var u=!1;V.geometry===r.id&&V.program===s.id&&V.wireframe===(!0===n.wireframe)||(V.geometry=r.id,V.program=s.id,V.wireframe=!0===n.wireframe,u=!0),n.morphNormals&&(A.update(i,r,n,s),u=!0);var l=r.index,c=r.attributes.position;if(null===l){if(void 0===c||0===c.count)return}else if(0===l.count)return;var h,f=1;!0===n.wireframe&&(l=w.getWireframeAttribute(r),f=2);var g=C;null!==l&&(h=x.get(l),(g=R).setIndex(h)),u&&(!function(e,t,r,n){if(!1===m.isWebGL2&&t.isInstancedBufferGeometry&&null===d.get("ANGLE_instanced_arrays"))return;v.initAttributes();var i=t.attributes,a=n.getAttributes(),o=r.defaultAttributeValues;for(var s in a){var u=a[s];if(u>=0){var l=i[s];if(void 0!==l){var c=l.normalized,h=l.itemSize;if(void 0===(T=x.get(l)))continue;var f=T.buffer,g=T.type,y=T.bytesPerElement;if(l.isInterleavedBufferAttribute){var b=l.data,w=b.stride,_=l.offset;b&&b.isInstancedInterleavedBuffer?(v.enableAttributeAndDivisor(u,b.meshPerAttribute),void 0===t.maxInstancedCount&&(t.maxInstancedCount=b.meshPerAttribute*b.count)):v.enableAttribute(u),p.bindBuffer(34962,f),p.vertexAttribPointer(u,h,g,c,w*y,_*y)}else l.isInstancedBufferAttribute?(v.enableAttributeAndDivisor(u,l.meshPerAttribute),void 0===t.maxInstancedCount&&(t.maxInstancedCount=l.meshPerAttribute*l.count)):v.enableAttribute(u),p.bindBuffer(34962,f),p.vertexAttribPointer(u,h,g,c,0,0)}else if("instanceMatrix"===s){var T;if(void 0===(T=x.get(e.instanceMatrix)))continue;f=T.buffer,g=T.type;v.enableAttributeAndDivisor(u+0,1),v.enableAttributeAndDivisor(u+1,1),v.enableAttributeAndDivisor(u+2,1),v.enableAttributeAndDivisor(u+3,1),p.bindBuffer(34962,f),p.vertexAttribPointer(u+0,4,g,!1,64,0),p.vertexAttribPointer(u+1,4,g,!1,64,16),p.vertexAttribPointer(u+2,4,g,!1,64,32),p.vertexAttribPointer(u+3,4,g,!1,64,48)}else if(void 0!==o){var E=o[s];if(void 0!==E)switch(E.length){case 2:p.vertexAttrib2fv(u,E);break;case 3:p.vertexAttrib3fv(u,E);break;case 4:p.vertexAttrib4fv(u,E);break;default:p.vertexAttrib1fv(u,E)}}}}v.disableUnusedAttributes()}(i,r,n,s),null!==l&&p.bindBuffer(34963,h.buffer));var y=null!==l?l.count:c.count,b=r.drawRange.start*f,_=r.drawRange.count*f,T=null!==a?a.start*f:0,E=null!==a?a.count*f:1/0,S=Math.max(b,T),M=Math.min(y,b+_,T+E)-1,O=Math.max(0,M-S+1);0!==O&&(i.isMesh?!0===n.wireframe?(v.setLineWidth(n.wireframeLinewidth*(null===B?Q:1)),g.setMode(1)):g.setMode(4):i.isSprite&&g.setMode(4),r.isInstancedBufferGeometry?g.renderInstances(r,S,O,r.maxInstancedCount):g.render(S,O))},this.compile=function(e,t){(f=S.get(e,t)).init(),e.traverse((function(e){})),f.setupLights(t);var r={};e.traverse((function(t){if(t.material)if(Array.isArray(t.material))for(var n=0;n<t.material.length;n++)t.material[n].uuid in r===!1&&(Re(t.material[n],e,t),r[t.material[n].uuid]=!0);else t.material.uuid in r===!1&&(Re(t.material,e,t),r[t.material.uuid]=!0)}))};var Te=null;var Ee=new Ur;function Se(e,t,r,n){if(!1!==e.visible){if(e.layers.test(t.layers))if(e.isGroup)r=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isSprite){if(!e.frustumCulled||ie.intersectsSprite(e)){n&&he.setFromMatrixPosition(e.matrixWorld).applyMatrix4(ce);var i=_.update(e);(a=e.material).visible&&h.push(e,i,a,r,he.z,null)}}else if(e.isImmediateRenderObject)n&&he.setFromMatrixPosition(e.matrixWorld).applyMatrix4(ce),h.push(e,null,e.material,r,he.z,null);else if(e.isMesh&&(!e.frustumCulled||ie.intersectsObject(e))){n&&he.setFromMatrixPosition(e.matrixWorld).applyMatrix4(ce);i=_.update(e);var a=e.material;if(Array.isArray(a))for(var o=i.groups,s=0,u=o.length;s<u;s++){var l=o[s],c=a[l.materialIndex];c&&c.visible&&h.push(e,i,c,r,he.z,l)}else a.visible&&h.push(e,i,a,r,he.z,null)}var f=e.children;for(s=0,u=f.length;s<u;s++)Se(f[s],t,r,n)}}function Me(e,t,r,n){for(var i=0,a=e.length;i<a;i++){var o=e[i],s=o.object,u=o.geometry,l=void 0===n?o.material:n,c=o.group;if(r.isArrayCamera){W=r;for(var h=r.cameras,p=0,d=h.length;p<d;p++){var m=h[p];s.layers.test(m.layers)&&(v.viewport(q.copy(m.viewport)),f.setupLights(m),Ce(s,t,m,u,l,c))}}else W=null,Ce(s,t,r,u,l,c)}}function Ce(e,t,r,n,i,a){if(e.onBeforeRender(P,t,r,n,i,a),f=S.get(t,W||r),e.modelViewMatrix.multiplyMatrices(r.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),e.isImmediateRenderObject){var o=Oe(r,t,i,e);v.setMaterial(i),V.geometry=null,V.program=null,V.wireframe=!1,function(e,t){e.render((function(e){P.renderBufferImmediate(e,t)}))}(e,o)}else P.renderBufferDirect(r,t,n,i,e,a);e.onAfterRender(P,t,r,n,i,a),f=S.get(t,W||r)}function Re(e,t,r){var n=y.get(e),i=f.state.lights,a=f.state.shadowsArray,o=i.state.version,s=T.getParameters(e,i.state,a,t,ae.numPlanes,ae.numIntersection,r),u=T.getProgramCacheKey(s),l=n.program,c=!0;if(void 0===l)e.addEventListener("dispose",xe);else if(l.cacheKey!==u)we(e);else if(n.lightsStateVersion!==o)n.lightsStateVersion=o,c=!1;else{if(void 0!==s.shaderID)return;c=!1}c&&(l=T.acquireProgram(s,u),n.program=l,n.uniforms=s.uniforms,n.environment=null,n.outputEncoding=P.outputEncoding,e.program=l);var h=l.getAttributes();if(e.morphNormals){e.numSupportedMorphNormals=0;for(var p=0;p<P.maxMorphNormals;p++)h["morphNormal"+p]>=0&&e.numSupportedMorphNormals++}var d=n.uniforms;!0===e.clipping&&(n.numClippingPlanes=ae.numPlanes,n.numIntersection=ae.numIntersection,d.clippingPlanes=ae.uniform),n.fog=t.fog,n.needsLights=function(e){return e.isShadowMaterial||!0===e.lights}(e),n.lightsStateVersion=o,n.needsLights&&(d.ambientLightColor.value=i.state.ambient,d.lightProbe.value=i.state.probe,d.directionalLights.value=i.state.directional,d.directionalLightShadows.value=i.state.directionalShadow,d.spotLights.value=i.state.spot,d.spotLightShadows.value=i.state.spotShadow,d.rectAreaLights.value=i.state.rectArea,d.pointLights.value=i.state.point,d.pointLightShadows.value=i.state.pointShadow,d.hemisphereLights.value=i.state.hemi,d.directionalShadowMap.value=i.state.directionalShadowMap,d.directionalShadowMatrix.value=i.state.directionalShadowMatrix,d.spotShadowMap.value=i.state.spotShadowMap,d.spotShadowMatrix.value=i.state.spotShadowMatrix,d.pointShadowMap.value=i.state.pointShadowMap,d.pointShadowMatrix.value=i.state.pointShadowMatrix);var m=n.program.getUniforms(),v=$n.seqWithValue(m.seq,d);n.uniformsList=v}function Oe(e,t,r,n){b.resetTextureUnits();var i=t.fog,a=y.get(r),o=f.state.lights;if(oe&&(le||e!==G)){var s=e===G&&r.id===H;ae.setState(r.clippingPlanes,r.clipIntersection,r.clipShadows,e,a,s)}r.version===a.__version?void 0===a.program||r.fog&&a.fog!==i||null!==a.environment||a.needsLights&&a.lightsStateVersion!==o.state.version?Re(r,t,n):void 0===a.numClippingPlanes||a.numClippingPlanes===ae.numPlanes&&a.numIntersection===ae.numIntersection?a.outputEncoding!==P.outputEncoding&&Re(r,t,n):Re(r,t,n):(Re(r,t,n),a.__version=r.version);var u,l,c=!1,h=!1,d=!1,g=a.program,x=g.getUniforms(),w=a.uniforms;if(v.useProgram(g.program)&&(c=!0,h=!0,d=!0),r.id!==H&&(H=r.id,h=!0),c||G!==e){x.setValue(p,"projectionMatrix",e.projectionMatrix),m.logarithmicDepthBuffer&&x.setValue(p,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),G!==e&&(G=e,h=!0,d=!0);var _=x.map.cameraPosition;void 0!==_&&_.setValue(p,he.setFromMatrixPosition(e.matrixWorld)),r.isMeshBasicMaterial,x.setValue(p,"isOrthographic",!0===e.isOrthographicCamera),r.isMeshBasicMaterial,x.setValue(p,"viewMatrix",e.matrixWorldInverse)}if(r.skinning){x.setOptional(p,n,"bindMatrix"),x.setOptional(p,n,"bindMatrixInverse");var T=n.skeleton;if(T){var E=T.bones;if(m.floatVertexTextures){if(void 0===T.boneTexture){var S=Math.sqrt(4*E.length);S=se.ceilPowerOfTwo(S),S=Math.max(S,4);var M=new Float32Array(S*S*4);M.set(T.boneMatrices);var A=new zr(M,S,S,I,L);T.boneMatrices=M,T.boneTexture=A,T.boneTextureSize=S}x.setValue(p,"boneTexture",T.boneTexture,b),x.setValue(p,"boneTextureSize",T.boneTextureSize)}else x.setOptional(p,T,"boneMatrices")}}return(h||a.receiveShadow!==n.receiveShadow)&&(a.receiveShadow=n.receiveShadow,x.setValue(p,"receiveShadow",n.receiveShadow)),h&&(x.setValue(p,"toneMappingExposure",P.toneMappingExposure),x.setValue(p,"toneMappingWhitePoint",P.toneMappingWhitePoint),a.needsLights&&(l=d,(u=w).ambientLightColor.needsUpdate=l,u.lightProbe.needsUpdate=l,u.directionalLights.needsUpdate=l,u.directionalLightShadows.needsUpdate=l,u.pointLights.needsUpdate=l,u.pointLightShadows.needsUpdate=l,u.spotLights.needsUpdate=l,u.spotLightShadows.needsUpdate=l,u.rectAreaLights.needsUpdate=l,u.hemisphereLights.needsUpdate=l),i&&r.fog&&function(e,t){e.fogColor.value.copy(t.color),t.isFog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t.isFogExp2&&(e.fogDensity.value=t.density)}(w,i),r.isMeshBasicMaterial?ke(w,r):r.isMeshMatcapMaterial?(ke(w,r),function(e,t){t.matcap&&(e.matcap.value=t.matcap);t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,1===t.side&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),1===t.side&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(w,r)):r.isMeshDepthMaterial?(ke(w,r),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(w,r)):r.isMeshNormalMaterial?(ke(w,r),function(e,t){t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,1===t.side&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),1===t.side&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(w,r)):r.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity}(w,r),r.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(w,r)):r.isPointsMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*Q,e.scale.value=.5*K,t.map&&(e.map.value=t.map);t.alphaMap&&(e.alphaMap.value=t.alphaMap);var r;t.map?r=t.map:t.alphaMap&&(r=t.alphaMap);void 0!==r&&(!0===r.matrixAutoUpdate&&r.updateMatrix(),e.uvTransform.value.copy(r.matrix))}(w,r):r.isSpriteMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map);t.alphaMap&&(e.alphaMap.value=t.alphaMap);var r;t.map?r=t.map:t.alphaMap&&(r=t.alphaMap);void 0!==r&&(!0===r.matrixAutoUpdate&&r.updateMatrix(),e.uvTransform.value.copy(r.matrix))}(w,r):r.isShadowMaterial&&(w.color.value.copy(r.color),w.opacity.value=r.opacity),void 0!==w.ltc_1&&(w.ltc_1.value=Fr.LTC_1),void 0!==w.ltc_2&&(w.ltc_2.value=Fr.LTC_2),$n.upload(p,a.uniformsList,w,b),r.uniformsNeedUpdate=!1),!0===r.uniformsNeedUpdate&&($n.upload(p,a.uniformsList,w,b),r.uniformsNeedUpdate=!1),r.isSpriteMaterial&&x.setValue(p,"center",n.center),x.setValue(p,"modelViewMatrix",n.modelViewMatrix),x.setValue(p,"normalMatrix",n.normalMatrix),x.setValue(p,"modelMatrix",n.matrixWorld),g}function ke(e,t,r){e.opacity.value=t.opacity,t.color&&e.diffuse.value.copy(t.color),t.emissive&&e.emissive.value.copy(t.emissive).multiplyScalar(t.emissiveIntensity),t.map&&(e.map.value=t.map),t.alphaMap&&(e.alphaMap.value=t.alphaMap),t.specularMap&&(e.specularMap.value=t.specularMap);var n,i,a=r;a&&((!1).value=a,e.flipEnvMap.value=1,e.reflectivity.value=t.reflectivity,e.refractionRatio.value=t.refractionRatio,e.maxMipLevel.value=y.get(a).__maxMipLevel),t.lightMap&&(e.lightMap.value=t.lightMap,e.lightMapIntensity.value=t.lightMapIntensity),t.aoMap&&(e.aoMap.value=t.aoMap,e.aoMapIntensity.value=t.aoMapIntensity),t.map?n=t.map:t.specularMap?n=t.specularMap:t.displacementMap?n=t.displacementMap:t.normalMap?n=t.normalMap:t.bumpMap?n=t.bumpMap:t.roughnessMap?n=t.roughnessMap:t.metalnessMap?n=t.metalnessMap:t.alphaMap?n=t.alphaMap:t.emissiveMap&&(n=t.emissiveMap),void 0!==n&&(n.isWebGLRenderTarget&&(n=n.texture),!0===n.matrixAutoUpdate&&n.updateMatrix(),e.uvTransform.value.copy(n.matrix)),t.aoMap?i=t.aoMap:t.lightMap&&(i=t.lightMap),void 0!==i&&(i.isWebGLRenderTarget&&(i=i.texture),!0===i.matrixAutoUpdate&&i.updateMatrix(),e.uv2Transform.value.copy(i.matrix))}Ee.setAnimationLoop((function(e){me.isPresenting||Te&&Te(e)})),"undefined"!==typeof window&&Ee.setContext(window),this.setAnimationLoop=function(e){Te=e,me.setAnimationLoop(e),Ee.start()},this.render=function(e,t){var r,n;if(void 0!==arguments[2]&&(console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),r=arguments[2]),void 0!==arguments[3]&&(console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),n=arguments[3]),t&&t.isCamera){if(!D){V.geometry=null,V.program=null,V.wireframe=!1,H=-1,G=null,!0===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),me.enabled&&me.isPresenting&&(t=me.getCamera(t)),(f=S.get(e,t)).init(),e.onBeforeRender(P,e,t,r||B),ce.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),ie.setFromProjectionMatrix(ce),le=this.localClippingEnabled,oe=ae.init(this.clippingPlanes,le,t),(h=E.get(e,t)).init(),Se(e,t,0,P.sortObjects),h.finish(),!0===P.sortObjects&&h.sort(J,ee),oe&&ae.beginShadows();var i=f.state.shadowsArray;ve.render(i,e,t),f.setupLights(t),oe&&ae.endShadows(),this.info.autoReset&&this.info.reset(),void 0!==r&&this.setRenderTarget(r),M.render(h,e,t,n);var a=h.opaque,o=h.transparent;if(e.overrideMaterial){var s=e.overrideMaterial;a.length&&Me(a,e,t,s),o.length&&Me(o,e,t,s)}else a.length&&Me(a,e,t),o.length&&Me(o,e,t);e.onAfterRender(P,e,t),null!==B&&(b.updateRenderTargetMipmap(B),b.updateMultisampleRenderTarget(B)),v.buffers.depth.setTest(!0),v.buffers.depth.setMask(!0),v.buffers.color.setMask(!0),v.setPolygonOffset(!1),h=null,f=null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.setFramebuffer=function(e){N!==e&&null===B&&p.bindFramebuffer(36160,e),N=e},this.getActiveCubeFace=function(){return F},this.getActiveMipmapLevel=function(){return U},this.getRenderTarget=function(){return B},this.setRenderTarget=function(e,t,r){B=e,F=t,U=r,e&&void 0===y.get(e).__webglFramebuffer&&b.setupRenderTarget(e);var n=N;if(e){var i=y.get(e).__webglFramebuffer;n=e.isWebGLMultisampleRenderTarget?y.get(e).__webglMultisampledFramebuffer:i,q.copy(e.viewport),X.copy(e.scissor),Y=e.scissorTest}else q.copy(te).multiplyScalar(Q).floor(),X.copy(re).multiplyScalar(Q).floor(),Y=ne;j!==n&&(p.bindFramebuffer(36160,n),j=n),v.viewport(q),v.scissor(X),v.setScissorTest(Y)},this.readRenderTargetPixels=function(e,t,r,n,i,a,o){if(e&&e.isWebGLRenderTarget){var s=y.get(e).__webglFramebuffer;if(s){var u=!1;s!==j&&(p.bindFramebuffer(36160,s),u=!0);try{var l=e.texture,c=l.format,h=l.type;if(c!==I&&k.convert(c)!==p.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(h!==O&&k.convert(h)!==p.getParameter(35738)&&(h!==L||!(m.isWebGL2||d.get("OES_texture_float")||d.get("WEBGL_color_buffer_float")))&&(h!==z||!(m.isWebGL2?d.get("EXT_color_buffer_float"):d.get("EXT_color_buffer_half_float"))))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");t>=0&&t<=e.width-n&&r>=0&&r<=e.height-i&&p.readPixels(t,r,n,i,k.convert(c),k.convert(h),a)}finally{u&&p.bindFramebuffer(36160,j)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(e,t,r){void 0===r&&(r=0);var n=Math.pow(2,-r),i=Math.floor(t.image.width*n),a=Math.floor(t.image.height*n),o=k.convert(t.format);b.setTexture2D(t,0),p.copyTexImage2D(3553,r,o,e.x,e.y,i,a,0),v.unbindTexture()},this.copyTextureToTexture=function(e,t,r,n){var i=t.image.width,a=t.image.height,o=k.convert(r.format),s=k.convert(r.type);b.setTexture2D(r,0),p.pixelStorei(37440,r.flipY),p.pixelStorei(37441,r.premultiplyAlpha),p.pixelStorei(3317,r.unpackAlignment),t.isDataTexture?p.texSubImage2D(3553,n||0,e.x,e.y,i,a,o,s,t.image.data):p.texSubImage2D(3553,n||0,e.x,e.y,o,s,t.image),v.unbindTexture()},this.initTexture=function(e){b.setTexture2D(e,0),v.unbindTexture()},"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function Pi(e,t){this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.usage=te,this.updateRange={offset:0,count:-1},this.version=0}Ei.prototype=Object.create(Dt.prototype),Ei.prototype.constructor=Ei,Ei.prototype.isMeshDepthMaterial=!0,Ei.prototype.copy=function(e){return Dt.prototype.copy.call(this,e),this.depthPacking=e.depthPacking,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this},Ri.prototype=Object.assign(Object.create(We.prototype),{constructor:Ri,isGroup:!0}),Object.assign(Oi.prototype,ne.prototype),Object.defineProperty(Pi.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(Pi.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this},copyAt:function(e,t,r){e*=this.stride,r*=t.stride;for(var n=0,i=this.stride;n<i;n++)this.array[e+n]=t.array[r+n];return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(e){return this.onUploadCallback=e,this}});var Li=new be;function zi(e,t,r,n){this.data=e,this.itemSize=t,this.offset=r,this.normalized=!0===n}Object.defineProperties(zi.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),Object.assign(zi.prototype,{isInterleavedBufferAttribute:!0,applyMatrix4:function(e){for(var t=0,r=this.data.count;t<r;t++)Li.x=this.getX(t),Li.y=this.getY(t),Li.z=this.getZ(t),Li.applyMatrix4(e),this.setXYZ(t,Li.x,Li.y,Li.z);return this},setX:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this},setY:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this},setZ:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this},setW:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,t,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this},setXYZ:function(e,t,r,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=n,this},setXYZW:function(e,t,r,n,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=n,this.data.array[e+3]=i,this}});new Ae;var Di=new be,Ni=new be;function Ii(){We.call(this),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}Ii.prototype=Object.assign(Object.create(We.prototype),{constructor:Ii,isLOD:!0,copy:function(e){We.prototype.copy.call(this,e,!1);for(var t=e.levels,r=0,n=t.length;r<n;r++){var i=t[r];this.addLevel(i.object.clone(),i.distance)}return this.autoUpdate=e.autoUpdate,this},addLevel:function(e,t){void 0===t&&(t=0),t=Math.abs(t);for(var r=this.levels,n=0;n<r.length&&!(t<r[n].distance);n++);return r.splice(n,0,{distance:t,object:e}),this.add(e),this},getCurrentLevel:function(){return this._currentLevel},getObjectForDistance:function(e){var t=this.levels;if(t.length>0){for(var r=1,n=t.length;r<n&&!(e<t[r].distance);r++);return t[r-1].object}return null},raycast:function(e,t){if(this.levels.length>0){Di.setFromMatrixPosition(this.matrixWorld);var r=e.ray.origin.distanceTo(Di);this.getObjectForDistance(r).raycast(e,t)}},update:function(e){var t=this.levels;if(t.length>1){Di.setFromMatrixPosition(e.matrixWorld),Ni.setFromMatrixPosition(this.matrixWorld);var r=Di.distanceTo(Ni)/e.zoom;t[0].object.visible=!0;for(var n=1,i=t.length;n<i&&r>=t[n].distance;n++)t[n-1].object.visible=!1,t[n].object.visible=!0;for(this._currentLevel=n-1;n<i;n++)t[n].object.visible=!1}},toJSON:function(e){var t=We.prototype.toJSON.call(this,e);!1===this.autoUpdate&&(t.object.autoUpdate=!1),t.object.levels=[];for(var r=this.levels,n=0,i=r.length;n<i;n++){var a=r[n];t.object.levels.push({object:a.object.uuid,distance:a.distance})}return t}});new Ae,new Ae;function Fi(){}new Ae,new Ae,new mr;new Ae;new Ae;function Ui(e,t,r,n,i,a,o,s,u,l,c,h){fe.call(this,null,a,o,s,u,l,n,i,c,h),this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}function Bi(e,t,r,n,i,a,o,s,u,l){if((l=void 0!==l?l:F)!==F&&l!==U)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===r&&l===F&&(r=k),void 0===r&&l===U&&(r=D),fe.call(this,null,n,i,a,o,s,l,r,u),this.image={width:e,height:t},this.magFilter=void 0!==o?o:S,this.minFilter=void 0!==s?s:S,this.flipY=!1,this.generateMipmaps=!1}Ui.prototype=Object.create(fe.prototype),Ui.prototype.constructor=Ui,Ui.prototype.isCompressedTexture=!0,Bi.prototype=Object.create(fe.prototype),Bi.prototype.constructor=Bi,Bi.prototype.isDepthTexture=!0;var ji={area:function(e){for(var t=e.length,r=0,n=t-1,i=0;i<t;n=i++)r+=e[n].x*e[i].y-e[i].x*e[n].y;return.5*r},isClockWise:function(e){return ji.area(e)<0},triangulateShape:""};function Hi(){}function Vi(e,t,r,n,i,a,o){nr.call(this),this.type="SphereBufferGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:n,phiLength:i,thetaStart:a,thetaLength:o},e=e||1,t=Math.max(3,Math.floor(t)||8),r=Math.max(2,Math.floor(r)||6),n=void 0!==n?n:0,i=void 0!==i?i:2*Math.PI,a=void 0!==a?a:0,o=void 0!==o?o:Math.PI;var s,u,l=Math.min(a+o,Math.PI),c=0,h=[],f=new be,p=new be,d=[],m=[],v=[],g=[];for(u=0;u<=r;u++){var y=[],b=u/r,x=0;for(0==u&&0==a?x=.5/t:u==r&&l==Math.PI&&(x=-.5/t),s=0;s<=t;s++){var w=s/t;f.x=-e*Math.cos(n+w*i)*Math.sin(a+b*o),f.y=e*Math.cos(a+b*o),f.z=e*Math.sin(n+w*i)*Math.sin(a+b*o),m.push(f.x,f.y,f.z),p.copy(f).normalize(),v.push(p.x,p.y,p.z),g.push(w+x,1-b),y.push(c++)}h.push(y)}for(u=0;u<r;u++)for(s=0;s<t;s++){var _=h[u][s+1],T=h[u][s],E=h[u+1][s],S=h[u+1][s+1];(0!==u||a>0)&&d.push(_,T,S),(u!==r-1||l<Math.PI)&&d.push(T,E,S)}this.setIndex(d),this.setAttribute("position",new qt(m,3)),this.setAttribute("normal",new qt(v,3)),this.setAttribute("uv",new qt(g,2))}function Gi(){}function Wi(e){Cr.call(this,e),this.type="RawShaderMaterial"}function qi(){}function Xi(e){Dt.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Rt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new ue(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}Vi.prototype=Object.create(nr.prototype),Vi.prototype.constructor=Vi,Wi.prototype=Object.create(Cr.prototype),Wi.prototype.constructor=Wi,Wi.prototype.isRawShaderMaterial=!0,Xi.prototype=Object.create(Dt.prototype),Xi.prototype.constructor=Xi,Xi.prototype.isMeshMatcapMaterial=!0,Xi.prototype.copy=function(e){return Dt.prototype.copy.call(this,e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this};var Yi={arraySlice:function(e,t,r){return Yi.isTypedArray(e)?new e.constructor(e.subarray(t,void 0!==r?r:e.length)):e.slice(t,r)},convertArray:function(e,t,r){return!e||!r&&e.constructor===t?e:"number"===typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){for(var t=e.length,r=new Array(t),n=0;n!==t;++n)r[n]=n;return r.sort((function(t,r){return e[t]-e[r]})),r},sortedArray:function(e,t,r){for(var n=e.length,i=new e.constructor(n),a=0,o=0;o!==n;++a)for(var s=r[a]*t,u=0;u!==t;++u)i[o++]=e[s+u];return i},flattenJSON:function(e,t,r,n){for(var i=1,a=e[0];void 0!==a&&void 0===a[n];)a=e[i++];if(void 0!==a){var o=a[n];if(void 0!==o)if(Array.isArray(o))do{void 0!==(o=a[n])&&(t.push(a.time),r.push.apply(r,o)),a=e[i++]}while(void 0!==a);else if(void 0!==o.toArray)do{void 0!==(o=a[n])&&(t.push(a.time),o.toArray(r,r.length)),a=e[i++]}while(void 0!==a);else do{void 0!==(o=a[n])&&(t.push(a.time),r.push(o)),a=e[i++]}while(void 0!==a)}},subclip:function(e,t,r,n,i){i=i||30;var a=e.clone();a.name=t;for(var o=[],s=0;s<a.tracks.length;++s){for(var u=a.tracks[s],l=u.getValueSize(),c=[],h=[],f=0;f<u.times.length;++f){var p=u.times[f]*i;if(!(p<r||p>=n)){c.push(u.times[f]);for(var d=0;d<l;++d)h.push(u.values[f*l+d])}}0!==c.length&&(u.times=Yi.convertArray(c,u.times.constructor),u.values=Yi.convertArray(h,u.values.constructor),o.push(u))}a.tracks=o;var m=1/0;for(s=0;s<a.tracks.length;++s)m>a.tracks[s].times[0]&&(m=a.tracks[s].times[0]);for(s=0;s<a.tracks.length;++s)a.tracks[s].shift(-1*m);return a.resetDuration(),a}};function Zi(e,t,r,n){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==n?n:new t.constructor(r),this.sampleValues=t,this.valueSize=r}function Ki(e,t,r,n){Zi.call(this,e,t,r,n),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function Qi(e,t,r,n){Zi.call(this,e,t,r,n)}function Ji(e,t,r,n){Zi.call(this,e,t,r,n)}function $i(){}Object.assign(Zi.prototype,{evaluate:function(e){var t=this.parameterPositions,r=this._cachedIndex,n=t[r],i=t[r-1];e:{t:{var a;r:{n:if(!(e<n)){for(var o=r+2;;){if(void 0===n){if(e<i)break n;return r=t.length,this._cachedIndex=r,this.afterEnd_(r-1,e,i)}if(r===o)break;if(i=n,e<(n=t[++r]))break t}a=t.length;break r}if(e>=i)break e;var s=t[1];e<s&&(r=2,i=s);for(o=r-2;;){if(void 0===i)return this._cachedIndex=0,this.beforeStart_(0,e,n);if(r===o)break;if(n=i,e>=(i=t[--r-1]))break t}a=r,r=0}for(;r<a;){var u=r+a>>>1;e<t[u]?a=u:r=u+1}if(n=t[r],void 0===(i=t[r-1]))return this._cachedIndex=0,this.beforeStart_(0,e,n);if(void 0===n)return r=t.length,this._cachedIndex=r,this.afterEnd_(r-1,i,e)}this._cachedIndex=r,this.intervalChanged_(r,i,n)}return this.interpolate_(r,i,e,n)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){for(var t=this.resultBuffer,r=this.sampleValues,n=this.valueSize,i=e*n,a=0;a!==n;++a)t[a]=r[i+a];return t},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),Object.assign(Zi.prototype,{beforeStart_:Zi.prototype.copySampleValue_,afterEnd_:Zi.prototype.copySampleValue_}),Ki.prototype=Object.assign(Object.create(Zi.prototype),{constructor:Ki,DefaultSettings_:{endingStart:K,endingEnd:K},intervalChanged_:function(e,t,r){var n=this.parameterPositions,i=e-2,a=e+1,o=n[i],s=n[a];if(void 0===o)switch(this.getSettings_().endingStart){case Q:i=e,o=2*t-r;break;case J:o=t+n[i=n.length-2]-n[i+1];break;default:i=e,o=r}if(void 0===s)switch(this.getSettings_().endingEnd){case Q:a=e,s=2*r-t;break;case J:a=1,s=r+n[1]-n[0];break;default:a=e-1,s=t}var u=.5*(r-t),l=this.valueSize;this._weightPrev=u/(t-o),this._weightNext=u/(s-r),this._offsetPrev=i*l,this._offsetNext=a*l},interpolate_:function(e,t,r,n){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,u=s-o,l=this._offsetPrev,c=this._offsetNext,h=this._weightPrev,f=this._weightNext,p=(r-t)/(n-t),d=p*p,m=d*p,v=-h*m+2*h*d-h*p,g=(1+h)*m+(-1.5-2*h)*d+(-.5+h)*p+1,y=(-1-f)*m+(1.5+f)*d+.5*p,b=f*m-f*d,x=0;x!==o;++x)i[x]=v*a[l+x]+g*a[u+x]+y*a[s+x]+b*a[c+x];return i}}),Qi.prototype=Object.assign(Object.create(Zi.prototype),{constructor:Qi,interpolate_:function(e,t,r,n){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,u=s-o,l=(r-t)/(n-t),c=1-l,h=0;h!==o;++h)i[h]=a[u+h]*c+a[s+h]*l;return i}}),Ji.prototype=Object.assign(Object.create(Zi.prototype),{constructor:Ji,interpolate_:function(e){return this.copySampleValue_(e-1)}});var ea={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};function ta(e,t,r){var n=this,i=!1,a=0,o=0,s=void 0,u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(e){o++,!1===i&&void 0!==n.onStart&&n.onStart(e,a,o),i=!0},this.itemEnd=function(e){a++,void 0!==n.onProgress&&n.onProgress(e,a,o),a===o&&(i=!1,void 0!==n.onLoad&&n.onLoad())},this.itemError=function(e){void 0!==n.onError&&n.onError(e)},this.resolveURL=function(e){return s?s(e):e},this.setURLModifier=function(e){return s=e,this},this.addHandler=function(e,t){return u.push(e,t),this},this.removeHandler=function(e){var t=u.indexOf(e);return-1!==t&&u.splice(t,2),this},this.getHandler=function(e){for(var t=0,r=u.length;t<r;t+=2){var n=u[t],i=u[t+1];if(n.global&&(n.lastIndex=0),n.test(e))return i}return null}}var ra=new ta;function na(e){this.manager=void 0!==e?e:ra,this.crossOrigin="anonymous",this.path="",this.resourcePath=""}Object.assign(na.prototype,{load:function(){},parse:function(){},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this},setResourcePath:function(e){return this.resourcePath=e,this}});var ia={};function aa(e){na.call(this,e)}function oa(e){na.call(this,e)}function sa(e){na.call(this,e)}function ua(e){na.call(this,e)}function la(){}function ca(e){na.call(this,e)}function ha(){this.type="Curve",this.arcLengthDivisions=200}function fa(e,t,r,n,i,a,o,s){ha.call(this),this.type="EllipseCurve",this.aX=e||0,this.aY=t||0,this.xRadius=r||1,this.yRadius=n||1,this.aStartAngle=i||0,this.aEndAngle=a||2*Math.PI,this.aClockwise=o||!1,this.aRotation=s||0}function pa(e,t,r,n,i,a){fa.call(this,e,t,r,r,n,i,a),this.type="ArcCurve"}function da(){var e=0,t=0,r=0,n=0;function i(i,a,o,s){e=i,t=o,r=-3*i+3*a-2*o-s,n=2*i-2*a+o+s}return{initCatmullRom:function(e,t,r,n,a){i(t,r,a*(r-e),a*(n-t))},initNonuniformCatmullRom:function(e,t,r,n,a,o,s){var u=(t-e)/a-(r-e)/(a+o)+(r-t)/o,l=(r-t)/o-(n-t)/(o+s)+(n-r)/s;i(t,r,u*=o,l*=o)},calc:function(i){var a=i*i;return e+t*i+r*a+n*(a*i)}}}aa.prototype=Object.assign(Object.create(na.prototype),{constructor:aa,load:function(e,t,r,n){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,a=ea.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;if(void 0===ia[e]){var o=e.match(/^data:(.*?)(;base64)?,(.*)$/);if(o){var s=o[1],u=!!o[2],l=o[3];l=decodeURIComponent(l),u&&(l=atob(l));try{var c,h=(this.responseType||"").toLowerCase();switch(h){case"arraybuffer":case"blob":for(var f=new Uint8Array(l.length),p=0;p<l.length;p++)f[p]=l.charCodeAt(p);c="blob"===h?new Blob([f.buffer],{type:s}):f.buffer;break;case"document":var d=new DOMParser;c=d.parseFromString(l,s);break;case"json":c=JSON.parse(l);break;default:c=l}setTimeout((function(){t&&t(c),i.manager.itemEnd(e)}),0)}catch(g){setTimeout((function(){n&&n(g),i.manager.itemError(e),i.manager.itemEnd(e)}),0)}}else{ia[e]=[],ia[e].push({onLoad:t,onProgress:r,onError:n});var m=new XMLHttpRequest;for(var v in m.open("GET",e,!0),m.addEventListener("load",(function(t){var r=this.response,n=ia[e];if(delete ia[e],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),ea.add(e,r);for(var a=0,o=n.length;a<o;a++){(s=n[a]).onLoad&&s.onLoad(r)}i.manager.itemEnd(e)}else{for(a=0,o=n.length;a<o;a++){var s;(s=n[a]).onError&&s.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)}}),!1),m.addEventListener("progress",(function(t){for(var r=ia[e],n=0,i=r.length;n<i;n++){var a=r[n];a.onProgress&&a.onProgress(t)}}),!1),m.addEventListener("error",(function(t){var r=ia[e];delete ia[e];for(var n=0,a=r.length;n<a;n++){var o=r[n];o.onError&&o.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)}),!1),m.addEventListener("abort",(function(t){var r=ia[e];delete ia[e];for(var n=0,a=r.length;n<a;n++){var o=r[n];o.onError&&o.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)}),!1),void 0!==this.responseType&&(m.responseType=this.responseType),void 0!==this.withCredentials&&(m.withCredentials=this.withCredentials),m.overrideMimeType&&m.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),this.requestHeader)m.setRequestHeader(v,this.requestHeader[v]);m.send(null)}return i.manager.itemStart(e),m}ia[e].push({onLoad:t,onProgress:r,onError:n})},setResponseType:function(e){return this.responseType=e,this},setWithCredentials:function(e){return this.withCredentials=e,this},setMimeType:function(e){return this.mimeType=e,this},setRequestHeader:function(e){return this.requestHeader=e,this}}),oa.prototype=Object.assign(Object.create(na.prototype),{constructor:oa,load:function(e,t,r,n){var i=this,a=new aa(i.manager);a.setPath(i.path),a.load(e,(function(e){t(i.parse(JSON.parse(e)))}),r,n)},parse:function(e){for(var t=[],r=0;r<e.length;r++){var n=$i.parse(e[r]);t.push(n)}return t}}),sa.prototype=Object.assign(Object.create(na.prototype),{constructor:sa,load:function(e,t,r,n){var i=this,a=[],o=new Ui;o.image=a;var s=new aa(this.manager);function u(u){s.load(e[u],(function(e){var r=i.parse(e,!0);a[u]={width:r.width,height:r.height,format:r.format,mipmaps:r.mipmaps},6===(l+=1)&&(1===r.mipmapCount&&(o.minFilter=C),o.format=r.format,o.needsUpdate=!0,t&&t(o))}),r,n)}if(s.setPath(this.path),s.setResponseType("arraybuffer"),Array.isArray(e))for(var l=0,c=0,h=e.length;c<h;++c)u(c);else s.load(e,(function(e){var r=i.parse(e,!0);if(r.isCubemap)for(var n=r.mipmaps.length/r.mipmapCount,s=0;s<n;s++){a[s]={mipmaps:[]};for(var u=0;u<r.mipmapCount;u++)a[s].mipmaps.push(r.mipmaps[s*r.mipmapCount+u]),a[s].format=r.format,a[s].width=r.width,a[s].height=r.height}else o.image.width=r.width,o.image.height=r.height,o.mipmaps=r.mipmaps;1===r.mipmapCount&&(o.minFilter=C),o.format=r.format,o.needsUpdate=!0,t&&t(o)}),r,n);return o}}),ua.prototype=Object.assign(Object.create(na.prototype),{constructor:ua,load:function(e,t,r,n){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,a=ea.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;var o=document.createElementNS("http://www.w3.org/1999/xhtml","img");function s(){o.removeEventListener("load",s,!1),o.removeEventListener("error",u,!1),ea.add(e,this),t&&t(this),i.manager.itemEnd(e)}function u(t){o.removeEventListener("load",s,!1),o.removeEventListener("error",u,!1),n&&n(t),i.manager.itemError(e),i.manager.itemEnd(e)}return o.addEventListener("load",s,!1),o.addEventListener("error",u,!1),"data:"!==e.substr(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),i.manager.itemStart(e),o.src=e,o}}),ca.prototype=Object.assign(Object.create(na.prototype),{constructor:ca,load:function(e,t,r,n){var i=new fe,a=new ua(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,(function(r){i.image=r;var n=e.search(/\.jpe?g($|\?)/i)>0||0===e.search(/^data\:image\/jpeg/);i.format=n?N:I,i.needsUpdate=!0,void 0!==t&&t(i)}),r,n),i}}),Object.assign(ha.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(e,t){var r=this.getUtoTmapping(e);return this.getPoint(r,t)},getPoints:function(e){void 0===e&&(e=5);for(var t=[],r=0;r<=e;r++)t.push(this.getPoint(r/e));return t},getSpacedPoints:function(e){void 0===e&&(e=5);for(var t=[],r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(void 0===e&&(e=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,r,n=[],i=this.getPoint(0),a=0;for(n.push(0),r=1;r<=e;r++)a+=(t=this.getPoint(r/e)).distanceTo(i),n.push(a),i=t;return this.cacheArcLengths=n,n},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(e,t){var r,n=this.getLengths(),i=0,a=n.length;r=t||e*n[a-1];for(var o,s=0,u=a-1;s<=u;)if((o=n[i=Math.floor(s+(u-s)/2)]-r)<0)s=i+1;else{if(!(o>0)){u=i;break}u=i-1}if(n[i=u]===r)return i/(a-1);var l=n[i];return(i+(r-l)/(n[i+1]-l))/(a-1)},getTangent:function(e){var t=1e-4,r=e-t,n=e+t;r<0&&(r=0),n>1&&(n=1);var i=this.getPoint(r);return this.getPoint(n).clone().sub(i).normalize()},getTangentAt:function(e){var t=this.getUtoTmapping(e);return this.getTangent(t)},computeFrenetFrames:function(e,t){var r,n,i,a=new be,o=[],s=[],u=[],l=new be,c=new Ae;for(r=0;r<=e;r++)n=r/e,o[r]=this.getTangentAt(n),o[r].normalize();s[0]=new be,u[0]=new be;var h=Number.MAX_VALUE,f=Math.abs(o[0].x),p=Math.abs(o[0].y),d=Math.abs(o[0].z);for(f<=h&&(h=f,a.set(1,0,0)),p<=h&&(h=p,a.set(0,1,0)),d<=h&&a.set(0,0,1),l.crossVectors(o[0],a).normalize(),s[0].crossVectors(o[0],l),u[0].crossVectors(o[0],s[0]),r=1;r<=e;r++)s[r]=s[r-1].clone(),u[r]=u[r-1].clone(),l.crossVectors(o[r-1],o[r]),l.length()>Number.EPSILON&&(l.normalize(),i=Math.acos(se.clamp(o[r-1].dot(o[r]),-1,1)),s[r].applyMatrix4(c.makeRotationAxis(l,i))),u[r].crossVectors(o[r],s[r]);if(!0===t)for(i=Math.acos(se.clamp(s[0].dot(s[e]),-1,1)),i/=e,o[0].dot(l.crossVectors(s[0],s[e]))>0&&(i=-i),r=1;r<=e;r++)s[r].applyMatrix4(c.makeRotationAxis(o[r],i*r)),u[r].crossVectors(o[r],s[r]);return{tangents:o,normals:s,binormals:u}},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this},toJSON:function(){var e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e},fromJSON:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}),fa.prototype=Object.create(ha.prototype),fa.prototype.constructor=fa,fa.prototype.isEllipseCurve=!0,fa.prototype.getPoint=function(e,t){for(var r=t||new ue,n=2*Math.PI,i=this.aEndAngle-this.aStartAngle,a=Math.abs(i)<Number.EPSILON;i<0;)i+=n;for(;i>n;)i-=n;i<Number.EPSILON&&(i=a?0:n),!0!==this.aClockwise||a||(i===n?i=-n:i-=n);var o=this.aStartAngle+e*i,s=this.aX+this.xRadius*Math.cos(o),u=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){var l=Math.cos(this.aRotation),c=Math.sin(this.aRotation),h=s-this.aX,f=u-this.aY;s=h*l-f*c+this.aX,u=h*c+f*l+this.aY}return r.set(s,u)},fa.prototype.copy=function(e){return ha.prototype.copy.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},fa.prototype.toJSON=function(){var e=ha.prototype.toJSON.call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e},fa.prototype.fromJSON=function(e){return ha.prototype.fromJSON.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},pa.prototype=Object.create(fa.prototype),pa.prototype.constructor=pa,pa.prototype.isArcCurve=!0;var ma=new be,va=new da,ga=new da,ya=new da;function ba(e,t,r,n){ha.call(this),this.type="CatmullRomCurve3",this.points=e||[],this.closed=t||!1,this.curveType=r||"centripetal",this.tension=n||.5}function xa(e,t,r,n,i){var a=.5*(n-t),o=.5*(i-r),s=e*e;return(2*r-2*n+a+o)*(e*s)+(-3*r+3*n-2*a-o)*s+a*e+r}function wa(e,t,r,n){return function(e,t){var r=1-e;return r*r*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,r)+function(e,t){return e*e*t}(e,n)}function _a(e,t,r,n,i){return function(e,t){var r=1-e;return r*r*r*t}(e,t)+function(e,t){var r=1-e;return 3*r*r*e*t}(e,r)+function(e,t){return 3*(1-e)*e*e*t}(e,n)+function(e,t){return e*e*e*t}(e,i)}function Ta(e,t,r,n){ha.call(this),this.type="CubicBezierCurve",this.v0=e||new ue,this.v1=t||new ue,this.v2=r||new ue,this.v3=n||new ue}function Ea(e,t,r,n){ha.call(this),this.type="CubicBezierCurve3",this.v0=e||new be,this.v1=t||new be,this.v2=r||new be,this.v3=n||new be}function Sa(e,t){ha.call(this),this.type="LineCurve",this.v1=e||new ue,this.v2=t||new ue}function Ma(e,t){ha.call(this),this.type="LineCurve3",this.v1=e||new be,this.v2=t||new be}function Aa(e,t,r){ha.call(this),this.type="QuadraticBezierCurve",this.v0=e||new ue,this.v1=t||new ue,this.v2=r||new ue}function Ca(e,t,r){ha.call(this),this.type="QuadraticBezierCurve3",this.v0=e||new be,this.v1=t||new be,this.v2=r||new be}function Ra(e){ha.call(this),this.type="SplineCurve",this.points=e||[]}ba.prototype=Object.create(ha.prototype),ba.prototype.constructor=ba,ba.prototype.isCatmullRomCurve3=!0,ba.prototype.getPoint=function(e,t){var r,n,i,a,o=t||new be,s=this.points,u=s.length,l=(u-(this.closed?0:1))*e,c=Math.floor(l),h=l-c;if(this.closed?c+=c>0?0:(Math.floor(Math.abs(c)/u)+1)*u:0===h&&c===u-1&&(c=u-2,h=1),this.closed||c>0?r=s[(c-1)%u]:(ma.subVectors(s[0],s[1]).add(s[0]),r=ma),n=s[c%u],i=s[(c+1)%u],this.closed||c+2<u?a=s[(c+2)%u]:(ma.subVectors(s[u-1],s[u-2]).add(s[u-1]),a=ma),"centripetal"===this.curveType||"chordal"===this.curveType){var f="chordal"===this.curveType?.5:.25,p=Math.pow(r.distanceToSquared(n),f),d=Math.pow(n.distanceToSquared(i),f),m=Math.pow(i.distanceToSquared(a),f);d<1e-4&&(d=1),p<1e-4&&(p=d),m<1e-4&&(m=d),va.initNonuniformCatmullRom(r.x,n.x,i.x,a.x,p,d,m),ga.initNonuniformCatmullRom(r.y,n.y,i.y,a.y,p,d,m),ya.initNonuniformCatmullRom(r.z,n.z,i.z,a.z,p,d,m)}else"catmullrom"===this.curveType&&(va.initCatmullRom(r.x,n.x,i.x,a.x,this.tension),ga.initCatmullRom(r.y,n.y,i.y,a.y,this.tension),ya.initCatmullRom(r.z,n.z,i.z,a.z,this.tension));return o.set(va.calc(h),ga.calc(h),ya.calc(h)),o},ba.prototype.copy=function(e){ha.prototype.copy.call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var n=e.points[t];this.points.push(n.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},ba.prototype.toJSON=function(){var e=ha.prototype.toJSON.call(this);e.points=[];for(var t=0,r=this.points.length;t<r;t++){var n=this.points[t];e.points.push(n.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e},ba.prototype.fromJSON=function(e){ha.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var n=e.points[t];this.points.push((new be).fromArray(n))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},Ta.prototype=Object.create(ha.prototype),Ta.prototype.constructor=Ta,Ta.prototype.isCubicBezierCurve=!0,Ta.prototype.getPoint=function(e,t){var r=t||new ue,n=this.v0,i=this.v1,a=this.v2,o=this.v3;return r.set(_a(e,n.x,i.x,a.x,o.x),_a(e,n.y,i.y,a.y,o.y)),r},Ta.prototype.copy=function(e){return ha.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},Ta.prototype.toJSON=function(){var e=ha.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},Ta.prototype.fromJSON=function(e){return ha.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},Ea.prototype=Object.create(ha.prototype),Ea.prototype.constructor=Ea,Ea.prototype.isCubicBezierCurve3=!0,Ea.prototype.getPoint=function(e,t){var r=t||new be,n=this.v0,i=this.v1,a=this.v2,o=this.v3;return r.set(_a(e,n.x,i.x,a.x,o.x),_a(e,n.y,i.y,a.y,o.y),_a(e,n.z,i.z,a.z,o.z)),r},Ea.prototype.copy=function(e){return ha.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},Ea.prototype.toJSON=function(){var e=ha.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},Ea.prototype.fromJSON=function(e){return ha.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},Sa.prototype=Object.create(ha.prototype),Sa.prototype.constructor=Sa,Sa.prototype.isLineCurve=!0,Sa.prototype.getPoint=function(e,t){var r=t||new ue;return 1===e?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r},Sa.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},Sa.prototype.getTangent=function(){return this.v2.clone().sub(this.v1).normalize()},Sa.prototype.copy=function(e){return ha.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Sa.prototype.toJSON=function(){var e=ha.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Sa.prototype.fromJSON=function(e){return ha.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},Ma.prototype=Object.create(ha.prototype),Ma.prototype.constructor=Ma,Ma.prototype.isLineCurve3=!0,Ma.prototype.getPoint=function(e,t){var r=t||new be;return 1===e?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r},Ma.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},Ma.prototype.copy=function(e){return ha.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Ma.prototype.toJSON=function(){var e=ha.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Ma.prototype.fromJSON=function(e){return ha.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},Aa.prototype=Object.create(ha.prototype),Aa.prototype.constructor=Aa,Aa.prototype.isQuadraticBezierCurve=!0,Aa.prototype.getPoint=function(e,t){var r=t||new ue,n=this.v0,i=this.v1,a=this.v2;return r.set(wa(e,n.x,i.x,a.x),wa(e,n.y,i.y,a.y)),r},Aa.prototype.copy=function(e){return ha.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Aa.prototype.toJSON=function(){var e=ha.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Aa.prototype.fromJSON=function(e){return ha.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},Ca.prototype=Object.create(ha.prototype),Ca.prototype.constructor=Ca,Ca.prototype.isQuadraticBezierCurve3=!0,Ca.prototype.getPoint=function(e,t){var r=t||new be,n=this.v0,i=this.v1,a=this.v2;return r.set(wa(e,n.x,i.x,a.x),wa(e,n.y,i.y,a.y),wa(e,n.z,i.z,a.z)),r},Ca.prototype.copy=function(e){return ha.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Ca.prototype.toJSON=function(){var e=ha.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Ca.prototype.fromJSON=function(e){return ha.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},Ra.prototype=Object.create(ha.prototype),Ra.prototype.constructor=Ra,Ra.prototype.isSplineCurve=!0,Ra.prototype.getPoint=function(e,t){var r=t||new ue,n=this.points,i=(n.length-1)*e,a=Math.floor(i),o=i-a,s=n[0===a?a:a-1],u=n[a],l=n[a>n.length-2?n.length-1:a+1],c=n[a>n.length-3?n.length-1:a+2];return r.set(xa(o,s.x,u.x,l.x,c.x),xa(o,s.y,u.y,l.y,c.y)),r},Ra.prototype.copy=function(e){ha.prototype.copy.call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var n=e.points[t];this.points.push(n.clone())}return this},Ra.prototype.toJSON=function(){var e=ha.prototype.toJSON.call(this);e.points=[];for(var t=0,r=this.points.length;t<r;t++){var n=this.points[t];e.points.push(n.toArray())}return e},Ra.prototype.fromJSON=function(e){ha.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var n=e.points[t];this.points.push((new ue).fromArray(n))}return this};var Oa=Object.freeze({__proto__:null,ArcCurve:pa,CatmullRomCurve3:ba,CubicBezierCurve:Ta,CubicBezierCurve3:Ea,EllipseCurve:fa,LineCurve:Sa,LineCurve3:Ma,QuadraticBezierCurve:Aa,QuadraticBezierCurve3:Ca,SplineCurve:Ra});function ka(){ha.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function Pa(e){ka.call(this),this.type="Path",this.currentPoint=new ue,e&&this.setFromPoints(e)}function La(e){Pa.call(this,e),this.uuid=se.generateUUID(),this.type="Shape",this.holes=[]}function za(){}function Da(e,t,r,n,i,a){Rr.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=void 0!==e?e:-1,this.right=void 0!==t?t:1,this.top=void 0!==r?r:1,this.bottom=void 0!==n?n:-1,this.near=void 0!==i?i:.1,this.far=void 0!==a?a:2e3,this.updateProjectionMatrix()}ka.prototype=Object.assign(Object.create(ha.prototype),{constructor:ka,add:function(e){this.curves.push(e)},closePath:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new Sa(t,e))},getPoint:function(e){for(var t=e*this.getLength(),r=this.getCurveLengths(),n=0;n<r.length;){if(r[n]>=t){var i=r[n]-t,a=this.curves[n],o=a.getLength(),s=0===o?0:1-i/o;return a.getPointAt(s)}n++}return null},getLength:function(){var e=this.getCurveLengths();return e[e.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,r=0,n=this.curves.length;r<n;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e},getSpacedPoints:function(e){void 0===e&&(e=40);for(var t=[],r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t},getPoints:function(e){e=e||12;for(var t,r=[],n=0,i=this.curves;n<i.length;n++)for(var a=i[n],o=a&&a.isEllipseCurve?2*e:a&&(a.isLineCurve||a.isLineCurve3)?1:a&&a.isSplineCurve?e*a.points.length:e,s=a.getPoints(o),u=0;u<s.length;u++){var l=s[u];t&&t.equals(l)||(r.push(l),t=l)}return this.autoClose&&r.length>1&&!r[r.length-1].equals(r[0])&&r.push(r[0]),r},copy:function(e){ha.prototype.copy.call(this,e),this.curves=[];for(var t=0,r=e.curves.length;t<r;t++){var n=e.curves[t];this.curves.push(n.clone())}return this.autoClose=e.autoClose,this},toJSON:function(){var e=ha.prototype.toJSON.call(this);e.autoClose=this.autoClose,e.curves=[];for(var t=0,r=this.curves.length;t<r;t++){var n=this.curves[t];e.curves.push(n.toJSON())}return e},fromJSON:function(e){ha.prototype.fromJSON.call(this,e),this.autoClose=e.autoClose,this.curves=[];for(var t=0,r=e.curves.length;t<r;t++){var n=e.curves[t];this.curves.push((new Oa[n.type]).fromJSON(n))}return this}}),Pa.prototype=Object.assign(Object.create(ka.prototype),{constructor:Pa,setFromPoints:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this},moveTo:function(e,t){return this.currentPoint.set(e,t),this},lineTo:function(e,t){var r=new Sa(this.currentPoint.clone(),new ue(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this},quadraticCurveTo:function(e,t,r,n){var i=new Aa(this.currentPoint.clone(),new ue(e,t),new ue(r,n));return this.curves.push(i),this.currentPoint.set(r,n),this},bezierCurveTo:function(e,t,r,n,i,a){var o=new Ta(this.currentPoint.clone(),new ue(e,t),new ue(r,n),new ue(i,a));return this.curves.push(o),this.currentPoint.set(i,a),this},splineThru:function(e){var t=new Ra([this.currentPoint.clone()].concat(e));return this.curves.push(t),this.currentPoint.copy(e[e.length-1]),this},arc:function(e,t,r,n,i,a){var o=this.currentPoint.x,s=this.currentPoint.y;return this.absarc(e+o,t+s,r,n,i,a),this},absarc:function(e,t,r,n,i,a){return this.absellipse(e,t,r,r,n,i,a),this},ellipse:function(e,t,r,n,i,a,o,s){var u=this.currentPoint.x,l=this.currentPoint.y;return this.absellipse(e+u,t+l,r,n,i,a,o,s),this},absellipse:function(e,t,r,n,i,a,o,s){var u=new fa(e,t,r,n,i,a,o,s);if(this.curves.length>0){var l=u.getPoint(0);l.equals(this.currentPoint)||this.lineTo(l.x,l.y)}this.curves.push(u);var c=u.getPoint(1);return this.currentPoint.copy(c),this},copy:function(e){return ka.prototype.copy.call(this,e),this.currentPoint.copy(e.currentPoint),this},toJSON:function(){var e=ka.prototype.toJSON.call(this);return e.currentPoint=this.currentPoint.toArray(),e},fromJSON:function(e){return ka.prototype.fromJSON.call(this,e),this.currentPoint.fromArray(e.currentPoint),this}}),La.prototype=Object.assign(Object.create(Pa.prototype),{constructor:La,getPointsHoles:function(e){for(var t=[],r=0,n=this.holes.length;r<n;r++)t[r]=this.holes[r].getPoints(e);return t},extractPoints:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}},copy:function(e){Pa.prototype.copy.call(this,e),this.holes=[];for(var t=0,r=e.holes.length;t<r;t++){var n=e.holes[t];this.holes.push(n.clone())}return this},toJSON:function(){var e=Pa.prototype.toJSON.call(this);e.uuid=this.uuid,e.holes=[];for(var t=0,r=this.holes.length;t<r;t++){var n=this.holes[t];e.holes.push(n.toJSON())}return e},fromJSON:function(e){Pa.prototype.fromJSON.call(this,e),this.uuid=e.uuid,this.holes=[];for(var t=0,r=e.holes.length;t<r;t++){var n=e.holes[t];this.holes.push((new Pa).fromJSON(n))}return this}}),Da.prototype=Object.assign(Object.create(Rr.prototype),{constructor:Da,isOrthographicCamera:!0,copy:function(e,t){return Rr.prototype.copy.call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this},setViewOffset:function(e,t,r,n,i,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=n,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,n=(this.top+this.bottom)/2,i=r-e,a=r+e,o=n+t,s=n-t;if(null!==this.view&&this.view.enabled){var u=(this.right-this.left)/this.view.fullWidth/this.zoom,l=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a=(i+=u*this.view.offsetX)+u*this.view.width,s=(o-=l*this.view.offsetY)-l*this.view.height}this.projectionMatrix.makeOrthographic(i,a,o,s,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){var t=We.prototype.toJSON.call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}});var Na,Ia={decodeText:function(e){if("undefined"!==typeof TextDecoder)return(new TextDecoder).decode(e);for(var t="",r=0,n=e.length;r<n;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch(i){return t}},extractUrlBase:function(e){var t=e.lastIndexOf("/");return-1===t?"./":e.substr(0,t+1)}};function Fa(){nr.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}function Ua(e,t,r,n){"number"===typeof r&&(n=r,r=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),Ft.call(this,e,t,r),this.meshPerAttribute=n||1}function Ba(e){"undefined"===typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"===typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),na.call(this,e),this.options=void 0}function ja(){this.type="ShapePath",this.color=new Rt,this.subPaths=[],this.currentPath=null}function Ha(e){this.type="Font",this.data=e}function Va(e,t,r,n,i){var a=i.glyphs[e]||i.glyphs["?"];if(a){var o,s,u,l,c,h,f,p,d=new ja;if(a.o)for(var m=a._cachedOutline||(a._cachedOutline=a.o.split(" ")),v=0,g=m.length;v<g;){switch(m[v++]){case"m":o=m[v++]*t+r,s=m[v++]*t+n,d.moveTo(o,s);break;case"l":o=m[v++]*t+r,s=m[v++]*t+n,d.lineTo(o,s);break;case"q":u=m[v++]*t+r,l=m[v++]*t+n,c=m[v++]*t+r,h=m[v++]*t+n,d.quadraticCurveTo(c,h,u,l);break;case"b":u=m[v++]*t+r,l=m[v++]*t+n,c=m[v++]*t+r,h=m[v++]*t+n,f=m[v++]*t+r,p=m[v++]*t+n,d.bezierCurveTo(c,h,f,p,u,l)}}return{offsetX:a.ha*t,path:d}}console.error('THREE.Font: character "'+e+'" does not exists in font family '+i.familyName+".")}Fa.prototype=Object.assign(Object.create(nr.prototype),{constructor:Fa,isInstancedBufferGeometry:!0,copy:function(e){return nr.prototype.copy.call(this,e),this.maxInstancedCount=e.maxInstancedCount,this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var e=nr.prototype.toJSON.call(this);return e.maxInstancedCount=this.maxInstancedCount,e.isInstancedBufferGeometry=!0,e}}),Ua.prototype=Object.assign(Object.create(Ft.prototype),{constructor:Ua,isInstancedBufferAttribute:!0,copy:function(e){return Ft.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},toJSON:function(){var e=Ft.prototype.toJSON.call(this);return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}),Ba.prototype=Object.assign(Object.create(na.prototype),{constructor:Ba,setOptions:function(e){return this.options=e,this},load:function(e,t,r,n){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,a=ea.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;fetch(e).then((function(e){return e.blob()})).then((function(e){return void 0===i.options?createImageBitmap(e):createImageBitmap(e,i.options)})).then((function(r){ea.add(e,r),t&&t(r),i.manager.itemEnd(e)})).catch((function(t){n&&n(t),i.manager.itemError(e),i.manager.itemEnd(e)})),i.manager.itemStart(e)}}),Object.assign(ja.prototype,{moveTo:function(e,t){return this.currentPath=new Pa,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this},lineTo:function(e,t){return this.currentPath.lineTo(e,t),this},quadraticCurveTo:function(e,t,r,n){return this.currentPath.quadraticCurveTo(e,t,r,n),this},bezierCurveTo:function(e,t,r,n,i,a){return this.currentPath.bezierCurveTo(e,t,r,n,i,a),this},splineThru:function(e){return this.currentPath.splineThru(e),this},toShapes:function(e,t){function r(e){for(var t=[],r=0,n=e.length;r<n;r++){var i=e[r],a=new La;a.curves=i.curves,t.push(a)}return t}function n(e,t){for(var r=t.length,n=!1,i=r-1,a=0;a<r;i=a++){var o=t[i],s=t[a],u=s.x-o.x,l=s.y-o.y;if(Math.abs(l)>Number.EPSILON){if(l<0&&(o=t[a],u=-u,s=t[i],l=-l),e.y<o.y||e.y>s.y)continue;if(e.y===o.y){if(e.x===o.x)return!0}else{var c=l*(e.x-o.x)-u*(e.y-o.y);if(0===c)return!0;if(c<0)continue;n=!n}}else{if(e.y!==o.y)continue;if(s.x<=e.x&&e.x<=o.x||o.x<=e.x&&e.x<=s.x)return!0}}return n}var i=ji.isClockWise,a=this.subPaths;if(0===a.length)return[];if(!0===t)return r(a);var o,s,u,l=[];if(1===a.length)return s=a[0],(u=new La).curves=s.curves,l.push(u),l;var c=!i(a[0].getPoints());c=e?!c:c;var h,f,p=[],d=[],m=[],v=0;d[v]=void 0,m[v]=[];for(var g=0,y=a.length;g<y;g++)o=i(h=(s=a[g]).getPoints()),(o=e?!o:o)?(!c&&d[v]&&v++,d[v]={s:new La,p:h},d[v].s.curves=s.curves,c&&v++,m[v]=[]):m[v].push({h:s,p:h[0]});if(!d[0])return r(a);if(d.length>1){for(var b=!1,x=[],w=0,_=d.length;w<_;w++)p[w]=[];for(w=0,_=d.length;w<_;w++)for(var T=m[w],E=0;E<T.length;E++){for(var S=T[E],M=!0,A=0;A<d.length;A++)n(S.p,d[A].p)&&(w!==A&&x.push({froms:w,tos:A,hole:E}),M?(M=!1,p[A].push(S)):b=!0);M&&p[w].push(S)}x.length>0&&(b||(m=p))}g=0;for(var C=d.length;g<C;g++){u=d[g].s,l.push(u);for(var R=0,O=(f=m[g]).length;R<O;R++)u.holes.push(f[R].h)}return l}}),Object.assign(Ha.prototype,{isFont:!0,generateShapes:function(e,t){void 0===t&&(t=100);for(var r=[],n=function(e,t,r){for(var n=Array.from?Array.from(e):String(e).split(""),i=t/r.resolution,a=(r.boundingBox.yMax-r.boundingBox.yMin+r.underlineThickness)*i,o=[],s=0,u=0,l=0;l<n.length;l++){var c=n[l];if("\n"===c)s=0,u-=a;else{var h=Va(c,i,s,u,r);s+=h.offsetX,o.push(h.path)}}return o}(e,t,this.data),i=0,a=n.length;i<a;i++)Array.prototype.push.apply(r,n[i].toShapes());return r}});var Ga={getContext:function(){return void 0===Na&&(Na=new(window.AudioContext||window.webkitAudioContext)),Na},setContext:function(e){Na=e}};function Wa(){}function qa(){}function Xa(e,t,r){qa.call(this,void 0,r);var n=(new Rt).set(e),i=(new Rt).set(t),a=new be(n.r,n.g,n.b),o=new be(i.r,i.g,i.b),s=Math.sqrt(Math.PI),u=s*Math.sqrt(.75);this.sh.coefficients[0].copy(a).add(o).multiplyScalar(s),this.sh.coefficients[1].copy(a).sub(o).multiplyScalar(u)}function Ya(e,t){qa.call(this,void 0,t);var r=(new Rt).set(e);this.sh.coefficients[0].set(r.r,r.g,r.b).multiplyScalar(2*Math.sqrt(Math.PI))}Xa.prototype=Object.assign(Object.create(qa.prototype),{constructor:Xa,isHemisphereLightProbe:!0,copy:function(e){return qa.prototype.copy.call(this,e),this},toJSON:function(e){return qa.prototype.toJSON.call(this,e)}}),Ya.prototype=Object.assign(Object.create(qa.prototype),{constructor:Ya,isAmbientLightProbe:!0,copy:function(e){return qa.prototype.copy.call(this,e),this},toJSON:function(e){return qa.prototype.toJSON.call(this,e)}});var Za=new Ae,Ka=new Ae;function Qa(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Or,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Or,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}function Ja(e){this.autoStart=void 0===e||e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}Object.assign(Qa.prototype,{update:function(e){var t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep;var r,n,i=e.projectionMatrix.clone(),a=t.eyeSep/2,o=a*t.near/t.focus,s=t.near*Math.tan(se.DEG2RAD*t.fov*.5)/t.zoom;Ka.elements[12]=-a,Za.elements[12]=a,r=-s*t.aspect+o,n=s*t.aspect+o,i.elements[0]=2*t.near/(n-r),i.elements[8]=(n+r)/(n-r),this.cameraL.projectionMatrix.copy(i),r=-s*t.aspect-o,n=s*t.aspect-o,i.elements[0]=2*t.near/(n-r),i.elements[8]=(n+r)/(n-r),this.cameraR.projectionMatrix.copy(i)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(Ka),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(Za)}}),Object.assign(Ja.prototype,{start:function(){this.startTime=("undefined"===typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var t=("undefined"===typeof performance?Date:performance).now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}});var $a=new be,eo=new ve,to=new be,ro=new be;function no(){We.call(this),this.type="AudioListener",this.context=Ga.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new Ja}function io(e){We.call(this),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this._startedAt=0,this._pausedAt=0,this.filters=[]}no.prototype=Object.assign(Object.create(We.prototype),{constructor:no,getInput:function(){return this.gain},removeFilter:function(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this},getFilter:function(){return this.filter},setFilter:function(e){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this},updateMatrixWorld:function(e){We.prototype.updateMatrixWorld.call(this,e);var t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose($a,eo,to),ro.set(0,0,-1).applyQuaternion(eo),t.positionX){var n=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime($a.x,n),t.positionY.linearRampToValueAtTime($a.y,n),t.positionZ.linearRampToValueAtTime($a.z,n),t.forwardX.linearRampToValueAtTime(ro.x,n),t.forwardY.linearRampToValueAtTime(ro.y,n),t.forwardZ.linearRampToValueAtTime(ro.z,n),t.upX.linearRampToValueAtTime(r.x,n),t.upY.linearRampToValueAtTime(r.y,n),t.upZ.linearRampToValueAtTime(r.z,n)}else t.setPosition($a.x,$a.y,$a.z),t.setOrientation(ro.x,ro.y,ro.z,r.x,r.y,r.z)}}),io.prototype=Object.assign(Object.create(We.prototype),{constructor:io,getOutput:function(){return this.gain},setNodeSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this},setMediaElementSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this},setMediaStreamSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this},setBuffer:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(e){if(void 0===e&&(e=0),!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){this._startedAt=this.context.currentTime+e;var t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._pausedAt+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")},pause:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._pausedAt+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")},stop:function(){if(!1!==this.hasPlaybackControl)return this._pausedAt=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(e){return e||(e=[]),!0===this.isPlaying?(this.disconnect(),this.filters=e,this.connect()):this.filters=e,this},setDetune:function(e){if(this.detune=e,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this},getDetune:function(){return this.detune},getFilter:function(){return this.getFilters()[0]},setFilter:function(e){return this.setFilters(e?[e]:[])},setPlaybackRate:function(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")},setLoopStart:function(e){return this.loopStart=e,this},setLoopEnd:function(e){return this.loopEnd=e,this},getVolume:function(){return this.gain.gain.value},setVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}});var ao=new be,oo=new ve,so=new be,uo=new be;function lo(e){io.call(this,e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}function co(e,t){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=void 0!==t?t:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}lo.prototype=Object.assign(Object.create(io.prototype),{constructor:lo,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(e){return this.panner.refDistance=e,this},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(e){return this.panner.rolloffFactor=e,this},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(e){return this.panner.distanceModel=e,this},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(e){return this.panner.maxDistance=e,this},setDirectionalCone:function(e,t,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=r,this},updateMatrixWorld:function(e){if(We.prototype.updateMatrixWorld.call(this,e),!0!==this.hasPlaybackControl||!1!==this.isPlaying){this.matrixWorld.decompose(ao,oo,so),uo.set(0,0,1).applyQuaternion(oo);var t=this.panner;if(t.positionX){var r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(ao.x,r),t.positionY.linearRampToValueAtTime(ao.y,r),t.positionZ.linearRampToValueAtTime(ao.z,r),t.orientationX.linearRampToValueAtTime(uo.x,r),t.orientationY.linearRampToValueAtTime(uo.y,r),t.orientationZ.linearRampToValueAtTime(uo.z,r)}else t.setPosition(ao.x,ao.y,ao.z),t.setOrientation(uo.x,uo.y,uo.z)}}}),Object.assign(co.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var e=0,t=this.getFrequencyData(),r=0;r<t.length;r++)e+=t[r];return e/t.length}});var ho="\\[\\]\\.:\\/",fo=new RegExp("[\\[\\]\\.:\\/]","g"),po="[^\\[\\]\\.:\\/]",mo="[^"+ho.replace("\\.","")+"]",vo=/((?:WC+[\/:])*)/.source.replace("WC",po),go=/(WCOD+)?/.source.replace("WCOD",mo),yo=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",po),bo=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",po),xo=new RegExp("^"+vo+go+yo+bo+"$"),wo=["material","materials","bones"];function _o(e,t,r){this.path=t,this.parsedPath=r||_o.parseTrackName(t),this.node=_o.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e}function To(e){"string"===typeof e&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}function Eo(e,t,r){Pi.call(this,e,t),this.meshPerAttribute=r||1}function So(){}function Mo(e,t,r){return this.radius=void 0!==e?e:1,this.phi=void 0!==t?t:0,this.theta=void 0!==r?r:0,this}function Ao(e){We.call(this),this.material=e,this.render=function(){}}Object.assign(_o,{Composite:function(){},create:function(e,t,r){return new _o(e,t,r)},sanitizeNodeName:function(e){return e.replace(/\s/g,"_").replace(fo,"")},parseTrackName:function(e){var t=xo.exec(e);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);var r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},n=r.nodeName&&r.nodeName.lastIndexOf(".");if(void 0!==n&&-1!==n){var i=r.nodeName.substring(n+1);-1!==wo.indexOf(i)&&(r.nodeName=r.nodeName.substring(0,n),r.objectName=i)}if(null===r.propertyName||0===r.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r},findNode:function(e,t){if(!t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var r=e.skeleton.getBoneByName(t);if(void 0!==r)return r}if(e.children){var n=function e(r){for(var n=0;n<r.length;n++){var i=r[n];if(i.name===t||i.uuid===t)return i;var a=e(i.children);if(a)return a}return null}(e.children);if(n)return n}return null}}),Object.assign(_o.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(e,t){e[t]=this.node[this.propertyName]},function(e,t){for(var r=this.resolvedProperty,n=0,i=r.length;n!==i;++n)e[t++]=r[n]},function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]},function(e,t){this.resolvedProperty.toArray(e,t)}],SetterByBindingTypeAndVersioning:[[function(e,t){this.targetObject[this.propertyName]=e[t]},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){for(var r=this.resolvedProperty,n=0,i=r.length;n!==i;++n)r[n]=e[t++]},function(e,t){for(var r=this.resolvedProperty,n=0,i=r.length;n!==i;++n)r[n]=e[t++];this.targetObject.needsUpdate=!0},function(e,t){for(var r=this.resolvedProperty,n=0,i=r.length;n!==i;++n)r[n]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty.fromArray(e,t)},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(e,t){this.bind(),this.getValue(e,t)},setValue:function(e,t){this.bind(),this.setValue(e,t)},bind:function(){var e=this.node,t=this.parsedPath,r=t.objectName,n=t.propertyName,i=t.propertyIndex;if(e||(e=_o.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,e){if(r){var a=t.objectIndex;switch(r){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(var o=0;o<e.length;o++)if(e[o].name===a){a=o;break}break;default:if(void 0===e[r])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[r]}if(void 0!==a){if(void 0===e[a])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[a]}}var s=e[n];if(void 0!==s){var u=this.Versioning.None;this.targetObject=e,void 0!==e.needsUpdate?u=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(u=this.Versioning.MatrixWorldNeedsUpdate);var l=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===n){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!e.geometry.isBufferGeometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.",this);if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);for(var o=0;o<this.node.geometry.morphAttributes.position.length;o++)if(e.geometry.morphAttributes.position[o].name===i){i=o;break}}l=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=i}else void 0!==s.fromArray&&void 0!==s.toArray?(l=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(l=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=n;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][u]}else{var c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+n+" but it wasn't found.",e)}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(_o.prototype,{_getValue_unbound:_o.prototype.getValue,_setValue_unbound:_o.prototype.setValue}),To.prototype.clone=function(){return new To(void 0===this.value.clone?this.value:this.value.clone())},Eo.prototype=Object.assign(Object.create(Pi.prototype),{constructor:Eo,isInstancedInterleavedBuffer:!0,copy:function(e){return Pi.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}}),Object.assign(Mo.prototype,{set:function(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this},makeSafe:function(){var e=1e-6;return this.phi=Math.max(e,Math.min(Math.PI-e,this.phi)),this},setFromVector3:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},setFromCartesianCoords:function(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(se.clamp(t/this.radius,-1,1))),this}}),Ao.prototype=Object.create(We.prototype),Ao.prototype.constructor=Ao,Ao.prototype.isImmediateRenderObject=!0;new Ae,new Ae;new Rt,new Rt;new Rr;new Da;function Co(e){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),ba.call(this,e),this.type="catmullrom",this.closed=!0}function Ro(e){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),ba.call(this,e),this.type="catmullrom"}function Oo(e){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),ba.call(this,e),this.type="catmullrom"}ha.create=function(e,t){return console.log("THREE.Curve.create() has been deprecated"),e.prototype=Object.create(ha.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e},Object.assign(ka.prototype,{createPointsGeometry:function(e){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var t=this.getPoints(e);return this.createGeometry(t)},createSpacedPointsGeometry:function(e){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var t=this.getSpacedPoints(e);return this.createGeometry(t)},createGeometry:function(e){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");for(var t=new _r,r=0,n=e.length;r<n;r++){var i=e[r];t.vertices.push(new be(i.x,i.y,i.z||0))}return t}}),Object.assign(Pa.prototype,{fromPoints:function(e){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(e)}}),Co.prototype=Object.create(ba.prototype),Ro.prototype=Object.create(ba.prototype),Oo.prototype=Object.create(ba.prototype),Object.assign(Oo.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),Object.assign(na.prototype,{extractUrlBase:function(e){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),Ia.extractUrlBase(e)}}),na.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},Object.assign(ot.prototype,{center:function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionSphere:function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},size:function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)}}),Ir.prototype.setFromMatrix=function(e){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(e)},Object.assign(se,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(e){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),se.floorPowerOfTwo(e)},nextPowerOfTwo:function(e){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),se.ceilPowerOfTwo(e)}}),Object.assign(le.prototype,{flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},multiplyVector3:function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBufferAttribute:function(e){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Object.assign(Ae.prototype,{extractPosition:function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},getPosition:function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),(new be).setFromMatrixColumn(this,3)},setRotationFromQuaternion:function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector4:function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},crossVector:function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBufferAttribute:function(e){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(e,t,r,n,i,a){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,t,n,r,i,a)}}),dt.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)},ve.prototype.multiplyVector3=function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},Object.assign(St.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(e,t){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(e,t)},midpoint:function(e){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(e)},normal:function(e){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(e)},plane:function(e){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(e)}}),Object.assign(St,{barycoordFromPoint:function(e,t,r,n,i){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),St.getBarycoord(e,t,r,n,i)},normal:function(e,t,r,n){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),St.getNormal(e,t,r,n)}}),Object.assign(La.prototype,{extractAllPoints:function(e){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(e)},extrude:function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Hi(this,e)},makeGeometry:function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new Gi(this,e)}}),Object.assign(ue.prototype,{fromAttribute:function(e,t,r){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,r)},distanceToManhattan:function(e){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(be.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},applyProjection:function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},fromAttribute:function(e,t,r){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,r)},distanceToManhattan:function(e){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(pe.prototype,{fromAttribute:function(e,t,r){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,r)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(_r.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")},applyMatrix:function(e){return console.warn("THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}}),Object.assign(We.prototype,{getChildByName:function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},applyMatrix:function(e){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}}),Object.defineProperties(We.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.assign(mr.prototype,{setDrawMode:function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}),Object.defineProperties(mr.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),0},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),Object.defineProperties(Ii.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(Fi.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),Object.defineProperty(ha.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(e){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=e}}),Or.prototype.setLens=function(e,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==t&&(this.filmGauge=t),this.setFocalLength(e)},Object.defineProperties(za.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}}),Object.defineProperties(Ft.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===re},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(re)}}}),Object.assign(Ft.prototype,{setDynamic:function(e){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?re:te),this},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},setArray:function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign(nr.prototype,{addIndex:function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},addAttribute:function(e,t){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),t&&t.isBufferAttribute||t&&t.isInterleavedBufferAttribute?"index"===e?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t),this):this.setAttribute(e,t):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(e,new Ft(arguments[1],arguments[2])))},addDrawCall:function(e,t,r){void 0!==r&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},removeAttribute:function(e){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(e)},applyMatrix:function(e){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}}),Object.defineProperties(nr.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.defineProperties(So.prototype,{linePrecision:{get:function(){return console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold},set:function(e){console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold=e}}}),Object.defineProperties(Pi.prototype,{dynamic:{get:function(){return console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.usage===re},set:function(e){console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.setUsage(e)}}}),Object.assign(Pi.prototype,{setDynamic:function(e){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?re:te),this},setArray:function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.defineProperties(To.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(Dt.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new Rt}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===e}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(e){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=e}}}),Object.defineProperties(qi.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(Cr.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}}),Object.assign(ki.prototype,{clearTarget:function(e,t,r,n){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(e),this.clear(t,r,n)},animate:function(e){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(e)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},allocTextureUnit:function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},setTexture:function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},setTexture2D:function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},setTextureCube:function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},getActiveMipMapLevel:function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()}}),Object.defineProperties(ki.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(e){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=!0===e?3001:$}}}),Object.defineProperties(Si.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(de.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}}),Object.defineProperties(io.prototype,{load:{value:function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var t=this;return(new Wa).load(e,(function(e){t.setBuffer(e)})),this}},startTime:{set:function(){console.warn("THREE.Audio: .startTime is now .play( delay ).")}}}),co.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},Pr.prototype.updateCubeMap=function(e,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(e,t)};var ko={merge:function(e,t,r){var n;console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead."),t.isMesh&&(t.matrixAutoUpdate&&t.updateMatrix(),n=t.matrix,t=t.geometry),e.merge(t,n,r)},center:function(e){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),e.center()}};ce.crossOrigin=void 0,ce.loadTexture=function(e,t,r,n){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var i=new ca;i.setCrossOrigin(this.crossOrigin);var a=i.load(e,r,void 0,n);return t&&(a.mapping=t),a},ce.loadTextureCube=function(e,t,r,n){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var i=new la;i.setCrossOrigin(this.crossOrigin);var a=i.load(e,r,void 0,n);return t&&(a.mapping=t),a},ce.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},ce.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};var Po={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")}};"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"114"}}));var Lo=Object.freeze({__proto__:null,ACESFilmicToneMapping:5,AddEquation:w,AddOperation:2,AdditiveBlending:2,AlphaFormat:1021,AlwaysDepth:1,AlwaysStencilFunc:519,AmbientLight:function(){},AmbientLightProbe:Ya,AnimationClip:$i,AnimationLoader:oa,AnimationMixer:function(){},AnimationObjectGroup:function(){},AnimationUtils:Yi,ArcCurve:pa,ArrayCamera:function(){},ArrowHelper:function(){},Audio:io,AudioAnalyser:co,AudioContext:Ga,AudioListener:no,AudioLoader:Wa,AxesHelper:function(){},AxisHelper:function(){},BackSide:1,BasicDepthPacking:3200,BasicShadowMap:0,BinaryTextureLoader:function(){},Bone:function(){},BooleanKeyframeTrack:function(){},BoundingBoxHelper:function(){},Box2:function(){},Box3:ot,Box3Helper:function(){},BoxBufferGeometry:Er,BoxGeometry:Tr,BoxHelper:function(){},BufferAttribute:Ft,BufferGeometry:nr,BufferGeometryLoader:function(){},ByteType:1010,Cache:ea,Camera:Rr,CameraHelper:function(){},CanvasRenderer:function(){},CanvasTexture:function(){},CatmullRomCurve3:ba,CineonToneMapping:4,CircleBufferGeometry:function(){},CircleGeometry:function(){},ClampToEdgeWrapping:T,Clock:Ja,ClosedSplineCurve3:Co,Color:Rt,ColorKeyframeTrack:function(){},CompressedTexture:Ui,CompressedTextureLoader:sa,ConeBufferGeometry:function(){},ConeGeometry:function(){},CubeCamera:Pr,CubeGeometry:Tr,CubeReflectionMapping:301,CubeRefractionMapping:302,CubeTexture:tn,CubeTextureLoader:la,CubeUVReflectionMapping:306,CubeUVRefractionMapping:307,CubicBezierCurve:Ta,CubicBezierCurve3:Ea,CubicInterpolant:Ki,CullFaceBack:1,CullFaceFront:2,CullFaceFrontBack:3,CullFaceNone:0,Curve:ha,CurvePath:ka,CustomBlending:5,CylinderBufferGeometry:function(){},CylinderGeometry:function(){},Cylindrical:function(){},DataTexture:zr,DataTexture2DArray:rn,DataTexture3D:nn,DataTextureLoader:function(){},DecrementStencilOp:7683,DecrementWrapStencilOp:34056,DefaultLoadingManager:ra,DepthFormat:F,DepthStencilFormat:U,DepthTexture:Bi,DirectionalLight:function(){},DirectionalLightHelper:function(){},DirectionalLightShadow:function(){},DiscreteInterpolant:Ji,DodecahedronBufferGeometry:function(){},DodecahedronGeometry:function(){},DoubleSide:2,DstAlphaFactor:206,DstColorFactor:208,DynamicBufferAttribute:function(){},DynamicCopyUsage:35050,DynamicDrawUsage:re,DynamicReadUsage:35049,EdgesGeometry:function(){},EdgesHelper:function(){},EllipseCurve:fa,EqualDepth:4,EqualStencilFunc:514,EquirectangularReflectionMapping:303,EquirectangularRefractionMapping:304,Euler:Oe,EventDispatcher:ne,ExtrudeBufferGeometry:function(){},ExtrudeGeometry:Hi,Face3:Lt,Face4:function(e,t,r,n,i,a,o){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new Lt(e,t,r,i,a,o)},FaceColors:1,FileLoader:aa,FlatShading:1,Float32Attribute:function(){},Float32BufferAttribute:qt,Float64Attribute:function(){},Float64BufferAttribute:Xt,FloatType:L,Fog:function(){},FogExp2:function(){},Font:Ha,FontLoader:function(){},FrontFaceDirectionCCW:1,FrontFaceDirectionCW:0,FrontSide:0,Frustum:Ir,GammaEncoding:3007,Geometry:_r,GeometryUtils:ko,GreaterDepth:6,GreaterEqualDepth:5,GreaterEqualStencilFunc:518,GreaterStencilFunc:516,GridHelper:function(){},Group:Ri,HalfFloatType:z,HemisphereLight:function(){},HemisphereLightHelper:function(){},HemisphereLightProbe:Xa,IcosahedronBufferGeometry:function(){},IcosahedronGeometry:function(){},ImageBitmapLoader:Ba,ImageLoader:ua,ImageUtils:ce,ImmediateRenderObject:Ao,IncrementStencilOp:7682,IncrementWrapStencilOp:34055,InstancedBufferAttribute:Ua,InstancedBufferGeometry:Fa,InstancedInterleavedBuffer:Eo,InstancedMesh:function(){},Int16Attribute:function(){},Int16BufferAttribute:Ht,Int32Attribute:function(){},Int32BufferAttribute:Gt,Int8Attribute:function(){},Int8BufferAttribute:Ut,IntType:1013,InterleavedBuffer:Pi,InterleavedBufferAttribute:zi,Interpolant:Zi,InterpolateDiscrete:2300,InterpolateLinear:2301,InterpolateSmooth:2302,InvertStencilOp:5386,JSONLoader:function(){},KeepStencilOp:ee,KeyframeTrack:function(){},LOD:Ii,LatheBufferGeometry:function(){},LatheGeometry:function(){},Layers:ke,LensFlare:function(){},LessDepth:2,LessEqualDepth:3,LessEqualStencilFunc:515,LessStencilFunc:513,Light:za,LightProbe:qa,LightShadow:function(){},Line:function(){},Line3:function(){},LineBasicMaterial:function(){},LineCurve:Sa,LineCurve3:Ma,LineDashedMaterial:function(){},LineLoop:function(){},LinePieces:1,LineSegments:function(){},LineStrip:0,LinearEncoding:$,LinearFilter:C,LinearInterpolant:Qi,LinearMipMapLinearFilter:1008,LinearMipMapNearestFilter:1007,LinearMipmapLinearFilter:R,LinearMipmapNearestFilter:1007,LinearToneMapping:1,Loader:na,LoaderUtils:Ia,LoadingManager:ta,LogLuvEncoding:3003,LoopOnce:2200,LoopPingPong:2202,LoopRepeat:2201,LuminanceAlphaFormat:1025,LuminanceFormat:1024,MOUSE:b,Material:Dt,MaterialLoader:function(){},Math:se,MathUtils:se,Matrix3:le,Matrix4:Ae,MaxEquation:104,Mesh:mr,MeshBasicMaterial:Nt,MeshDepthMaterial:Ei,MeshDistanceMaterial:function(){},MeshFaceMaterial:function(){},MeshLambertMaterial:function(){},MeshMatcapMaterial:Xi,MeshNormalMaterial:function(){},MeshPhongMaterial:qi,MeshPhysicalMaterial:function(){},MeshStandardMaterial:function(){},MeshToonMaterial:function(){},MinEquation:103,MirroredRepeatWrapping:E,MixOperation:1,MultiMaterial:function(){},MultiplyBlending:4,MultiplyOperation:0,NearestFilter:S,NearestMipMapLinearFilter:1005,NearestMipMapNearestFilter:1004,NearestMipmapLinearFilter:A,NearestMipmapNearestFilter:M,NeverDepth:0,NeverStencilFunc:512,NoBlending:0,NoColors:0,NoToneMapping:0,NormalBlending:1,NotEqualDepth:7,NotEqualStencilFunc:517,NumberKeyframeTrack:function(){},Object3D:We,ObjectLoader:function(){},ObjectSpaceNormalMap:1,OctahedronBufferGeometry:function(){},OctahedronGeometry:function(){},OneFactor:201,OneMinusDstAlphaFactor:207,OneMinusDstColorFactor:209,OneMinusSrcAlphaFactor:205,OneMinusSrcColorFactor:203,OrthographicCamera:Da,PCFShadowMap:1,PCFSoftShadowMap:2,PMREMGenerator:function(){},ParametricBufferGeometry:function(){},ParametricGeometry:function(){},Particle:function(){},ParticleBasicMaterial:function(){},ParticleSystem:function(){},ParticleSystemMaterial:function(){},Path:Pa,PerspectiveCamera:Or,Plane:dt,PlaneBufferGeometry:jr,PlaneGeometry:function(){},PlaneHelper:function(){},PointCloud:function(){},PointCloudMaterial:function(){},PointLight:function(){},PointLightHelper:function(){},Points:function(){},PointsMaterial:function(){},PolarGridHelper:function(){},PolyhedronBufferGeometry:function(){},PolyhedronGeometry:function(){},PositionalAudio:lo,PropertyBinding:_o,PropertyMixer:function(){},QuadraticBezierCurve:Aa,QuadraticBezierCurve3:Ca,Quaternion:ve,QuaternionKeyframeTrack:function(){},QuaternionLinearInterpolant:function(){},REVISION:"114",RGBADepthPacking:3201,RGBAFormat:I,RGBAIntegerFormat:1033,RGBA_ASTC_10x10_Format:37819,RGBA_ASTC_10x5_Format:37816,RGBA_ASTC_10x6_Format:37817,RGBA_ASTC_10x8_Format:37818,RGBA_ASTC_12x10_Format:37820,RGBA_ASTC_12x12_Format:37821,RGBA_ASTC_4x4_Format:37808,RGBA_ASTC_5x4_Format:37809,RGBA_ASTC_5x5_Format:37810,RGBA_ASTC_6x5_Format:37811,RGBA_ASTC_6x6_Format:37812,RGBA_ASTC_8x5_Format:37813,RGBA_ASTC_8x6_Format:37814,RGBA_ASTC_8x8_Format:37815,RGBA_ETC2_EAC_Format:Z,RGBA_PVRTC_2BPPV1_Format:X,RGBA_PVRTC_4BPPV1_Format:q,RGBA_S3TC_DXT1_Format:j,RGBA_S3TC_DXT3_Format:H,RGBA_S3TC_DXT5_Format:V,RGBDEncoding:3006,RGBEEncoding:3002,RGBEFormat:1023,RGBFormat:N,RGBIntegerFormat:1032,RGBM16Encoding:3005,RGBM7Encoding:3004,RGB_ETC1_Format:36196,RGB_ETC2_Format:Y,RGB_PVRTC_2BPPV1_Format:W,RGB_PVRTC_4BPPV1_Format:G,RGB_S3TC_DXT1_Format:B,RGFormat:1030,RGIntegerFormat:1031,RawShaderMaterial:Wi,Ray:ct,Raycaster:So,RectAreaLight:function(){},RedFormat:1028,RedIntegerFormat:1029,ReinhardToneMapping:2,RepeatWrapping:_,ReplaceStencilOp:7681,ReverseSubtractEquation:102,RingBufferGeometry:function(){},RingGeometry:function(){},SRGB8_ALPHA8_ASTC_10x10_Format:37851,SRGB8_ALPHA8_ASTC_10x5_Format:37848,SRGB8_ALPHA8_ASTC_10x6_Format:37849,SRGB8_ALPHA8_ASTC_10x8_Format:37850,SRGB8_ALPHA8_ASTC_12x10_Format:37852,SRGB8_ALPHA8_ASTC_12x12_Format:37853,SRGB8_ALPHA8_ASTC_4x4_Format:37840,SRGB8_ALPHA8_ASTC_5x4_Format:37841,SRGB8_ALPHA8_ASTC_5x5_Format:37842,SRGB8_ALPHA8_ASTC_6x5_Format:37843,SRGB8_ALPHA8_ASTC_6x6_Format:37844,SRGB8_ALPHA8_ASTC_8x5_Format:37845,SRGB8_ALPHA8_ASTC_8x6_Format:37846,SRGB8_ALPHA8_ASTC_8x8_Format:37847,Scene:qe,SceneUtils:Po,ShaderChunk:Hr,ShaderLib:Vr,ShaderMaterial:Cr,ShadowMaterial:function(){},Shape:La,ShapeBufferGeometry:function(){},ShapeGeometry:Gi,ShapePath:ja,ShapeUtils:ji,ShortType:1011,Skeleton:Fi,SkeletonHelper:function(){},SkinnedMesh:function(){},SmoothShading:2,Sphere:lt,SphereBufferGeometry:Vi,SphereGeometry:function(){},Spherical:Mo,SphericalHarmonics3:function(){},SphericalReflectionMapping:305,Spline:Oo,SplineCurve:Ra,SplineCurve3:Ro,SpotLight:function(){},SpotLightHelper:function(){},SpotLightShadow:function(){},Sprite:function(){},SpriteMaterial:function(){},SrcAlphaFactor:204,SrcAlphaSaturateFactor:210,SrcColorFactor:202,StaticCopyUsage:35046,StaticDrawUsage:te,StaticReadUsage:35045,StereoCamera:Qa,StreamCopyUsage:35042,StreamDrawUsage:35040,StreamReadUsage:35041,StringKeyframeTrack:function(){},SubtractEquation:101,SubtractiveBlending:3,TOUCH:x,TangentSpaceNormalMap:0,TetrahedronBufferGeometry:function(){},TetrahedronGeometry:function(){},TextBufferGeometry:function(){},TextGeometry:function(){},Texture:fe,TextureLoader:ca,TorusBufferGeometry:function(){},TorusGeometry:function(){},TorusKnotBufferGeometry:function(){},TorusKnotGeometry:function(){},Triangle:St,TriangleFanDrawMode:2,TriangleStripDrawMode:1,TrianglesDrawMode:0,TubeBufferGeometry:function(){},TubeGeometry:function(){},UVMapping:300,Uint16Attribute:function(){},Uint16BufferAttribute:Vt,Uint32Attribute:function(){},Uint32BufferAttribute:Wt,Uint8Attribute:function(){},Uint8BufferAttribute:Bt,Uint8ClampedAttribute:function(){},Uint8ClampedBufferAttribute:jt,Uncharted2ToneMapping:3,Uniform:To,UniformsLib:Fr,UniformsUtils:Ar,UnsignedByteType:O,UnsignedInt248Type:D,UnsignedIntType:P,UnsignedShort4444Type:1017,UnsignedShort5551Type:1018,UnsignedShort565Type:1019,UnsignedShortType:k,VSMShadowMap:3,Vector2:ue,Vector3:be,Vector4:pe,VectorKeyframeTrack:function(){},Vertex:function(){},VertexColors:2,VideoTexture:function(){},WebGLCubeRenderTarget:Lr,WebGLMultisampleRenderTarget:me,WebGLRenderTarget:de,WebGLRenderTargetCube:function(){},WebGLRenderer:ki,WebGLUtils:Ci,WireframeGeometry:function(){},WireframeHelper:function(){},WrapAroundEnding:J,XHRLoader:function(){},ZeroCurvatureEnding:K,ZeroFactor:200,ZeroSlopeEnding:Q,ZeroStencilOp:0,sRGBEncoding:3001});Ae.prototype.getInverse=function(e,t){var r=this.elements,n=e.elements,i=n[0],a=n[1],o=n[2],s=n[3],u=n[4],l=n[5],c=n[6],h=n[7],f=n[8],p=n[9],d=n[10],m=n[11],v=n[12],g=n[13],y=n[14],b=n[15],x=i*l,w=i*p,_=i*g,T=i*c,E=u*a,S=u*p,M=u*g,A=u*o,C=f*a,R=f*l,O=f*g,k=f*o,P=f*c,L=v*p,z=v*d,D=v*s,N=v*m,I=a*c,F=a*h,U=l*o,B=l*d,j=p*o,H=p*c,V=p*y,G=g*o,W=g*c,q=g*d,X=d*b,Y=y*s,Z=y*h,K=y*m,Q=p*Z-q*h+W*m-l*K-H*b+l*X,J=z*h-f*Z-N*c+u*K+P*b-u*X,$=O*h-L*h+N*l-M*m-R*b+S*b,ee=v*H-f*W-z*l+u*q+R*y-S*y,te=i*Q+a*J+o*$+s*ee;if(0===te){var re="THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0";if(t)throw new Error(re);return console.warn(re),this.identity()}return r[0]=Q,r[1]=q*s-V*s-G*m+a*K+j*b-a*X,r[2]=l*Y-W*s+G*h-a*Z-U*b+I*b,r[3]=H*s-B*s-j*h+F*d+U*m-I*m,r[4]=J,r[5]=f*Y-z*s+N*o-i*K-k*b+i*X,r[6]=D*c-u*Y-v*o*h+i*Z+A*b-T*b,r[7]=u*d*s-P*s+k*h-i*d*h-A*m+T*m,r[8]=$,r[9]=L*s-O*s-N*a+_*m+C*b-w*b,r[10]=M*s-D*l+v*F-_*h-E*b+x*b,r[11]=R*s-S*s-f*F+w*h+E*m-x*m,r[12]=ee,r[13]=O*o-L*o+z*a-i*q-C*y+i*V,r[14]=v*U-M*o-v*I+i*W+E*y-x*y,r[15]=S*o-R*o+P*a-i*H-E*d+i*B,this.multiplyScalar(1/te)};var zo=Math.PI/180,Do=180/Math.PI;function No(e){var t=Io(e[0]+1,e[2]);return[Io(e[0],e[2]),Fo(e[1]+1,e[2]),t,Fo(e[1],e[2])]}function Io(e,t){return e/Math.pow(2,t)*360-180}function Fo(e,t){var r=Math.PI-2*Math.PI*e/Math.pow(2,t);return Do*Math.atan(.5*(Math.exp(r)-Math.exp(-r)))}function Uo(e,t,r){var n=Wo(e,t,r);return n[0]=Math.floor(n[0]),n[1]=Math.floor(n[1]),n}function Bo(e){return[[2*e[0],2*e[1],e[2]+1],[2*e[0]+1,2*e[1],e[2]+1],[2*e[0]+1,2*e[1]+1,e[2]+1],[2*e[0],2*e[1]+1,e[2]+1]]}function jo(e){return e[0]%2===0&&e[1]%2===0?[e[0]/2,e[1]/2,e[2]-1]:e[0]%2===0&&!e[1]%2===0?[e[0]/2,(e[1]-1)/2,e[2]-1]:!e[0]%2===0&&e[1]%2===0?[(e[0]-1)/2,e[1]/2,e[2]-1]:[(e[0]-1)/2,(e[1]-1)/2,e[2]-1]}function Ho(e){return Bo(jo(e))}function Vo(e,t){for(var r=0;r<e.length;r++)if(Go(e[r],t))return!0;return!1}function Go(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function Wo(e,t,r){var n=Math.sin(t*zo),i=Math.pow(2,r);return[i*(e/360+.5),i*(.5-.25*Math.log((1+n)/(1-n))/Math.PI),r]}var qo={tileToGeoJSON:function(e){var t=No(e);return{type:"Polygon",coordinates:[[[t[0],t[1]],[t[0],t[3]],[t[2],t[3]],[t[2],t[1]],[t[0],t[1]]]]}},tileToBBOX:No,getChildren:Bo,getParent:jo,getSiblings:Ho,hasTile:Vo,hasSiblings:function(e,t){for(var r=Ho(e),n=0;n<r.length;n++)if(!Vo(t,r[n]))return!1;return!0},tilesEqual:Go,tileToQuadkey:function(e){for(var t="",r=e[2];r>0;r--){var n=0,i=1<<r-1;0!==(e[0]&i)&&n++,0!==(e[1]&i)&&(n+=2),t+=n.toString()}return t},quadkeyToTile:function(e){for(var t=0,r=0,n=e.length,i=n;i>0;i--){var a=1<<i-1,o=+e[n-i];1===o&&(t|=a),2===o&&(r|=a),3===o&&(t|=a,r|=a)}return[t,r,n]},pointToTile:Uo,bboxToTile:function(e){var t=Uo(e[0],e[1],32),r=Uo(e[2],e[3],32),n=[t[0],t[1],r[0],r[1]],i=function(e){for(var t=28,r=0;r<t;r++){var n=1<<32-(r+1);if((e[0]&n)!==(e[2]&n)||(e[1]&n)!==(e[3]&n))return r}return t}(n);return 0===i?[0,0,0]:[n[0]>>>32-i,n[1]>>>32-i,i]},pointToTileFraction:Wo},Xo={center:new Lo.Vector2(0,0),center3035:new Lo.Vector2(0,0),projector:null,calculateGlobalOffset:function(e,t){var r=qo.pointToTileFraction(e,t,7),n=Object(s.a)(r,3),i=n[0],a=n[1],o=n[2],u=Math.pow(2,15-o)*Xo.calculateSceneScale(e,t);return new Lo.Vector2(-i,a).multiplyScalar(u)},calculateSceneScale:function(e,t){var r=qo.pointToTile(e,t,15),n=qo.tileToBBOX(r);return Xo.project([n[2],n[3]]).sub(Xo.project([n[0],n[1]])).x},project:function(e,t){if("number"!==typeof e[0])return e.map((function(e){return Xo.project(e,t)}));var r=Xo.projector.forward(e);return t||(r[0]-=Xo.center.x,r[1]-=Xo.center.y),new Lo.Vector3(r[0],r[1],e[2])},unproject:function(e,t){if(Array.isArray(e))return e.map((function(e){return Xo.unproject(e,t)}));var r=[e.x,e.y];t||(r[0]+=Xo.center.x,r[1]+=Xo.center.y);var n=Xo.projector.inverse(r);return[n[0],n[1],e.z]},unproject3035:function(e,t){if(Array.isArray(e[0]))return e.map((function(e){return Xo.unproject3035(e,t)}));var r=[e[0],e[1]];t||(r[0]+=Xo.center3035.x,r[1]+=Xo.center3035.y);var n=Xo.projector3035.inverse(r);return[n[0],n[1],e.z]},vectorize:function(e){if("number"!==typeof e[0]){for(var t=new Array(e.length),r=0,n=e.length;r<n;r++)t[r]=Xo.vectorize(e[r]);return t}return new Lo.Vector3(e[0],e[1],e[2])},vectorizeFeature:function(e){return e.projected?Xo.vectorize(e.geometry.coordinates):Xo.project(e.geometry.coordinates)}},Yo=y.generateActions("containerMounted","containerResized","fatalError","featureCreated","fontsLoaded","forceHD","onBoundsFocused","onLocationFocused","overlayDisplayed","needsRender","pause","play","renderedFeatureDisplayed","renderedFeatureRegister","setFieldOfView","setHD","setSize");function Zo(){var e=this;this.paused=!1,this.time=0,this.bindListeners({play:Yo.play,pause:Yo.pause});window.requestAnimationFrame((function t(r){window.requestAnimationFrame(t),e.paused||(e.time=r,e.emitChange())}))}Zo.prototype.play=function(){return this.paused=!1,!1},Zo.prototype.pause=function(){return this.paused=!0,!1},Zo.displayName="AnimationStore";var Ko=y.createStore(Zo),Qo=y.generateActions("panToPosition","setPosition","toggleTracking"),Jo=y.generateActions("addBuiltinOverlay","addOverlay","elevationBigProgress","elevationProgress","featuresProgress","imageryBigProgress","imageryProgress","removeOverlay","setElevation","setElevationBig","setFeatures","setHeightOffset","setHeightOffsetBig","setImagery","setImageryBig","setLiabilityUsed","setOSMUsed","setSRTMUsed","setTerrainMesh","updateHeightMap","updateOverlay"),$o=y.generateActions("animateAlongFeature","doubleTapZoom","featureClicked","featureSelected","focusOnBounds","focusOnFeature","focusOnLocation","focusOnTarget","inputEnded","inputStarted","orbitTarget","panToPosition","rotateLeft","rotateRight","selectFeatures","setCamera","setCameraMode","setCameraPosition","setCameraTarget","setCurrentPlace","setEnvironment","setGeography","setSecondaryParams","setTerrainEffectContours","setTerrainEffectFlats","setTerrainEffectGrade","setTerrainEffectHeight","setTerrainEffectNone","startFlyover","toggleWidgets","zoomIn","zoomOut");function es(){this.needsRender=!1,this.animating=!1,this.env=!1,this.clock=new Lo.Clock,this.bindListeners({scheduleRender:[Qo.panToPosition,Qo.setPosition,Jo.addBuiltinOverlay,Jo.addOverlay,Jo.setFeatures,Jo.setImageryBig,Yo.containerMounted,Yo.containerResized,Yo.needsRender,Yo.setHD,$o.featureSelected,$o.focusOnLocation,$o.inputEnded,$o.setCameraMode,$o.setCamera,$o.setCameraTarget,$o.setCameraPosition,$o.setTerrainEffectContours,$o.setTerrainEffectFlats,$o.setTerrainEffectGrade,$o.setTerrainEffectHeight,$o.setTerrainEffectNone],scheduleRenderAnimated:Jo.updateOverlay}),Ko.listen(this.tick.bind(this))}es.prototype.scheduleRender=function(e){return e&&(e.animating&&(this.animating=!0),e.env&&(this.env=!0)),this.needsRender=!0,!1},es.prototype.scheduleRenderAnimated=function(){return this.scheduleRender({animating:!0})},es.prototype.tick=function(){this.needsRender&&(this.clock.getElapsedTime(),this.emitChange()),this.animating=!1,this.env=!1},es.displayName="RenderStore";var ts=y.createStore(es),rs=document.createElement("canvas"),ns=rs.getContext("webgl")||rs.getContext("experimental-webgl");rs=void 0;var is=function(e,t){var r=ns.createShader(e);if(ns.shaderSource(r,t),ns.compileShader(r),!ns.getShaderParameter(r,ns.COMPILE_STATUS)){var n=ns.getShaderInfoLog(r);return console.error("Error compiling shader:\n\n",t,n),null}return r},as=function(e,t){var r=ns.createProgram(),n=ns.attachShader(r,is(ns.VERTEX_SHADER,e)),i=ns.attachShader(r,is(ns.FRAGMENT_SHADER,t));if(ns.linkProgram(r),!ns.getProgramParameter(r,ns.LINK_STATUS)){var a=ns.getProgramInfoLog(r);return console.error("Error linking program",r,a),null}return ns.deleteShader(n),ns.deleteShader(i),r},os=function(){},ss={event:function(){},timing:function(){},onload:null,now:function(){return 0}},us=null!==ns?ns.getSupportedExtensions():[],ls=["ANGLE_instanced_arrays","OES_standard_derivatives"].filter((function(e){return-1===us.indexOf(e)})),cs=["WEBGL_depth_texture"].filter((function(e){return-1===us.indexOf(e)}));ss.onload=function(){if(ss.event("webgl","supported",hs.supported?"yes":"no"),ss.event("webgl","render_565",hs.render565?"yes":"no"),hs.missing.length>0)for(var e=0;e<hs.missing.length;e++)ss.event("webgl","missing_extension",hs.missing[e]);if(hs.missingOptional.length>0)for(e=0;e<hs.missingOptional.length;e++)ss.event("webgl","missing_optional_extension",hs.missingOptional[e])};var hs={supported:null!==ns,supports:function(e){return-1!==us.indexOf(e)},extensions:us,render565:!1,s3tc:!1,pvrtc:!1,missing:ls,missingOptional:cs,workers:!!window.Worker};if(hs.supported){var fs=as("void main() { gl_Position = vec4( 1.0, 1.0, 1.0, 1.0); }","precision mediump float; uniform sampler2D uiiii_tex; void main() { gl_FragColor = texture2D( uiiii_tex, vec2( 0.5, 0.5 ) ); }");hs.render565=function(e,t){var r,n,i=!1;try{if(e&&!ns.getExtension(e))return!1;r=ns.createTexture(),ns.bindTexture(ns.TEXTURE_2D,r),ns.texImage2D(ns.TEXTURE_2D,0,ns.RGB,1,1,0,ns.RGB,t,null),ns.texParameteri(ns.TEXTURE_2D,ns.TEXTURE_MIN_FILTER,ns.NEAREST),ns.texParameteri(ns.TEXTURE_2D,ns.TEXTURE_MAG_FILTER,ns.NEAREST),n=ns.createFramebuffer(),ns.bindFramebuffer(ns.FRAMEBUFFER,n),ns.framebufferTexture2D(ns.FRAMEBUFFER,ns.COLOR_ATTACHMENT0,ns.TEXTURE_2D,r,0),i=ns.checkFramebufferStatus(ns.FRAMEBUFFER)===ns.FRAMEBUFFER_COMPLETE}catch(a){i=!1}finally{r&&ns.deleteTexture(r),n&&ns.deleteFramebuffer(n)}return i}(null,ns.UNSIGNED_SHORT_5_6_5),ns.deleteProgram(fs),fs=void 0;var ps=ns.getExtension("WEBGL_compressed_texture_s3tc")||ns.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||ns.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc"),ds=ns.getExtension("WEBGL_compressed_texture_pvrtc")||ns.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");hs.s3tc=null!==ps,hs.pvrtc=null!==ds,hs.depthTexture=hs.supports("WEBGL_depth_texture")}function ms(){this.width=256,this.height=256,this.lastResize=0,this.renderRatio=1,this.renderWidth=256,this.renderHeight=256,this.pixelRatio=window.devicePixelRatio,this.canvasWidth=256,this.canvasHeight=256,this.aspect=1,this.fov=70,this.lodScale=10,this.hd=!0,this.forceHd=!1,this.lowDefMove=hs.depthTexture,this.lowDefScale=1,this.element=document.createElement("div"),this.element.style.position="relative",this.element.style.width="100%",this.element.style.height="100%",this.bindListeners({containerResized:[Yo.containerResized,Yo.containerMounted],featureSelected:$o.featureSelected,setFieldOfView:Yo.setFieldOfView,forceHD:Yo.forceHD,setHD:Yo.setHD,setSize:Yo.setSize,inputStarted:$o.inputStarted,inputEnded:$o.inputEnded}),this.exportPublicMethods({toClipSpace:this.toClipSpace.bind(this),fromClipSpace:this.fromClipSpace.bind(this),flipY:this.flipY.bind(this)});var e=this;Ko.listen((function(){if(0!==e.element.offsetWidth&&0!==e.element.offsetHeight){var t=e.element.getBoundingClientRect();t.width/t.height===e.aspect&&e.element.offsetWidth===e.width&&e.element.offsetHeight===e.height||Yo.containerResized()}}))}ms.prototype.containerResized=function(){if(this.element.offsetWidth>0&&this.element.offsetHeight>0){var e=this.element.getBoundingClientRect();this.aspect=e.width/e.height,this.setSize({width:this.element.offsetWidth,height:this.element.offsetHeight}),this.lastResize=ts.getState().clock.getElapsedTime()}},ms.prototype.featureSelected=function(e){return this.element.style.cursor=e?"pointer":"auto",!1},ms.prototype.updateSizes=function(){this.renderWidth=this.width*this.renderRatio,this.renderHeight=this.height*this.renderRatio,this.pixelRatio=hs.depthTexture?window.devicePixelRatio:this.renderRatio,this.canvasWidth=this.width*this.pixelRatio,this.canvasHeight=this.height*this.pixelRatio},ms.prototype.getRenderRatio=function(){if(!hs.depthTexture)return 1;for(var e=[1,1.2,1.5,2],t=0,r=this,n=function(t){return e[t]*r.width*e[t]*r.height};e[t+1]&&n(t+1)<15e5;)t++;return e[t]},ms.prototype.inputStarted=function(){if(!this.lowDefMove)return!1;var e=this.getRenderRatio();this.renderRatio=Math.max(.8,.75*e),this.lowDefScale=this.renderRatio/e,this.updateSizes()},ms.prototype.inputEnded=function(){if(!this.lowDefMove)return!1;this.renderRatio=this.getRenderRatio(),this.lowDefScale=1,this.updateSizes()},ms.prototype.setSize=function(e){this.width=e.width,this.height=e.height,this.lodScale=1.5*Math.min(1e3/this.width,1),this.renderRatio=this.getRenderRatio(),this.updateSizes()},ms.prototype.forceHD=function(e){this.forceHd=e,this.renderRatio=this.getRenderRatio(),this.updateSizes()},ms.prototype.setHD=function(e){this.hd=e,this.renderRatio=this.getRenderRatio(),this.updateSizes()},ms.prototype.setFieldOfView=function(e){this.fov=e},ms.prototype.toClipSpace=function(e){return new Lo.Vector2(e.x/this.width*2-1,1-e.y/this.height*2)},ms.prototype.fromClipSpace=function(e){return new Lo.Vector2(.5*(1+e.x)*this.width,.5*(1-e.y)*this.height)},ms.prototype.flipY=function(e){return new Lo.Vector2(e.x,this.height-e.y)},ms.displayName="ContainerStore";var vs=y.createStore(ms),gs=new Lo.PerspectiveCamera(45,1,200,2e6);vs.listen((function(e){gs.aspect=e.aspect,gs.fov=e.fov/Math.max(gs.aspect,1),gs.updateProjectionMatrix()}));var ys=function(e){var t=vs.getState().element;void 0===t&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),t===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.object=e,this.domElement=t,this.enabled=!0,this.target=new be,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=.17*Math.PI,this.maxPolarAngle=.33*Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!0,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=.5,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=50,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.lock2D=!1,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40,MINUS:189,PLUS:187},this.mouseButtons={LEFT:b.ROTATE,MIDDLE:b.DOLLY,RIGHT:b.PAN},this.touches={ONE:x.ROTATE,TWO:x.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return u.phi},this.getAzimuthalAngle=function(){return u.theta},this.saveState=function(){n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.setDistanceToTarget=function(e){ts.getState().clock.getElapsedTime()-vs.getState().lastResize>1&&(n.target.sub(n.object.position),n.target.setLength(e),n.target.add(n.object.position))},this.reset=function(){n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(i),n.update(),o=a.NONE},this.update=function(){var t=new be,r=(new ve).setFromUnitVectors(e.up,new be(0,1,0)),p=r.clone().inverse(),d=new be,m=new ve;return function(){var e=n.object.position;t.copy(e).sub(n.target),t.applyQuaternion(r),u.setFromVector3(t),n.autoRotate&&o===a.NONE&&S(2*Math.PI/60/60*n.autoRotateSpeed),n.lock2D?(void 0===n._oldPhi&&(n._oldPhi=u.phi),l.phi=-u.phi):void 0!==n._oldPhi&&(l.phi=n._oldPhi-u.phi,Math.abs(l.phi)<.05&&delete n._oldPhi),n.enableDamping?(u.theta+=l.theta*n.dampingFactor,u.phi+=l.phi*n.dampingFactor):(u.theta+=l.theta,u.phi+=l.phi),u.theta=Math.max(n.minAzimuthAngle,Math.min(n.maxAzimuthAngle,u.theta)),n.lock2D||void 0!==n._oldPhi||(u.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,u.phi))),u.makeSafe(),c-=1;var v=2*n.dampingFactor;return u.radius*=1+c*v,u.radius=Math.max(n.minDistance,Math.min(n.maxDistance,u.radius)),!0===n.enableDamping?n.target.addScaledVector(h,n.dampingFactor):n.target.add(h),t.setFromSpherical(u),t.applyQuaternion(p),e.copy(n.target).add(t),n.object.lookAt(n.target),!0===n.enableDamping?(l.theta*=1-n.dampingFactor,l.phi*=1-n.dampingFactor,h.multiplyScalar(1-n.dampingFactor)):(l.set(0,0,0),h.set(0,0,0)),c*=1-v,c+=1,!!(f||d.distanceToSquared(n.object.position)>s||8*(1-m.dot(n.object.quaternion))>s)&&(n.dispatchEvent(i),n.object.position.forceHeight=!0,$o.setCamera({position:n.object.position,target:n.target}),d.copy(n.object.position),m.copy(n.object.quaternion),f=!1,!0)}}(),this.dispose=function(){n.domElement.removeEventListener("contextmenu",Q,!1),n.domElement.removeEventListener("mousedown",H,!1),n.domElement.removeEventListener("wheel",W,{capture:!1,passive:!1}),n.domElement.removeEventListener("touchstart",X,!1),n.domElement.removeEventListener("touchend",K,!1),n.domElement.removeEventListener("touchcancel",Z,!1),n.domElement.removeEventListener("touchmove",Y,!1),n.domElement.ownerDocument.removeEventListener("mousemove",V,!1),n.domElement.ownerDocument.removeEventListener("mouseup",G,!1),n.domElement.removeEventListener("keydown",q,!1)};var r,n=this,i={type:"change"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},o=a.NONE,s=1e-6,u=new Mo,l=new Mo,c=1,h=new be,f=!1,p=new ue,d=new ue,m=new ue,v=new ue,g=new ue,y=new ue,w=new ue,_=new ue,T=new ue;function E(e){return Math.pow(.97,void 0!==e?.01*Math.abs(e):n.zoomSpeed)}function S(e){l.theta-=e}function M(e){l.phi-=e}var A=function(){var e=new be;return function(t,r){e.setFromMatrixColumn(r,0),e.multiplyScalar(-t),h.add(e)}}(),C=function(){var e=new be;return function(t,r){!0===n.screenSpacePanning?e.setFromMatrixColumn(r,1):(e.setFromMatrixColumn(r,0),e.crossVectors(n.object.up,e)),e.multiplyScalar(t),h.add(e)}}(),R=function(){var e=new be;return function(t,r){var i=n.domElement;if(n.object.isPerspectiveCamera){var a=n.object.position;e.copy(a).sub(n.target);var o=e.length();o*=Math.tan(n.object.fov/2*Math.PI/180),A(2*t*o/i.clientHeight,n.object.matrix),C(2*r*o/i.clientHeight,n.object.matrix)}else n.object.isOrthographicCamera?(A(t*(n.object.right-n.object.left)/n.object.zoom/i.clientWidth,n.object.matrix),C(r*(n.object.top-n.object.bottom)/n.object.zoom/i.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}}();function O(e){n.object.isPerspectiveCamera?c/=e:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom*e)),n.object.updateProjectionMatrix(),f=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function k(e){n.object.isPerspectiveCamera?c*=e:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/e)),n.object.updateProjectionMatrix(),f=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function P(e){p.set(e.clientX,e.clientY)}function L(e){v.set(e.clientX,e.clientY)}function z(e){var t=void 0===e.clientX?e.touches[0]:e;n.dispatchEvent({type:"click",srcElement:e.srcElement||e.target,clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY,altKey:e.altKey,detail:e.clickCount})}function D(e){if(1==e.touches.length)p.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),r=.5*(e.touches[0].pageY+e.touches[1].pageY);p.set(t,r)}}function N(e){if(1==e.touches.length)v.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),r=.5*(e.touches[0].pageY+e.touches[1].pageY);v.set(t,r)}}function I(e){var t=e.touches[0].pageX-e.touches[1].pageX,r=e.touches[0].pageY-e.touches[1].pageY,n=Math.sqrt(t*t+r*r);w.set(0,n)}function F(e){if(1==e.touches.length)d.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),r=.5*(e.touches[0].pageY+e.touches[1].pageY);d.set(t,r)}m.subVectors(d,p).multiplyScalar(n.rotateSpeed);var i=n.domElement;S(2*Math.PI*m.x/i.clientHeight),M(2*Math.PI*m.y/i.clientHeight),p.copy(d)}function U(e){if(1==e.touches.length)g.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),r=.5*(e.touches[0].pageY+e.touches[1].pageY);g.set(t,r)}y.subVectors(g,v).multiplyScalar(n.panSpeed),R(y.x,y.y),v.copy(g)}function B(e){var t=e.touches[0].pageX-e.touches[1].pageX,r=e.touches[0].pageY-e.touches[1].pageY,i=Math.sqrt(t*t+r*r);_.set(0,i),T.set(0,Math.pow(_.y/w.y,n.zoomSpeed)),O(T.y),w.copy(_)}function j(e){var t=ts.getState().clock.getElapsedTime();(!r||t-r.time>.3)&&((r=e).time=t,r.clickCount=0),r.clickCount++}function H(e){if(!1!==n.enabled){var t;switch(e.preventDefault(),n.domElement.focus?n.domElement.focus():window.focus(),e.button){case 0:t=n.mouseButtons.LEFT;break;case 1:t=n.mouseButtons.MIDDLE;break;case 2:t=n.mouseButtons.RIGHT;break;default:t=-1}switch(t){case b.DOLLY:if(!1===n.enableZoom)return;!function(e){w.set(e.clientX,e.clientY)}(e),o=a.DOLLY;break;case b.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enablePan)return;L(e),o=a.PAN}else{if(!1===n.enableRotate)return;P(e),o=a.ROTATE}break;case b.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enableRotate)return;P(e),o=a.ROTATE}else{if(!1===n.enablePan)return;L(e),o=a.PAN}break;default:o=a.NONE}o!==a.NONE&&(n.domElement.ownerDocument.addEventListener("mousemove",V,!1),n.domElement.ownerDocument.addEventListener("mouseup",G,!1),j(e),$o.inputStarted())}}function V(e){if(!1!==n.enabled)switch(e.preventDefault(),o){case a.ROTATE:if(!1===n.enableRotate)return;!function(e){d.set(e.clientX,e.clientY),m.subVectors(d,p).multiplyScalar(n.rotateSpeed);var t=n.domElement;S(2*Math.PI*m.x/t.clientHeight),M(2*Math.PI*m.y/t.clientHeight),p.copy(d),n.update()}(e);break;case a.DOLLY:if(!1===n.enableZoom)return;!function(e){_.set(e.clientX,e.clientY),T.subVectors(_,w),T.y>0?O(E()):T.y<0&&k(E()),w.copy(_),n.update()}(e);break;case a.PAN:if(!1===n.enablePan)return;!function(e){g.set(e.clientX,e.clientY),y.subVectors(g,v).multiplyScalar(n.panSpeed),R(y.x,y.y),v.copy(g),n.update()}(e)}}function G(e){!1!==n.enabled&&($o.inputEnded(),function(e){var t=ts.getState().clock.getElapsedTime();r.clientX===e.clientX&&r.clientY===e.clientY&&t-r.time<.3&&z(r)}(e),n.domElement.ownerDocument.removeEventListener("mousemove",V,!1),n.domElement.ownerDocument.removeEventListener("mouseup",G,!1),o=a.NONE)}function W(e){!1===n.enabled||!1===n.enableZoom||o!==a.NONE&&o!==a.ROTATE||(e.preventDefault(),e.stopPropagation(),$o.inputStarted(),function(e){var t=e.deltaY;e.deltaMode===e.DOM_DELTA_LINE?t*=32:e.deltaMode===e.DOM_DELTA_PAGE&&(t*=100),t<0?k(E(t)):t>0&&O(E(t)),n.update()}(e),$o.inputEnded())}function q(e){!1!==n.enabled&&!1!==n.enableKeys&&!1!==n.enablePan&&function(e){var t=!1;switch(e.keyCode){case n.keys.UP:R(0,n.keyPanSpeed),t=!0;break;case n.keys.BOTTOM:R(0,-n.keyPanSpeed),t=!0;break;case n.keys.LEFT:R(n.keyPanSpeed,0),t=!0;break;case n.keys.RIGHT:R(-n.keyPanSpeed,0),t=!0;break;case n.keys.MINUS:O(E(300)),t=!0;break;case n.keys.PLUS:k(E(300)),t=!0}t&&(e.preventDefault(),n.update())}(e)}function X(e){if(!1!==n.enabled){switch(e.preventDefault(),e.touches.length){case 1:switch(n.touches.ONE){case x.ROTATE:if(!1===n.enableRotate)return;D(e),o=a.TOUCH_ROTATE;break;case x.PAN:if(!1===n.enablePan)return;N(e),o=a.TOUCH_PAN;break;default:o=a.NONE}break;case 2:switch(n.touches.TWO){case x.DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;!function(e){n.enableZoom&&I(e),n.enablePan&&N(e)}(e),o=a.TOUCH_DOLLY_PAN;break;case x.DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;!function(e){n.enableZoom&&I(e),n.enableRotate&&D(e)}(e),o=a.TOUCH_DOLLY_ROTATE;break;default:o=a.NONE}break;default:o=a.NONE}o!==a.NONE&&($o.inputStarted(),j(e))}}function Y(e){if(!1!==n.enabled)switch(e.preventDefault(),e.stopPropagation(),o){case a.TOUCH_ROTATE:if(!1===n.enableRotate)return;F(e),n.update();break;case a.TOUCH_PAN:if(!1===n.enablePan)return;U(e),n.update();break;case a.TOUCH_DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;!function(e){n.enableZoom&&B(e),n.enablePan&&U(e)}(e),n.update();break;case a.TOUCH_DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;!function(e){n.enableZoom&&B(e),n.enableRotate&&F(e)}(e),n.update();break;default:o=a.NONE}}function Z(e){}function K(e){!1!==n.enabled&&($o.inputEnded(),function(e){var t=ts.getState().clock.getElapsedTime(),n=void 0===e.clientX,i=n?r.touches[0]:r,a=n?e.changedTouches[0]:e;1===r.touches.length&&Math.abs(i.pageX-a.pageX)<25&&Math.abs(i.pageY-a.pageY)<25&&t-r.time<.3&&z(r)}(e),o=a.NONE)}function Q(e){!1!==n.enabled&&e.preventDefault()}n.domElement.addEventListener("contextmenu",Q,!1),n.domElement.addEventListener("mousedown",H,!1),n.domElement.addEventListener("wheel",W,!1),n.domElement.addEventListener("touchstart",X,!1),n.domElement.addEventListener("touchend",K,!1),n.domElement.addEventListener("touchcancel",Z,!1),n.domElement.addEventListener("touchmove",Y,!1),n.domElement.addEventListener("keydown",q,!1),-1===n.domElement.tabIndex&&(n.domElement.tabIndex=0),this.update()};(ys.prototype=Object.create(ne.prototype)).constructor=ys;var bs=function(e,t){ys.call(this,e,t),this.screenSpacePanning=!1,this.mouseButtons.LEFT=b.PAN,this.mouseButtons.RIGHT=b.ROTATE,this.touches.ONE=x.PAN,this.touches.TWO=x.DOLLY_ROTATE};(bs.prototype=Object.create(ne.prototype)).constructor=bs;var xs=y.generateActions("configureCamera","configureElevationDatasource","configureImageryDatasource","setAppContainer","setCameraModeControlVisible","setCompassVisible","setDisplayErrors","setLayersControlVisible","setResourceUrl","setRotationControlVisible","setSeasonControlVisible","setUserLocationControlVisible","setZoomControlVisible");function ws(){this.clock=new Lo.Clock,this.lastInput=this.clock.getElapsedTime(),this.interacting=!1,this.bindListeners({onInput:[Qo.toggleTracking,$o.animateAlongFeature,$o.doubleTapZoom,$o.focusOnFeature,$o.focusOnLocation,$o.focusOnTarget,$o.inputStarted,$o.inputEnded,$o.rotateLeft,$o.rotateRight,$o.featureClicked,$o.setCurrentPlace,$o.startFlyover,$o.zoomIn,$o.zoomOut],inputStarted:$o.inputStarted,inputEnded:$o.inputEnded})}ws.prototype.onInput=function(){this.lastInput=this.clock.getElapsedTime()},ws.prototype.inputStarted=function(){this.interacting=!0},ws.prototype.inputEnded=function(){this.interacting=!1,this.onInput()},ws.displayName="UserInputStore";var _s=y.createStore(ws),Ts={cancelStack:[],transition:function(e,t,r,n){if(typeof t===typeof r){var i;if(n.lerp)i=n.lerp;else if(t instanceof Lo.Vector3)i=Ts.lerp.vector3;else{if(isNaN(t))return os("Error: no lerp function for object:"),void os(t);i=Ts.lerp.scalar}void 0===n&&(n={}),void 0===n.duration&&(n.duration=1),void 0===n.ease?n.ease=Ts.smootherstep:"function"===typeof Ts[n.ease]&&(n.ease=Ts[n.ease]);var a={startTime:null,options:n,step:function(){a.startTime||(a.startTime=(new Date).getTime());var o=.001*((new Date).getTime()-a.startTime)/n.duration;if(o>=1){o=1,Ko.unlisten(a.step);var s=Ts.cancelStack.indexOf(a.step);-1!==s&&Ts.cancelStack.splice(s,1)}var u=n.ease(o);e(i(t,r,u)),1===o&&"function"===typeof n.onComplete&&n.onComplete()}};n.doNotCancel||Ts.cancelStack.push(a),Ko.listen(a.step)}else os("Error: types do not match for transition:",typeof t,"!==",typeof r)},cubicOut:function(e){return Math.pow(e,3)},cubicIn:function(e){return 1-Math.pow(1-e,3)},linear:function(e){return e},smootherstep:function(e){return Lo.Math.smootherstep(e,0,1)},lerp:{scalar:function(e,t,r){return isNaN(e)?t:e+r*(t-e)},array:function(e,t,r){return e.map((function(e,n){return Ts.lerp.scalar(e,t[n],r)}))},vector3:function(e,t,r){return e.clone().lerp(t,r)},vector3Hop:function(e){return function(t,r,n){var i=Ts.lerp.vector3(t,r,n);return i.z+=e*(1-Math.pow(2*n-1,2)),i}},vector3AngularHop:function(e,t){var r=new Lo.Vector3,n=new Lo.Vector3,i=new Lo.Vector3(0,0,1);return function(a,o,s){var u=r.subVectors(a,e).z,l=n.subVectors(o,e).z;r.setZ(0),n.setZ(0);var c=r.length(),h=n.length(),f=Math.atan2(n.y,n.x)-Math.atan2(r.y,r.x);f>Math.PI&&(f-=2*Math.PI),f<-Math.PI&&(f+=2*Math.PI);var p=Ts.lerp.scalar(u,l,s),d=Ts.lerp.scalar(c,h,s);return r.applyAxisAngle(i,f*s).setLength(d).setZ(p),r.add(e),r.z+=t*(1-Math.pow(2*s-1,2)),r}},vector3Angular:function(e){return Ts.lerp.vector3AngularHop(e,0)},params:function(e,t,r){var n={};for(var i in t)if(t.hasOwnProperty(i)){if(void 0===e[i]){n[i]=t[i];continue}if("number"===typeof t[i])n[i]=(1-r)*e[i]+r*t[i];else if("string"===typeof t[i]){var a=new Lo.Color(e[i]),o=new Lo.Color(t[i]),s="#"+a.lerp(o,r).getHexString();n[i]=s}else n[i]=t[i]}return n}}};function Es(){this.tooFar=!0,this.tracking=!1,this.parameters=["latitude","longitude","altitude","accuracy","altitudeAccuracy","heading","speed"],this.latitude=null,this.longitude=null,this.altitude=0,this.accuracy=0,this.altitudeAccuracy=0,this.heading=0,this.speed=0,this.bindListeners({panToPosition:Qo.panToPosition,setPosition:Qo.setPosition,cancelTracking:[$o.doubleTapZoom,$o.setCamera],toggleTracking:Qo.toggleTracking})}_s.listen((function(){for(var e;e=Ts.cancelStack.pop();)"function"===typeof e.options.onCancel&&e.options.onCancel(),Ko.unlisten(e.step)})),Es.prototype.checkTooFar=function(){if(this.longitude&&this.latitude){var e=[this.longitude,this.latitude,0],t=Xo.project(e),r=1e5;this.tooFar=Math.abs(t.x)>r||Math.abs(t.y)>r}else this.tooFar=!0},Es.prototype.setPosition=function(e){var t=this;this.parameters.forEach((function(r){t[r]=e.coords[r]})),this.checkTooFar()},Es.prototype.panToPosition=function(e){if(!this.longitude||!this.latitude)return this.setPosition(e);if(null===e.longitude||null===e.latitude)return this.setPosition(e);var t={coords:{}},r=this;this.parameters.forEach((function(e){t.coords[e]=r[e]}));Ts.transition(Qo.setPosition,t,e,{duration:1,lerp:function(e,t,n){var i={coords:{}};return r.parameters.forEach((function(r){i.coords[r]=Ts.lerp.scalar(e.coords[r],t.coords[r],n)})),i}})},Es.prototype.cancelTracking=function(){this.tracking=!1},Es.prototype.toggleTracking=function(){this.tracking=!this.tracking},Es.displayName="CurrentLocationStore";var Ss=y.createStore(Es),Ms=m((function(e,t){e.exports=function(){function e(e,t){if(e[t])return e[t];for(var r,n=Object.keys(e),i=t.toLowerCase().replace(de,""),a=-1;++a<n.length;)if((r=n[a]).toLowerCase().replace(de,"")===i)return e[r]}function t(e){if("string"!=typeof e)throw new Error("not a string");this.text=e.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=ve}function r(e){return new t(e).output()}function n(e,t,r){Array.isArray(t)&&(r.unshift(t),t=null);var n=t?{}:e,a=r.reduce((function(e,t){return i(t,e),e}),n);t&&(e[t]=a)}function i(e,t){if(Array.isArray(e)){var r=e.shift();if("PARAMETER"===r&&(r=e.shift()),1===e.length)return Array.isArray(e[0])?(t[r]={},void i(e[0],t[r])):void(t[r]=e[0]);if(e.length)if("TOWGS84"!==r){if("AXIS"===r)return r in t||(t[r]=[]),void t[r].push(e);var a;switch(Array.isArray(r)||(t[r]={}),r){case"UNIT":case"PRIMEM":case"VERT_DATUM":return t[r]={name:e[0].toLowerCase(),convert:e[1]},void(3===e.length&&i(e[2],t[r]));case"SPHEROID":case"ELLIPSOID":return t[r]={name:e[0],a:e[1],rf:e[2]},void(4===e.length&&i(e[3],t[r]));case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":return e[0]=["name",e[0]],void n(t,r,e);default:for(a=-1;++a<e.length;)if(!Array.isArray(e[a]))return i(e,t[r]);return n(t,r,e)}}else t[r]=e;else t[r]=!0}else t[e]=!0}function a(e,t){var r=t[0],n=t[1];!(r in e)&&n in e&&(e[r]=e[n],3===t.length&&(e[r]=t[2](e[r])))}function o(e){return e*_e}function s(e){function t(t){return t*(e.to_meter||1)}if("GEOGCS"===e.type?e.projName="longlat":"LOCAL_CS"===e.type?(e.projName="identity",e.local=!0):"object"==typeof e.PROJECTION?e.projName=Object.keys(e.PROJECTION)[0]:e.projName=e.PROJECTION,e.AXIS){for(var r="",n=0,i=e.AXIS.length;n<i;++n){var s=e.AXIS[n][0].toLowerCase();-1!==s.indexOf("north")?r+="n":-1!==s.indexOf("south")?r+="s":-1!==s.indexOf("east")?r+="e":-1!==s.indexOf("west")&&(r+="w")}2===r.length&&(r+="u"),3===r.length&&(e.axis=r)}e.UNIT&&(e.units=e.UNIT.name.toLowerCase(),"metre"===e.units&&(e.units="meter"),e.UNIT.convert&&("GEOGCS"===e.type?e.DATUM&&e.DATUM.SPHEROID&&(e.to_meter=e.UNIT.convert*e.DATUM.SPHEROID.a):e.to_meter=e.UNIT.convert));var u=e.GEOGCS;"GEOGCS"===e.type&&(u=e),u&&(u.DATUM?e.datumCode=u.DATUM.name.toLowerCase():e.datumCode=u.name.toLowerCase(),"d_"===e.datumCode.slice(0,2)&&(e.datumCode=e.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==e.datumCode&&"new_zealand_1949"!==e.datumCode||(e.datumCode="nzgd49"),"wgs_1984"!==e.datumCode&&"world_geodetic_system_1984"!==e.datumCode||("Mercator_Auxiliary_Sphere"===e.PROJECTION&&(e.sphere=!0),e.datumCode="wgs84"),"_ferro"===e.datumCode.slice(-6)&&(e.datumCode=e.datumCode.slice(0,-6)),"_jakarta"===e.datumCode.slice(-8)&&(e.datumCode=e.datumCode.slice(0,-8)),~e.datumCode.indexOf("belge")&&(e.datumCode="rnb72"),u.DATUM&&u.DATUM.SPHEROID&&(e.ellps=u.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===e.ellps.toLowerCase().slice(0,13)&&(e.ellps="intl"),e.a=u.DATUM.SPHEROID.a,e.rf=parseFloat(u.DATUM.SPHEROID.rf,10)),u.DATUM&&u.DATUM.TOWGS84&&(e.datum_params=u.DATUM.TOWGS84),~e.datumCode.indexOf("osgb_1936")&&(e.datumCode="osgb36"),~e.datumCode.indexOf("osni_1952")&&(e.datumCode="osni52"),(~e.datumCode.indexOf("tm65")||~e.datumCode.indexOf("geodetic_datum_of_1965"))&&(e.datumCode="ire65"),"ch1903+"===e.datumCode&&(e.datumCode="ch1903"),~e.datumCode.indexOf("israel")&&(e.datumCode="isr93")),e.b&&!isFinite(e.b)&&(e.b=e.a),[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_2","Standard_Parallel_2"],["false_easting","False_Easting"],["false_northing","False_Northing"],["central_meridian","Central_Meridian"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",o],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",o],["x0","false_easting",t],["y0","false_northing",t],["long0","central_meridian",o],["lat0","latitude_of_origin",o],["lat0","standard_parallel_1",o],["lat1","standard_parallel_1",o],["lat2","standard_parallel_2",o],["azimuth","Azimuth"],["alpha","azimuth",o],["srsCode","name"]].forEach((function(t){return a(e,t)})),e.long0||!e.longc||"Albers_Conic_Equal_Area"!==e.projName&&"Lambert_Azimuthal_Equal_Area"!==e.projName||(e.long0=e.longc),e.lat_ts||!e.lat1||"Stereographic_South_Pole"!==e.projName&&"Polar Stereographic (variant B)"!==e.projName||(e.lat0=o(e.lat1>0?90:-90),e.lat_ts=e.lat1)}function u(e){var t=this;if(2===arguments.length){var r=arguments[1];"string"==typeof r?"+"===r.charAt(0)?u[e]=me(arguments[1]):u[e]=Te(arguments[1]):u[e]=r}else if(1===arguments.length){if(Array.isArray(e))return e.map((function(e){Array.isArray(e)?u.apply(t,e):u(e)}));if("string"==typeof e){if(e in u)return u[e]}else"EPSG"in e?u["EPSG:"+e.EPSG]=e:"ESRI"in e?u["ESRI:"+e.ESRI]=e:"IAU2000"in e?u["IAU2000:"+e.IAU2000]=e:console.log(e);return}}function l(e){return"string"==typeof e}function c(e){return e in u}function h(e){return Ee.some((function(t){return e.indexOf(t)>-1}))}function f(t){var r=e(t,"authority");if(r){var n=e(r,"epsg");return n&&Se.indexOf(n)>-1}}function p(t){var r=e(t,"extension");if(r)return e(r,"proj4")}function d(e){return"+"===e[0]}function m(e){if(!l(e))return e;if(c(e))return u[e];if(h(e)){var t=Te(e);if(f(t))return u["EPSG:3857"];var r=p(t);return r?me(r):t}return d(e)?me(e):void 0}function v(e){return e}function g(e,t){var r=ze.length;return e.names?(ze[r]=e,e.names.forEach((function(e){Le[e.toLowerCase()]=r})),this):(console.log(t),!0)}function y(e,t,r,n){var i=e*e,a=t*t,o=(i-a)/i,s=0;return n?(i=(e*=1-o*(ie+o*(ae+o*oe)))*e,o=0):s=Math.sqrt(o),{es:o,e:s,ep2:(i-a)/a}}function b(t,r,n,i,a){if(!t){var o=e(Ne,i);o||(o=Ie),t=o.a,r=o.b,n=o.rf}return n&&!r&&(r=(1-1/n)*t),(0===n||Math.abs(t-r)<se)&&(a=!0,r=t),{a:t,b:r,rf:n,sphere:a}}function x(e,t,r,n,i,a){var o={};return o.datum_type=void 0===e||"none"===e?te:ee,t&&(o.datum_params=t.map(parseFloat),0===o.datum_params[0]&&0===o.datum_params[1]&&0===o.datum_params[2]||(o.datum_type=J),o.datum_params.length>3&&(0===o.datum_params[3]&&0===o.datum_params[4]&&0===o.datum_params[5]&&0===o.datum_params[6]||(o.datum_type=$,o.datum_params[3]*=re,o.datum_params[4]*=re,o.datum_params[5]*=re,o.datum_params[6]=o.datum_params[6]/1e6+1))),o.a=r,o.b=n,o.es=i,o.ep2=a,o}function w(t,r){if(!(this instanceof w))return new w(t);r=r||function(e){if(e)throw e};var n=m(t);if("object"==typeof n){var i=w.projections.get(n.projName);if(i){if(n.datumCode&&"none"!==n.datumCode){var a=e(Fe,n.datumCode);a&&(n.datum_params=a.towgs84?a.towgs84.split(","):null,n.ellps=a.ellipse,n.datumName=a.datumName?a.datumName:n.datumCode)}n.k0=n.k0||1,n.axis=n.axis||"enu",n.ellps=n.ellps||"wgs84";var o=b(n.a,n.b,n.rf,n.ellps,n.sphere),s=y(o.a,o.b,o.rf,n.R_A),u=n.datum||x(n.datumCode,n.datum_params,o.a,o.b,s.es,s.ep2);Me(this,n),Me(this,i),this.a=o.a,this.b=o.b,this.rf=o.rf,this.sphere=o.sphere,this.es=s.es,this.e=s.e,this.ep2=s.ep2,this.datum=u,this.init(),r(null,this)}else r(t)}else r(t)}function _(e,t){return e.datum_type===t.datum_type&&!(e.a!==t.a||Math.abs(e.es-t.es)>5e-11)&&(e.datum_type===J?e.datum_params[0]===t.datum_params[0]&&e.datum_params[1]===t.datum_params[1]&&e.datum_params[2]===t.datum_params[2]:e.datum_type!==$||e.datum_params[0]===t.datum_params[0]&&e.datum_params[1]===t.datum_params[1]&&e.datum_params[2]===t.datum_params[2]&&e.datum_params[3]===t.datum_params[3]&&e.datum_params[4]===t.datum_params[4]&&e.datum_params[5]===t.datum_params[5]&&e.datum_params[6]===t.datum_params[6])}function T(e,t,r){var n,i,a,o,s=e.x,u=e.y,l=e.z?e.z:0;if(u<-ne&&u>-1.001*ne)u=-ne;else if(u>ne&&u<1.001*ne)u=ne;else{if(u<-ne)return{x:-1/0,y:-1/0,z:e.z};if(u>ne)return{x:1/0,y:1/0,z:e.z}}return s>Math.PI&&(s-=2*Math.PI),i=Math.sin(u),o=Math.cos(u),a=i*i,{x:((n=r/Math.sqrt(1-t*a))+l)*o*Math.cos(s),y:(n+l)*o*Math.sin(s),z:(n*(1-t)+l)*i}}function E(e,t,r,n){var i,a,o,s,u,l,c,h,f,p,d,m,v,g,y,b=e.x,x=e.y,w=e.z?e.z:0;if(i=Math.sqrt(b*b+x*x),a=Math.sqrt(b*b+x*x+w*w),i/r<1e-12){if(g=0,a/r<1e-12)return y=-n,{x:e.x,y:e.y,z:e.z}}else g=Math.atan2(x,b);o=w/a,h=(s=i/a)*(1-t)*(u=1/Math.sqrt(1-t*(2-t)*s*s)),f=o*u,v=0;do{v++,l=t*(c=r/Math.sqrt(1-t*f*f))/(c+(y=i*h+w*f-c*(1-t*f*f))),m=(d=o*(u=1/Math.sqrt(1-l*(2-l)*s*s)))*h-(p=s*(1-l)*u)*f,h=p,f=d}while(m*m>1e-24&&v<30);return{x:g,y:Math.atan(d/Math.abs(p)),z:y}}function S(e,t,r){if(t===J)return{x:e.x+r[0],y:e.y+r[1],z:e.z+r[2]};if(t===$){var n=r[0],i=r[1],a=r[2],o=r[3],s=r[4],u=r[5],l=r[6];return{x:l*(e.x-u*e.y+s*e.z)+n,y:l*(u*e.x+e.y-o*e.z)+i,z:l*(-s*e.x+o*e.y+e.z)+a}}}function M(e,t,r){if(t===J)return{x:e.x-r[0],y:e.y-r[1],z:e.z-r[2]};if(t===$){var n=r[0],i=r[1],a=r[2],o=r[3],s=r[4],u=r[5],l=r[6],c=(e.x-n)/l,h=(e.y-i)/l,f=(e.z-a)/l;return{x:c+u*h-s*f,y:-u*c+h+o*f,z:s*c-o*h+f}}}function A(e){return e===J||e===$}function C(e){if("function"==typeof Number.isFinite){if(Number.isFinite(e))return;throw new TypeError("coordinates must be finite numbers")}if("number"!=typeof e||e!==e||!isFinite(e))throw new TypeError("coordinates must be finite numbers")}function R(e,t){return(e.datum.datum_type===J||e.datum.datum_type===$)&&"WGS84"!==t.datumCode||(t.datum.datum_type===J||t.datum.datum_type===$)&&"WGS84"!==e.datumCode}function O(e,t,r){var n;return Array.isArray(r)&&(r=je(r)),He(r),e.datum&&t.datum&&R(e,t)&&(r=O(e,n=new w("WGS84"),r),e=n),"enu"!==e.axis&&(r=Be(e,!1,r)),"longlat"===e.projName?r={x:r.x*ue,y:r.y*ue,z:r.z||0}:(e.to_meter&&(r={x:r.x*e.to_meter,y:r.y*e.to_meter,z:r.z||0}),r=e.inverse(r)),e.from_greenwich&&(r.x+=e.from_greenwich),r=Ue(e.datum,t.datum,r),t.from_greenwich&&(r={x:r.x-t.from_greenwich,y:r.y,z:r.z||0}),"longlat"===t.projName?r={x:r.x*le,y:r.y*le,z:r.z||0}:(r=t.forward(r),t.to_meter&&(r={x:r.x/t.to_meter,y:r.y/t.to_meter,z:r.z||0})),"enu"!==t.axis?Be(t,!0,r):r}function k(e,t,r){var n,i,a;return Array.isArray(r)?(n=O(e,t,r)||{x:NaN,y:NaN},r.length>2?void 0!==e.name&&"geocent"===e.name||void 0!==t.name&&"geocent"===t.name?"number"==typeof n.z?[n.x,n.y,n.z].concat(r.splice(3)):[n.x,n.y,r[2]].concat(r.splice(3)):[n.x,n.y].concat(r.splice(2)):[n.x,n.y]):(i=O(e,t,r),2===(a=Object.keys(r)).length||a.forEach((function(n){if(void 0!==e.name&&"geocent"===e.name||void 0!==t.name&&"geocent"===t.name){if("x"===n||"y"===n||"z"===n)return}else if("x"===n||"y"===n)return;i[n]=r[n]})),i)}function P(e){return e instanceof w?e:e.oProj?e.oProj:w(e)}function L(e,t,r){e=P(e);var n,i=!1;return void 0===t?(t=e,e=Ve,i=!0):(void 0!==t.x||Array.isArray(t))&&(r=t,t=e,e=Ve,i=!0),t=P(t),r?k(e,t,r):(n={forward:function(r){return k(e,t,r)},inverse:function(r){return k(t,e,r)}},i&&(n.oProj=t),n)}function z(e,t){return t=t||5,j(F({lat:e[1],lon:e[0]}),t)}function D(e){var t=U(W(e.toUpperCase()));return t.lat&&t.lon?[t.lon,t.lat]:[(t.left+t.right)/2,(t.top+t.bottom)/2]}function N(e){return e*(Math.PI/180)}function I(e){return e/Math.PI*180}function F(e){var t,r,n,i,a,o,s=e.lat,u=e.lon,l=6378137,c=N(s),h=N(u);o=Math.floor((u+180)/6)+1,180===u&&(o=60),s>=56&&s<64&&u>=3&&u<12&&(o=32),s>=72&&s<84&&(u>=0&&u<9?o=31:u>=9&&u<21?o=33:u>=21&&u<33?o=35:u>=33&&u<42&&(o=37)),a=N(6*(o-1)-180+3),t=l/Math.sqrt(1-.00669438*Math.sin(c)*Math.sin(c)),r=Math.tan(c)*Math.tan(c),n=.006739496752268451*Math.cos(c)*Math.cos(c);var f=.9996*t*((i=Math.cos(c)*(h-a))+(1-r+n)*i*i*i/6+(5-18*r+r*r+72*n-.39089081163157013)*i*i*i*i*i/120)+5e5,p=.9996*(l*(.9983242984503243*c-.002514607064228144*Math.sin(2*c)+2639046602129982e-21*Math.sin(4*c)-3.418046101696858e-9*Math.sin(6*c))+t*Math.tan(c)*(i*i/2+(5-r+9*n+4*n*n)*i*i*i*i/24+(61-58*r+r*r+600*n-2.2240339282485886)*i*i*i*i*i*i/720));return s<0&&(p+=1e7),{northing:Math.round(p),easting:Math.round(f),zoneNumber:o,zoneLetter:B(s)}}function U(e){var t=e.northing,r=e.easting,n=e.zoneLetter,i=e.zoneNumber;if(i<0||i>60)return null;var a,o,s,u,l,c,h,f,p=6378137,d=(1-Math.sqrt(.99330562))/(1+Math.sqrt(.99330562)),m=r-5e5,v=t;n<"N"&&(v-=1e7),c=6*(i-1)-180+3,f=(h=v/.9996/6367449.145945056)+(3*d/2-27*d*d*d/32)*Math.sin(2*h)+(21*d*d/16-55*d*d*d*d/32)*Math.sin(4*h)+151*d*d*d/96*Math.sin(6*h),a=p/Math.sqrt(1-.00669438*Math.sin(f)*Math.sin(f)),o=Math.tan(f)*Math.tan(f),s=.006739496752268451*Math.cos(f)*Math.cos(f),u=.99330562*p/Math.pow(1-.00669438*Math.sin(f)*Math.sin(f),1.5),l=m/(.9996*a);var g=f-a*Math.tan(f)/u*(l*l/2-(5+3*o+10*s-4*s*s-.06065547077041606)*l*l*l*l/24+(61+90*o+298*s+45*o*o-1.6983531815716497-3*s*s)*l*l*l*l*l*l/720);g=I(g);var y,b=(l-(1+2*o+s)*l*l*l/6+(5-2*s+28*o-3*s*s+.05391597401814761+24*o*o)*l*l*l*l*l/120)/Math.cos(f);if(b=c+I(b),e.accuracy){var x=U({northing:e.northing+e.accuracy,easting:e.easting+e.accuracy,zoneLetter:e.zoneLetter,zoneNumber:e.zoneNumber});y={top:x.lat,right:x.lon,bottom:g,left:b}}else y={lat:g,lon:b};return y}function B(e){var t="Z";return 84>=e&&e>=72?t="X":72>e&&e>=64?t="W":64>e&&e>=56?t="V":56>e&&e>=48?t="U":48>e&&e>=40?t="T":40>e&&e>=32?t="S":32>e&&e>=24?t="R":24>e&&e>=16?t="Q":16>e&&e>=8?t="P":8>e&&e>=0?t="N":0>e&&e>=-8?t="M":-8>e&&e>=-16?t="L":-16>e&&e>=-24?t="K":-24>e&&e>=-32?t="J":-32>e&&e>=-40?t="H":-40>e&&e>=-48?t="G":-48>e&&e>=-56?t="F":-56>e&&e>=-64?t="E":-64>e&&e>=-72?t="D":-72>e&&e>=-80&&(t="C"),t}function j(e,t){var r="00000"+e.easting,n="00000"+e.northing;return e.zoneNumber+e.zoneLetter+H(e.easting,e.northing,e.zoneNumber)+r.substr(r.length-5,t)+n.substr(n.length-5,t)}function H(e,t,r){var n=V(r);return G(Math.floor(e/1e5),Math.floor(t/1e5)%20,n)}function V(e){var t=e%Ge;return 0===t&&(t=Ge),t}function G(e,t,r){var n=r-1,i=We.charCodeAt(n),a=qe.charCodeAt(n),o=i+e-1,s=a+t,u=!1;return o>Qe&&(o=o-Qe+Xe-1,u=!0),(o===Ye||i<Ye&&o>Ye||(o>Ye||i<Ye)&&u)&&o++,(o===Ze||i<Ze&&o>Ze||(o>Ze||i<Ze)&&u)&&++o===Ye&&o++,o>Qe&&(o=o-Qe+Xe-1),s>Ke?(s=s-Ke+Xe-1,u=!0):u=!1,(s===Ye||a<Ye&&s>Ye||(s>Ye||a<Ye)&&u)&&s++,(s===Ze||a<Ze&&s>Ze||(s>Ze||a<Ze)&&u)&&++s===Ye&&s++,s>Ke&&(s=s-Ke+Xe-1),String.fromCharCode(o)+String.fromCharCode(s)}function W(e){if(e&&0===e.length)throw"MGRSPoint coverting from nothing";for(var t,r=e.length,n=null,i="",a=0;!/[A-Z]/.test(t=e.charAt(a));){if(a>=2)throw"MGRSPoint bad conversion from: "+e;i+=t,a++}var o=parseInt(i,10);if(0===a||a+3>r)throw"MGRSPoint bad conversion from: "+e;var s=e.charAt(a++);if(s<="A"||"B"===s||"Y"===s||s>="Z"||"I"===s||"O"===s)throw"MGRSPoint zone letter "+s+" not handled: "+e;n=e.substring(a,a+=2);for(var u=V(o),l=q(n.charAt(0),u),c=X(n.charAt(1),u);c<Y(s);)c+=2e6;var h=r-a;if(h%2!=0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+e;var f,p,d,m=h/2,v=0,g=0;return m>0&&(f=1e5/Math.pow(10,m),p=e.substring(a,a+m),v=parseFloat(p)*f,d=e.substring(a+m),g=parseFloat(d)*f),{easting:v+l,northing:g+c,zoneLetter:s,zoneNumber:o,accuracy:f}}function q(e,t){for(var r=We.charCodeAt(t-1),n=1e5,i=!1;r!==e.charCodeAt(0);){if(++r===Ye&&r++,r===Ze&&r++,r>Qe){if(i)throw"Bad character: "+e;r=Xe,i=!0}n+=1e5}return n}function X(e,t){if(e>"V")throw"MGRSPoint given invalid Northing "+e;for(var r=qe.charCodeAt(t-1),n=0,i=!1;r!==e.charCodeAt(0);){if(++r===Ye&&r++,r===Ze&&r++,r>Ke){if(i)throw"Bad character: "+e;r=Xe,i=!0}n+=1e5}return n}function Y(e){var t;switch(e){case"C":t=11e5;break;case"D":t=2e6;break;case"E":t=28e5;break;case"F":t=37e5;break;case"G":t=46e5;break;case"H":t=55e5;break;case"J":t=64e5;break;case"K":t=73e5;break;case"L":t=82e5;break;case"M":t=91e5;break;case"N":t=0;break;case"P":t=8e5;break;case"Q":t=17e5;break;case"R":t=26e5;break;case"S":t=35e5;break;case"T":t=44e5;break;case"U":t=53e5;break;case"V":t=62e5;break;case"W":t=7e6;break;case"X":t=79e5;break;default:t=-1}if(t>=0)return t;throw"Invalid zone letter: "+e}function Z(e,t,r){if(!(this instanceof Z))return new Z(e,t,r);if(Array.isArray(e))this.x=e[0],this.y=e[1],this.z=e[2]||0;else if("object"==typeof e)this.x=e.x,this.y=e.y,this.z=e.z||0;else if("string"==typeof e&&void 0===t){var n=e.split(",");this.x=parseFloat(n[0],10),this.y=parseFloat(n[1],10),this.z=parseFloat(n[2],10)||0}else this.x=e,this.y=t,this.z=r||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}function K(e){var t,r=[];return r[0]=e*et,t=e*e,r[0]+=t*tt,r[1]=t*nt,t*=e,r[0]+=t*rt,r[1]+=t*it,r[2]=t*at,r}function Q(e,t){var r=e+e;return e+t[0]*Math.sin(r)+t[1]*Math.sin(r+r)+t[2]*Math.sin(r+r+r)}var J=1,$=2,ee=4,te=5,re=484813681109536e-20,ne=Math.PI/2,ie=.16666666666666666,ae=.04722222222222222,oe=.022156084656084655,se=1e-10,ue=.017453292519943295,le=57.29577951308232,ce=Math.PI/4,he=2*Math.PI,fe={greenwich:0,lisbon:-9.131906111111,paris:2.337229166667,bogota:-74.080916666667,madrid:-3.687938888889,rome:12.452333333333,bern:7.439583333333,jakarta:106.807719444444,ferro:-17.666666666667,brussels:4.367975,stockholm:18.058277777778,athens:23.7163375,oslo:10.722916666667},pe={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}},de=/[\s_\-\/\(\)]/g,me=function(t){var r,n,i,a={},o=t.split("+").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,t){var r=t.split("=");return r.push(!0),e[r[0].toLowerCase()]=r[1],e}),{}),s={proj:"projName",datum:"datumCode",rf:function(e){a.rf=parseFloat(e)},lat_0:function(e){a.lat0=e*ue},lat_1:function(e){a.lat1=e*ue},lat_2:function(e){a.lat2=e*ue},lat_ts:function(e){a.lat_ts=e*ue},lon_0:function(e){a.long0=e*ue},lon_1:function(e){a.long1=e*ue},lon_2:function(e){a.long2=e*ue},alpha:function(e){a.alpha=parseFloat(e)*ue},lonc:function(e){a.longc=e*ue},x_0:function(e){a.x0=parseFloat(e)},y_0:function(e){a.y0=parseFloat(e)},k_0:function(e){a.k0=parseFloat(e)},k:function(e){a.k0=parseFloat(e)},a:function(e){a.a=parseFloat(e)},b:function(e){a.b=parseFloat(e)},r_a:function(){a.R_A=!0},zone:function(e){a.zone=parseInt(e,10)},south:function(){a.utmSouth=!0},towgs84:function(e){a.datum_params=e.split(",").map((function(e){return parseFloat(e)}))},to_meter:function(e){a.to_meter=parseFloat(e)},units:function(t){a.units=t;var r=e(pe,t);r&&(a.to_meter=r.to_meter)},from_greenwich:function(e){a.from_greenwich=e*ue},pm:function(t){var r=e(fe,t);a.from_greenwich=(r||parseFloat(t))*ue},nadgrids:function(e){"@null"===e?a.datumCode="none":a.nadgrids=e},axis:function(e){3===e.length&&-1!=="ewnsud".indexOf(e.substr(0,1))&&-1!=="ewnsud".indexOf(e.substr(1,1))&&-1!=="ewnsud".indexOf(e.substr(2,1))&&(a.axis=e)}};for(r in o)n=o[r],r in s?"function"==typeof(i=s[r])?i(n):a[i]=n:a[r]=n;return"string"==typeof a.datumCode&&"WGS84"!==a.datumCode&&(a.datumCode=a.datumCode.toLowerCase()),a},ve=1,ge=/\s/,ye=/[A-Za-z]/,be=/[A-Za-z84]/,xe=/[,\]]/,we=/[\d\.E\-\+]/;t.prototype.readCharicter=function(){var e=this.text[this.place++];if(4!==this.state)for(;ge.test(e);){if(this.place>=this.text.length)return;e=this.text[this.place++]}switch(this.state){case ve:return this.neutral(e);case 2:return this.keyword(e);case 4:return this.quoted(e);case 5:return this.afterquote(e);case 3:return this.number(e);case-1:return}},t.prototype.afterquote=function(e){if('"'===e)return this.word+='"',void(this.state=4);if(xe.test(e))return this.word=this.word.trim(),void this.afterItem(e);throw new Error("havn't handled \""+e+'" in afterquote yet, index '+this.place)},t.prototype.afterItem=function(e){return","===e?(null!==this.word&&this.currentObject.push(this.word),this.word=null,void(this.state=ve)):"]"===e?(this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=ve,this.currentObject=this.stack.pop(),void(this.currentObject||(this.state=-1))):void 0},t.prototype.number=function(e){if(!we.test(e)){if(xe.test(e))return this.word=parseFloat(this.word),void this.afterItem(e);throw new Error("havn't handled \""+e+'" in number yet, index '+this.place)}this.word+=e},t.prototype.quoted=function(e){'"'!==e?this.word+=e:this.state=5},t.prototype.keyword=function(e){if(be.test(e))this.word+=e;else{if("["===e){var t=[];return t.push(this.word),this.level++,null===this.root?this.root=t:this.currentObject.push(t),this.stack.push(this.currentObject),this.currentObject=t,void(this.state=ve)}if(!xe.test(e))throw new Error("havn't handled \""+e+'" in keyword yet, index '+this.place);this.afterItem(e)}},t.prototype.neutral=function(e){if(ye.test(e))return this.word=e,void(this.state=2);if('"'===e)return this.word="",void(this.state=4);if(we.test(e))return this.word=e,void(this.state=3);if(!xe.test(e))throw new Error("havn't handled \""+e+'" in neutral yet, index '+this.place);this.afterItem(e)},t.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(-1===this.state)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};var _e=.017453292519943295,Te=function(e){var t=r(e),n=t.shift(),a=t.shift();t.unshift(["name",a]),t.unshift(["type",n]);var o={};return i(t,o),s(o),o};!function(e){e("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),e("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),e("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),e.WGS84=e["EPSG:4326"],e["EPSG:3785"]=e["EPSG:3857"],e.GOOGLE=e["EPSG:3857"],e["EPSG:900913"]=e["EPSG:3857"],e["EPSG:102113"]=e["EPSG:3857"]}(u);var Ee=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"],Se=["3857","900913","3785","102113"],Me=function(e,t){var r,n;if(e=e||{},!t)return e;for(n in t)void 0!==(r=t[n])&&(e[n]=r);return e},Ae=function(e,t,r){var n=e*t;return r/Math.sqrt(1-n*n)},Ce=function(e){return e<0?-1:1},Re=function(e){return Math.abs(e)<=3.14159265359?e:e-Ce(e)*he},Oe=function(e,t,r){var n=e*r,i=.5*e;return n=Math.pow((1-n)/(1+n),i),Math.tan(.5*(ne-t))/n},ke=function(e,t){for(var r,n,i=.5*e,a=ne-2*Math.atan(t),o=0;o<=15;o++)if(r=e*Math.sin(a),a+=n=ne-2*Math.atan(t*Math.pow((1-r)/(1+r),i))-a,Math.abs(n)<=1e-10)return a;return-9999},Pe=[{init:function(){var e=this.b/this.a;this.es=1-e*e,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=Ae(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)},forward:function(e){var t,r,n=e.x,i=e.y;if(i*le>90&&i*le<-90&&n*le>180&&n*le<-180)return null;if(Math.abs(Math.abs(i)-ne)<=se)return null;if(this.sphere)t=this.x0+this.a*this.k0*Re(n-this.long0),r=this.y0+this.a*this.k0*Math.log(Math.tan(ce+.5*i));else{var a=Math.sin(i),o=Oe(this.e,i,a);t=this.x0+this.a*this.k0*Re(n-this.long0),r=this.y0-this.a*this.k0*Math.log(o)}return e.x=t,e.y=r,e},inverse:function(e){var t,r,n=e.x-this.x0,i=e.y-this.y0;if(this.sphere)r=ne-2*Math.atan(Math.exp(-i/(this.a*this.k0)));else{var a=Math.exp(-i/(this.a*this.k0));if(-9999===(r=ke(this.e,a)))return null}return t=Re(this.long0+n/(this.a*this.k0)),e.x=t,e.y=r,e},names:["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]},{init:function(){},forward:v,inverse:v,names:["longlat","identity"]}],Le={},ze=[],De={start:function(){Pe.forEach(g)},add:g,get:function(e){if(!e)return!1;var t=e.toLowerCase();return void 0!==Le[t]&&ze[Le[t]]?ze[Le[t]]:void 0}},Ne={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},andrae:{a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},clrk80:{a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk58:{a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:6355834.8467,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"}},Ie=Ne.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};Ne.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};var Fe={wgs84:{towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},ch1903:{towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},ggrs87:{towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},nad83:{towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},nad27:{nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},potsdam:{towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},carthage:{towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},hermannskogel:{towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"},osni52:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},ire65:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},rassadiran:{towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},nzgd49:{towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},osgb36:{towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},s_jtsk:{towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},beduaram:{towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},gunung_segara:{towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},rnb72:{towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"}};w.projections=De,w.projections.start();var Ue=function(e,t,r){return _(e,t)||e.datum_type===te||t.datum_type===te?r:e.es!==t.es||e.a!==t.a||A(e.datum_type)||A(t.datum_type)?(r=T(r,e.es,e.a),A(e.datum_type)&&(r=S(r,e.datum_type,e.datum_params)),A(t.datum_type)&&(r=M(r,t.datum_type,t.datum_params)),E(r,t.es,t.a,t.b)):r},Be=function(e,t,r){var n,i,a,o=r.x,s=r.y,u=r.z||0,l={};for(a=0;a<3;a++)if(!t||2!==a||void 0!==r.z)switch(0===a?(n=o,i=-1!=="ew".indexOf(e.axis[a])?"x":"y"):1===a?(n=s,i=-1!=="ns".indexOf(e.axis[a])?"y":"x"):(n=u,i="z"),e.axis[a]){case"e":case"w":case"n":case"s":l[i]=n;break;case"u":void 0!==r[i]&&(l.z=n);break;case"d":void 0!==r[i]&&(l.z=-n);break;default:return null}return l},je=function(e){var t={x:e[0],y:e[1]};return e.length>2&&(t.z=e[2]),e.length>3&&(t.m=e[3]),t},He=function(e){C(e.x),C(e.y)},Ve=w("WGS84"),Ge=6,We="AJSAJS",qe="AFAFAF",Xe=65,Ye=73,Ze=79,Ke=86,Qe=90,Je={forward:z,inverse:function(e){var t=U(W(e.toUpperCase()));return t.lat&&t.lon?[t.lon,t.lat,t.lon,t.lat]:[t.left,t.bottom,t.right,t.top]},toPoint:D};Z.fromMGRS=function(e){return new Z(D(e))},Z.prototype.toMGRS=function(e){return z([this.x,this.y],e)};var $e=function(e,t){var r;return e>1e-7?(1-e*e)*(t/(1-(r=e*t)*r)-.5/e*Math.log((1-r)/(1+r))):2*t},et=.3333333333333333,tt=.17222222222222222,rt=.10257936507936508,nt=.06388888888888888,it=.0664021164021164,at=.016415012942191543,ot={init:function(){var e,t=Math.abs(this.lat0);if(Math.abs(t-ne)<se?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(t)<se?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0)switch(this.qp=$e(this.e,1),this.mmf=.5/(1-this.es),this.apa=K(this.es),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),e=Math.sin(this.lat0),this.sinb1=$e(this.e,e)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*e*e)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},forward:function(e){var t,r,n,i,a,o,s,u,l,c,h=e.x,f=e.y;if(h=Re(h-this.long0),this.sphere){if(a=Math.sin(f),c=Math.cos(f),n=Math.cos(h),this.mode===this.OBLIQ||this.mode===this.EQUIT){if((r=this.mode===this.EQUIT?1+c*n:1+this.sinph0*a+this.cosph0*c*n)<=se)return null;t=(r=Math.sqrt(2/r))*c*Math.sin(h),r*=this.mode===this.EQUIT?a:this.cosph0*a-this.sinph0*c*n}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(n=-n),Math.abs(f+this.phi0)<se)return null;r=ce-.5*f,t=(r=2*(this.mode===this.S_POLE?Math.cos(r):Math.sin(r)))*Math.sin(h),r*=n}}else{switch(s=0,u=0,l=0,n=Math.cos(h),i=Math.sin(h),a=Math.sin(f),o=$e(this.e,a),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(s=o/this.qp,u=Math.sqrt(1-s*s)),this.mode){case this.OBLIQ:l=1+this.sinb1*s+this.cosb1*u*n;break;case this.EQUIT:l=1+u*n;break;case this.N_POLE:l=ne+f,o=this.qp-o;break;case this.S_POLE:l=f-ne,o=this.qp+o}if(Math.abs(l)<se)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:l=Math.sqrt(2/l),r=this.mode===this.OBLIQ?this.ymf*l*(this.cosb1*s-this.sinb1*u*n):(l=Math.sqrt(2/(1+u*n)))*s*this.ymf,t=this.xmf*l*u*i;break;case this.N_POLE:case this.S_POLE:o>=0?(t=(l=Math.sqrt(o))*i,r=n*(this.mode===this.S_POLE?l:-l)):t=r=0}}return e.x=this.a*t+this.x0,e.y=this.a*r+this.y0,e},inverse:function(e){e.x-=this.x0,e.y-=this.y0;var t,r,n,i,a,o,s,u=e.x/this.a,l=e.y/this.a;if(this.sphere){var c,h=0,f=0;if((r=.5*(c=Math.sqrt(u*u+l*l)))>1)return null;switch(r=2*Math.asin(r),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(f=Math.sin(r),h=Math.cos(r)),this.mode){case this.EQUIT:r=Math.abs(c)<=se?0:Math.asin(l*f/c),u*=f,l=h*c;break;case this.OBLIQ:r=Math.abs(c)<=se?this.phi0:Math.asin(h*this.sinph0+l*f*this.cosph0/c),u*=f*this.cosph0,l=(h-Math.sin(r)*this.sinph0)*c;break;case this.N_POLE:l=-l,r=ne-r;break;case this.S_POLE:r-=ne}t=0!==l||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(u,l):0}else{if(s=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(u/=this.dd,l*=this.dd,(o=Math.sqrt(u*u+l*l))<se)return e.x=0,e.y=this.phi0,e;i=2*Math.asin(.5*o/this.rq),n=Math.cos(i),u*=i=Math.sin(i),this.mode===this.OBLIQ?(s=n*this.sinb1+l*i*this.cosb1/o,a=this.qp*s,l=o*this.cosb1*n-l*this.sinb1*i):(s=l*i/o,a=this.qp*s,l=o*n)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(l=-l),!(a=u*u+l*l))return e.x=0,e.y=this.phi0,e;s=1-a/this.qp,this.mode===this.S_POLE&&(s=-s)}t=Math.atan2(u,l),r=Q(Math.asin(s),this.apa)}return e.x=Re(this.long0+t),e.y=r,e},names:["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],S_POLE:1,N_POLE:2,EQUIT:3,OBLIQ:4},st=function(e){return Math.abs(e)>1&&(e=e>1?1:-1),Math.asin(e)},ut={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)},forward:function(e){var t,r,n,i,a,o,s,u=e.x,l=e.y;return n=Re(u-this.long0),t=Math.sin(l),r=Math.cos(l),i=Math.cos(n),((a=this.sin_p14*t+this.cos_p14*r*i)>0||Math.abs(a)<=se)&&(o=1*this.a*r*Math.sin(n),s=this.y0+1*this.a*(this.cos_p14*t-this.sin_p14*r*i)),e.x=o,e.y=s,e},inverse:function(e){var t,r,n,i,a,o,s;return e.x-=this.x0,e.y-=this.y0,t=Math.sqrt(e.x*e.x+e.y*e.y),r=st(t/this.a),n=Math.sin(r),i=Math.cos(r),o=this.long0,Math.abs(t)<=se?(s=this.lat0,e.x=o,e.y=s,e):(s=st(i*this.sin_p14+e.y*n*this.cos_p14/t),a=Math.abs(this.lat0)-ne,Math.abs(a)<=se?(o=Re(this.lat0>=0?this.long0+Math.atan2(e.x,-e.y):this.long0-Math.atan2(-e.x,e.y)),e.x=o,e.y=s,e):(o=Re(this.long0+Math.atan2(e.x*n,t*this.cos_p14*i-e.y*this.sin_p14*n)),e.x=o,e.y=s,e))},names:["ortho"]};return L.defaultDatum="WGS84",L.Proj=w,L.WGS84=new L.Proj("WGS84"),L.Point=Z,L.toPoint=je,L.defs=u,L.transform=O,L.mgrs=Je,L.version="2.6.2-alpha",function(e){e.Proj.projections.add(ot),e.Proj.projections.add(ut)}(L),L}()})),As=.05,Cs={snap:function(e){return Math.round(e/As)*As},datafileForLocation:function(e,t){e=Cs.snap(e);var r=(t=Cs.snap(t))>0?"N":"S",n=e>0?"E":"W";e=Math.abs(e),t=Math.abs(t);var i=As.toPrecision().split(".")[1];return i=i?i.length:0,e=e.toFixed(i),r+(t=t.toFixed(i))+n+e}};function Rs(){this.projection=null,this.location=null,this.globalOffset=new Lo.Vector2,this.sceneScale=1,this.bindListeners({setCurrentPlace:$o.setCurrentPlace}),this.exportPublicMethods({positionToTileFraction:this.positionToTileFraction.bind(this)})}Ms.defs([["EPSG:3035","+proj=laea +lat_0=52 +lon_0=10 +x_0=4321000 +y_0=3210000 +ellps=GRS80 +units=m +no_defs"]]),Rs.prototype.setCurrentPlace=function(e){this.location=[e.longitude,e.latitude],this.projection="EPSG:3857";var t=Cs.snap(this.location[0]),r=Cs.snap(this.location[1]);Xo.projector=Ms(this.projection),Xo.center=Xo.project([t,r],!0),Xo.projector3035=Ms("EPSG:3035");var n=Xo.projector3035.forward([t,r]);Xo.center3035={x:n[0],y:n[1]},this.sceneScale=Xo.calculateSceneScale(t,r),this.globalOffset=Xo.calculateGlobalOffset(t,r)},Rs.prototype.positionToTileFraction=function(e,t){var r=e.clone();return r.x-=this.globalOffset.x,r.y+=this.globalOffset.y,r.divideScalar(this.sceneScale*Math.pow(2,15-t)),[r.x,r.y,t]},Rs.displayName="GeoprojectStore";var Os=y.createStore(Rs);function ks(){this.appContainer=null,this.datasource={},this.fatalError=!1,this.initialized=!1,this.resourceUrl=null,this.bindListeners({configureElevationDatasource:xs.configureElevationDatasource,configureImageryDatasource:xs.configureImageryDatasource,setAppContainer:xs.setAppContainer,setFatalError:Yo.fatalError,setResourceUrl:xs.setResourceUrl})}ks.prototype.checkInitialized=function(){this.initialized=null!==this.appContainer&&null!==this.resourceUrl},ks.prototype.configureElevationDatasource=function(e){this.datasource.elevation=e},ks.prototype.configureImageryDatasource=function(e){this.datasource.imagery=e},ks.prototype.setFatalError=function(){this.fatalError=!0},ks.prototype.setAppContainer=function(e){this.appContainer=e,this.checkInitialized()},ks.prototype.setResourceUrl=function(e){this.resourceUrl=e,this.checkInitialized()},ks.displayName="AppStore";var Ps=y.createStore(ks),Ls=new URLSearchParams(window.location.search.slice(1)),zs=16,Ds=256;Ls.has("elevationPoolSize")&&(zs=Number.parseInt(Ls.get("elevationPoolSize"))),Ls.has("imageryPoolSize")&&(Ds=Number.parseInt(Ls.get("imageryPoolSize")));var Ns=zs,Is=512,Fs=Ds,Us=Ls.has("interpolateFloat"),Bs="nasadem",js="terrarium",Hs="terrain-rgb",Vs=new Lo.WebGLRenderer({alpha:!0,antialias:!1,clearColor:0,logarithmicDepthBuffer:!1});Vs.sortObjects=!0,Vs.autoClear=!1,Vs.autoClearColor=!1,Vs.autoClearDepth=!0,Vs.autoClearStencil=!1,Vs.domElement.selectable=!1,Vs.toneMapping=Lo.NoToneMapping;var Gs=vs.getState();Vs.setPixelRatio(Gs.pixelRatio),Vs.setSize(Gs.width,Gs.height),vs.listen((function(e){Vs.setPixelRatio(e.pixelRatio),Vs.setSize(e.width,e.height)}));var Ws=function(){function e(t){Object(c.a)(this,e),this.capacity=t,this.index=0,this.items=[]}return Object(o.a)(e,[{key:"next",value:function(){var e;return e=this.index>=this.capacity?this.items.splice(0,1)[0]:this.index++,this.items.push(e),e}},{key:"tap",value:function(e){var t=this.items.indexOf(e);-1!==t&&(this.items.splice(t,1),this.items.push(e))}}]),e}(),qs=new("undefined"===typeof createImageBitmap?Lo.ImageLoader:Lo.ImageBitmapLoader),Xs=document.createElement("canvas"),Ys=Is,Zs=Is;Xs.width=Ys,Xs.height=Zs;var Ks=Xs.getContext("2d"),Qs=262144,Js=function(){function e(t){var r=this,n=t.apiKey,i=t.pixelEncoding,a=t.poolSize,o=t.textureSize,s=t.useFloat,u=t.urlFormat;Object(c.a)(this,e),this.apiKey=n,this.urlFormat=u,this.pixelEncoding=i,this.useFloat=!!s,this.hasUpdates=!1,this.listeners=[],this.lookup={},this.fetching={},this.imgCache={},this.indexPool=new Ws(a);var l=Math.sqrt(a);l%1&&console.error("poolSize needs to be a power of 2");var h=o*l,f=this.useFloat&&!Us?Lo.NearestFilter:Lo.LinearFilter;this.textureArray=new Lo.DataTexture(null,h,h,this.useFloat?Lo.AlphaFormat:Lo.RGBAFormat,this.useFloat?Lo.FloatType:Lo.UnsignedByteType,Lo.UVMapping,Lo.ClampToEdgeWrapping,Lo.ClampToEdgeWrapping,f,f,Vs.capabilities.getMaxAnisotropy()),this.textureArray.__blocks=l;for(var p=function(){var e=m[d];Object.defineProperty(r.textureArray,e,{get:function(){return r[e]}})},d=0,m=["pixelEncoding","useFloat"];d<m.length;d++)p();if(this.useFloat){this.indirectionTexture=new Lo.DataTexture(null,1024,1024,Lo.RGBAFormat,Lo.FloatType,Lo.UVMapping,Lo.ClampToEdgeWrapping,Lo.ClampToEdgeWrapping,Lo.NearestFilter,Lo.NearestFilter,1)}}return Object(o.a)(e,[{key:"urlForTile",value:function(e,t,r){return this.urlFormat.replace("{x}",e).replace("{y}",t).replace("{z}",r).replace("{apiKey}",this.apiKey)}},{key:"fetchIfNeeded",value:function(e){var t=this;if(void 0===this.lookup[e]&&void 0===this.fetching[e])if(Object.values(this.fetching).length>32)os("throttling...");else{var r=this.findNewIndex(e);this.fetching[e]=r;var n=this.urlForTile.apply(this,Object(a.a)(qo.quadkeyToTile(e)));qs.load(n,(function(n){if(t.imgCache[e]=n,function(e,t,r){var n=e.image.width/e.__blocks,i=e.image.height/e.__blocks,a=n*(Math.floor(t)%e.__blocks),o=i*Math.floor(Math.floor(t)/e.__blocks);if(e.useFloat){Ks.drawImage(r,0,0);var s=Ks.getImageData(0,0,Ys,Zs).data,u=new Float32Array(Qs);if(e.pixelEncoding===Bs)for(var l=-32768,c=new DataView(s.buffer),h=0;h<Qs;++h){var f=c.getUint16(4*h,!1)+l;u[h]=f===l?0:f}else{var p;e.pixelEncoding===js?p=[256,1,1/256,-32768]:e.pixelEncoding===Hs&&(p=[6553.6,25.6,.1,-1e4]);for(var d=0;d<Qs;++d){var m=p[0]*s[4*d]+p[1]*s[4*d+1]+p[2]*s[4*d+2]+p[3];u[d]=m===p[3]?0:m}}Vs.copyTextureToTexture({x:a,y:o},{image:{data:u,width:Ys,height:Zs},isDataTexture:!0},e)}else Vs.copyTextureToTexture({x:a,y:o},{image:r},e)}(t.textureArray,r,n),delete t.fetching[e],t.lookup[e]=r,t.useFloat){var i=document.getElementById("elevation-tile-count");if(i){var a=parseInt(i.innerHTML);isNaN(a)&&(a=0),i.innerHTML=++a}}t.updateIndirectionTexture(),t.notifyUpdate()}),(function(){console.error("Failed to get image",e),delete t.fetching[e]}))}}},{key:"findNewIndex",value:function(e){for(var t,r,n=Object.values(this.fetching),i=!0,a=32;a>0;a--){t=this.indexPool.next();var o=-1===n.indexOf(t),s=Object.values(this.lookup).indexOf(t),u=void 0!==(r=Object.keys(this.lookup)[s])&&e.slice(0,r.length-1)===r.slice(0,-1);if(o&&!u){i=!1;break}}return i&&(os("Failed to find index (".concat(this.indexPool.capacity,")")),os("Downloads: ",n.length),r=Object.keys(this.lookup).sort((function(e,t){return e.length-t.length}))[0],t=this.lookup[r]),void 0!==r&&delete this.lookup[r],t}},{key:"updateIndirectionTexture",value:function(){if(this.indirectionTexture){var e=Object.keys(this.lookup);e.sort((function(e,t){return Math.sign(e.length-t.length)}));for(var t=0,r=e;t<r.length;t++){var n=r[t],i=qo.quadkeyToTile(n),a=Object(s.a)(i,3),o=a[0],u=a[1],l=a[2],c=this.lookup[n],h=Math.pow(2,10-l);o*=h,u*=h;for(var f=new Float32Array(4*h*h),p=Math.pow(2,l),d=-p/this.indirectionTexture.image.width,m=0;m<f.length;m++)f[4*m]=c,f[4*m+1]=p,f[4*m+2]=o*d,f[4*m+3]=u*d;Vs.copyTextureToTexture({x:o,y:u},{image:{data:f,width:h,height:h},isDataTexture:!0},this.indirectionTexture)}}}},{key:"findBestAvailableData",value:function(e,t){for(var r=0;r<20;r++){var n=this.lookup[e];if(void 0!==n)return{index:n,downsample:r,quadkey:e};if(0===(e=e.slice(0,-1)).length)break}return t||os("Failed to find data",e),{index:null,downsample:20,quadkey:null}}},{key:"dataAtPoint",value:function(e){var t;t=e.longitude?qo.pointToTileFraction(e.longitude,e.latitude,10):Os.positionToTileFraction(e,10);var r=qo.tileToQuadkey(t),n=this.findBestAvailableData(r).quadkey;if(!n)return null;var i=Math.pow(2,n.length-t[2]);t[0]*=i,t[1]*=i;var a=this.imgCache[n],o=document.createElement("canvas");o.width=1,o.height=1,t[0]=t[0]%1*a.width,t[1]=t[1]%1*a.height;var s=o.getContext("2d");return s.drawImage(a,t[0],t[1],1,1,0,0,1,1),s.getImageData(0,0,1,1).data}},{key:"addListener",value:function(e){this.listeners.push(e)}},{key:"removeListener",value:function(e){var t=this.listeners.indexOf(e);-1!==t&&this.listeners.splice(t,1)}},{key:"notifyUpdate",value:function(){this.hasUpdates=!0}},{key:"broadcastUpdate",value:function(){this.listeners.forEach((function(e){return e()})),this.hasUpdates=!1}}]),e}(),$s=new Js({urlFormat:"https://www.nasadem.xyz/api/v1/dem/{z}/{x}/{y}.png?key={apiKey}",textureSize:Is,pixelEncoding:Bs,poolSize:Ns,useFloat:!0});Ps.listen((function(e){var t=e.datasource;if(t.elevation)for(var r=0,n=["apiKey","pixelEncoding","urlFormat"];r<n.length;r++){var i=n[r];$s[i]=t.elevation[i]}}));var eu=[256,1,1/256,-32768],tu=[6553.6,25.6,.1,-1e4];function ru(e,t){return 0===e[0]&&0===e[1]?0:(t===js||t===Bs?r=eu:t===Hs&&(r=tu),r[0]*e[0]+r[1]*e[1]+r[2]*e[2]+r[3]);var r}function nu(e){var t=Os.getState().sceneScale,r=3.141592653589793-.006135923151542565*(e.longitude?qo.pointToTile(e.longitude,e.latitude,10):Os.positionToTileFraction(e,10))[1];return Math.cosh(r)/(.0008176665341588574*t)}function iu(e,t){var r=$s.dataAtPoint(e);if(!r){if("function"===typeof t){$s.addListener((function r(){var n=$s.dataAtPoint(e);n&&($s.removeListener(r),t(ru(n,$s.pixelEncoding)*nu(e)))}))}return 0}var n=ru(r,$s.pixelEncoding)*nu(e);return"function"===typeof t&&t(n),n}var au,ou=new Lo.Vector3(0,0,0),su=new Lo.Vector3(0,0,0),uu=function(e,t,r,n){ou.addVectors(t,r),r.z=iu(ou)-t.z,su.addVectors(t,n),n.z=iu(su)-t.z,r.cross(n),r.normalize(),e.add(r)},lu=2*Math.PI/1,cu=new Lo.Vector3,hu=new Lo.Vector3(0,0,1),fu=new Lo.Vector3(0,0,0),pu=new Lo.Vector3(0,0,0),du=function(e,t){for(t=t||25,cu.copy(e),cu.z=iu(cu),hu.set(0,0,0),au=0;au<1;au++)fu.x=t*Math.cos(au*lu),fu.y=t*Math.sin(au*lu),pu.x=-fu.y,pu.y=fu.x,uu(hu,cu,fu,pu);return hu.normalize(),hu},mu=new Lo.Vector3(0,0,1);function vu(){this.position=new Lo.Vector3(0,0,16e3),this.target=new Lo.Vector3,this.hasZoomedOut=!1,this.constrainCamera=!0,this.minDistance=100,this.minHeight=200,this.maxDistance=5e4,this.maxBounds=1e6,gs.position.copy(this.position),gs.up.copy(mu),gs.lookAt(new Lo.Vector3(0,0,0)),this.controls=new bs(gs);var e=this.controls;ts.listen((function(){e.update()})),this.zoomInDuration=2,this.zoomOutDuration=2,this.bindListeners({animateAlongFeature:$o.animateAlongFeature,configure:xs.configureCamera,doubleTapZoom:$o.doubleTapZoom,focusOnBounds:$o.focusOnBounds,focusOnFeature:$o.focusOnFeature,focusOnLocation:$o.focusOnLocation,focusOnTarget:$o.focusOnTarget,orbitTarget:$o.orbitTarget,panToPosition:$o.panToPosition,rotateLeft:$o.rotateLeft,rotateRight:$o.rotateRight,setCamera:$o.setCamera,setCameraMode:$o.setCameraMode,setCameraPosition:$o.setCameraPosition,setCameraTarget:$o.setCameraTarget,setFromCurrentLocation:[Qo.setPosition,Qo.toggleTracking],zoomIn:$o.zoomIn,zoomOut:$o.zoomOut})}vu.prototype.setCamera=function(e){if(e.position&&(this.position.copy(e.position),!e.position.forceHeight)){var t=iu(this.position);this.position.z<t&&(this.position.z=t+1),this.constrainCamera&&this.position.z<t+this.minHeight&&(this.position.z+=.1*(t+this.minHeight-this.position.z))}if(e.target){this.target.copy(e.target);var r=this.maxBounds;Math.abs(this.target.x)>r&&(this.target.x=r*Math.sign(this.target.x)),Math.abs(this.target.y)>r&&(this.target.y=r*Math.sign(this.target.y))}this.controls.target.copy(this.target),gs.position.copy(this.position),gs.up.copy(mu),e.quaternion?gs.setRotationFromQuaternion(e.quaternion):gs.lookAt(this.controls.target),gs.updateMatrixWorld()},vu.prototype.setCameraTarget=function(e){this.setCamera({target:e})},vu.prototype.setCameraPosition=function(e){this.setCamera({position:e})},vu.prototype.setFromCurrentLocation=function(){this.waitFor(Ss);var e=Ss.getState();if(!e.tracking||e.tooFar)return!1;if(!e.longitude||!e.latitude)return!1;var t=Xo.project([e.longitude,e.latitude,0]);return t.z=iu(t),this.focusOnTarget(t)},vu.prototype.setCameraMode=function(e){if("2D"!==e&&"3D"!==e)return console.error("Unknown camera mode:",e),!1;this.controls.lock2D="3D"!==e},vu.prototype.vantageForTarget=function(e){var t;if(void 0!==e.bearing){var r=Lo.Math.degToRad(e.bearing);t=new Lo.Vector3(-Math.sin(r),-Math.cos(r),0)}else t=du(e).clone();var n=void 0!==e.angle?e.angle:30;t.z=0,0===t.x&&0===t.y&&(t.y=-1),t.normalize(),t.z=Math.tan(Lo.Math.degToRad(n));var i=void 0!==e.distance?e.distance:this.target.distanceTo(this.position);return i=Math.max(i,1.5*this.minDistance),t.setLength(i),t.add(e),t},vu.prototype.focusOnBounds=function(e){if(e.sw&&e.sw.longitude&&e.sw.latitude&&e.ne&&e.ne.longitude&&e.ne.latitude){var t=Xo.project([e.sw.longitude,e.sw.latitude,0]);t.z=iu(e.sw,!0);var r=Xo.project([e.ne.longitude,e.ne.latitude,0]);r.z=iu(e.ne,!0);var n=(new Lo.Box3).expandByPoint(t).expandByPoint(r),i=new Lo.Sphere;n.getBoundingSphere(i);var a=Lo.Math.degToRad(gs.fov),o=i.radius/Math.tan(.5*a),s=i.center.clone();return g.defaults(s,e),s.distance=o,this.focusOnTarget(s)}},vu.prototype.focusOnFeature=function(e){var t,r=e.geometry.coordinates;return Array.isArray(r[0])&&(r=r[0]),(t=!1===e.projected?Xo.project(r):new Lo.Vector3(r[0],r[1],0)).z=iu(t),this.focusOnTarget(t)},vu.prototype.focusOnLocation=function(e){if(e.longitude&&e.latitude){var t=Xo.project([e.longitude,e.latitude,0]);return t.z=e.height||iu(e,!0),g.defaults(t,e),this.focusOnTarget(t)}},vu.prototype.focusOnTarget=function(e){var t=e.animationDuration;if(void 0===t&&(t=.001*this.target.distanceTo(e),t=Math.min(4,Math.max(1.2,t))),0===t)return this.setCamera({position:this.vantageForTarget(e),target:e});var r={position:this.vantageForTarget(e),target:e,duration:t,doNotCancel:!0};return"function"===typeof e.onComplete&&(r.onComplete=e.onComplete),this.panToPosition(r)},vu.prototype.rotateAngle=function(e){var t=this.position.clone().sub(this.target);t.applyAxisAngle(mu,e);var r=this.controls.target.clone().add(t),n={duration:.9,ease:Ts.cubicIn,lerp:Ts.lerp.vector3Angular(this.controls.target.clone()),doNotCancel:!0};Ts.transition($o.setCameraPosition,this.position.clone(),r,n)},vu.prototype.rotateLeft=function(){this.rotateAngle(.3*Math.PI)},vu.prototype.rotateRight=function(){this.rotateAngle(-.3*Math.PI)},vu.prototype.orbitTarget=function(){var e=this.position.clone().sub(this.target);e.applyAxisAngle(mu,.5*Math.PI);var t=this.target.clone().add(e),r={duration:13.37,ease:Ts.linear,lerp:Ts.lerp.vector3Angular(this.target.clone()),onComplete:this.orbitTarget.bind(this)};Ts.transition($o.setCameraPosition,this.position.clone(),t,r)},vu.prototype.zoomIn=function(){var e=this.position.clone().sub(this.target),t=e.length(),r=t<this.minDistance+1;t=r?.9*this.minDistance:Math.max(this.minDistance,.5*t),e.setLength(t);var n=this;return this.panToPosition({position:this.target.clone().add(e),duration:r?.15:.5,ease:Ts.cubicIn,doNotCancel:!0,onComplete:function(){r&&(e.setLength(n.minDistance),n.panToPosition({position:n.target.clone().add(e),duration:.2,ease:Ts.cubicIn,doNotCancel:!0}))}})},vu.prototype.zoomOut=function(){var e=this.position.clone().sub(this.target),t=e.length(),r=t>this.maxDistance-1;t=r?1.1*this.maxDistance:Math.min(this.maxDistance,2*t),e.setLength(t);var n=this;return this.panToPosition({position:this.target.clone().add(e),duration:r?.15:.5,ease:Ts.cubicIn,doNotCancel:!0,onComplete:function(){r&&(e.setLength(n.maxDistance),n.panToPosition({position:n.target.clone().add(e),duration:.2,ease:Ts.cubicIn,doNotCancel:!0}))}})},vu.prototype.doubleTapZoom=function(){this.position.clone().sub(this.target).length()>1.05*this.minDistance?this.zoomIn():this.zoomOut()};var gu=new Lo.Vector3,yu=new Lo.Vector3,bu=new Lo.Vector3,xu=new Lo.Vector3,wu=new Lo.Quaternion,_u=new Lo.Quaternion;vu.prototype.panToPosition=function(e){if(void 0===e.position&&(e.position=this.position.clone()),void 0===e.target&&(e.target=this.target.clone()),gu.copy(this.position),bu.copy(e.position),yu.copy(this.target),xu.copy(e.target),wu.copy(gs.quaternion),this.controls.lock2D)_u.copy(wu);else{var t=new Lo.Matrix4;t.lookAt(e.position,e.target,mu),_u.setFromRotationMatrix(t)}return Ts.transition((function(e){$o.setCamera({position:Object(i.a)({forceHeight:!0},Ts.lerp.vector3(gu,bu,e)),target:Ts.lerp.vector3(yu,xu,e),quaternion:wu.clone().slerp(_u,e)})}),0,1,e),!1},vu.prototype.animateAlongFeature=function(e){var t=this;if(this.controls.lock2D)return this.setCameraMode("3D"),void setTimeout((function(){t.animateAlongFeature(e)}),500);var r=e.distance||1e3,n=Math.max(1,.5*r),i=e.speed||100,a=new Lo.Vector3,o=new Lo.Vector3,s=gs.near;gs.near=Math.min(.25*n,gs.near),gs.updateProjectionMatrix();var u=function(i){a.subVectors(i,t.target),a.multiplyScalar(.1),a.add(t.target);var s=a.distanceTo(t.position);s=r+.97*(s-r),o.subVectors(t.position,a),o.setLength(s),o.add(a);var u=iu(o)+n;o.z=u+.97*(o.z-u),$o.setCamera({position:o,target:a}),e.onAnimationFrame&&e.onAnimationFrame(Xo.unproject(a))},l=this.position.clone(),c=this.target.clone();this.constrainCamera=!1;var h=function(){t.constrainCamera=!0,t.panToPosition({position:l,target:c,duration:2,ease:Ts.smootherstep}),setTimeout((function(){gs.near=s,gs.updateProjectionMatrix()}),500),e.onComplete&&e.onComplete()},f=Array.isArray(e.feature)?e.feature:[e.feature];!function a(o){var s=f[o],l=function(){Ts.transition(u,0,1,{duration:s.curve.getLength()/i,ease:Ts.linear,lerp:function(e,t,r){return s.curve.getPointAt(r)},onCancel:h,onComplete:function(){o<f.length-1?a(o+1):h()}}),e.onFeatureReached&&e.onFeatureReached(s.id)};if(0===o){var c=s.curve.getPointAt(0),p=s.curve.getPointAt(.01),d=c.clone().sub(p);d.setLength(Math.max(r,100)),d.add(c),d.z+=n,t.panToPosition({position:d,target:c,duration:2,ease:Ts.smootherstep,onComplete:l,onCancel:h})}else l()}(0)},vu.prototype.configure=function(e){var t=this;g.forEach(e,(function(e,r){t[r]=e}));g.forEach(["minDistance","minHeight","maxBounds","maxDistance","minPolarAngle","maxPolarAngle","noPan","noRotate","noZoom"],(function(e){t.hasOwnProperty(e)&&(t.controls[e]=t[e])}))},vu.displayName="CameraStore";var Tu=y.createStore(vu),Eu={};function Su(){this.bindListeners({setCamera:$o.setCamera})}Eu.focusOnBounds=function(e){if(!e.sw||!e.sw.longitude||!e.sw.latitude||!e.ne||!e.ne.longitude||!e.ne.latitude)return console.log("Invalid target passed"),console.log("Please use following format: { sw: { latitude: 44.5, longitude: 6.3 }, ne: { latitude: 44.4, longitude: 6.4 } }"),void console.log("{ longitude: 1.23, latitude: 4.56 }");var t={onComplete:Yo.onBoundsFocused};g.defaults(t,e),setTimeout((function(){$o.focusOnBounds(t)}),0)},Eu.focusOnLocation=function(e){if(!e.longitude||!e.latitude)return console.log("Invalid target passed"),console.log("Please use following format:"),void console.log("{ longitude: 1.23, latitude: 4.56 }");var t={onComplete:Yo.onLocationFocused};g.defaults(t,e),setTimeout((function(){$o.focusOnLocation(t)}),0)},Eu.orbitTarget=function(){setTimeout((function(){$o.orbitTarget()}),0)},Eu.setCameraMode=function(e){setTimeout((function(){$o.setCameraMode(e)}),0)},Su.prototype.setCamera=function(e){if(this.waitFor(Tu),"function"===typeof Eu.onCameraChange){var t=Xo.unproject(e.target),r=e.target.distanceTo(e.position),n=e.target.clone().sub(e.position),i=(180*Math.atan2(n.x,n.y)/Math.PI+360)%360,a=180*Math.asin(-n.z/r)/Math.PI;Eu.onCameraChange({longitude:t[0],latitude:t[1],height:t[2],angle:a,bearing:i,distance:r})}},Su.displayName="CameraExport",y.createStore(Su);var Mu={configureControls:function(e){if(e){var t={},r=["minDistance","maxBounds","maxDistance","minPolarAngle","maxPolarAngle","noPan","noRotate","noZoom"];for(var n in r){var i=r[n];e.hasOwnProperty(i)&&(t[i]=e[i])}setTimeout((function(){xs.configureCamera(t)}),0)}else console.log("No configuration passed")}},Au={};function Cu(){this.appContainer=null,this.bindListeners({onBoundsFocused:Yo.onBoundsFocused,onLocationFocused:Yo.onLocationFocused,fatalError:Yo.fatalError,signalUserInteraction:$o.inputStarted,setElevation:Jo.setElevation,setElevationBig:Jo.setElevationBig})}Au.init=function(e){var t=e.container,r=e.datasource;if(void 0!==t&&null!==t)if(void 0!==r&&null!==r){"maptiler"===r.provider&&(r.apiKey||console.error("Error: `${datasource.provider} `datasource configuration is invalid. Must provide `apiKey`"),r={elevation:{apiKey:r.apiKey,pixelEncoding:Hs,urlFormat:"https://api.maptiler.com/tiles/terrain-rgb/{z}/{x}/{y}.png?key={apiKey}"},imagery:{apiKey:r.apiKey,attribution:'<a href="https://www.maptiler.com/copyright/">Maptiler</a> <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',urlFormat:"https://api.maptiler.com/tiles/satellite/{z}/{x}/{y}.jpg?key={apiKey}"}}),("nasadem"===r.elevation.provider||1===Object.keys(r.elevation).length&&"apiKey"===Object.keys(r.elevation)[0])&&(r.elevation.apiKey||console.error("Error: `${datasource.elevation.provider} `datasource configuration is invalid. Must provide `apiKey`"),r.elevation={apiKey:r.elevation.apiKey,attribution:'&copy;<a href="https://www.nasadem.xyz">nasadem.XYZ</a>',pixelEncoding:Bs,urlFormat:"https://www.nasadem.xyz/api/v1/dem/{z}/{x}/{y}.png?key={apiKey}"});var n=r,i=n.elevation,a=n.imagery;-1===[Bs,Hs,js].indexOf(i.pixelEncoding)&&console.error("Error: invalid pixelEncoding passed in elevation datasource"),void 0!==i&&void 0!==i.urlFormat?void 0!==a&&void 0!==a.urlFormat?(xs.configureElevationDatasource(i),xs.configureImageryDatasource(a),xs.setAppContainer(t)):console.error("Error: imagery datasource configuration is invalid"):console.error("Error: elevation datasource configuration is invalid")}else console.error("Error: tried to init Procedural API without datasource definition");else console.error("Error: tried to init Procedural API with invalid container")},Cu.prototype.fatalError=function(e){"function"===typeof Au.onLocationError&&Au.onLocationError(e)},Cu.prototype.onBoundsFocused=function(){"function"===typeof Au.onBoundsFocused&&Au.onBoundsFocused()},Cu.prototype.onLocationFocused=function(){"function"===typeof Au.onLocationFocused&&Au.onLocationFocused()},Cu.prototype.setElevation=function(){},Cu.prototype.setElevationBig=function(){},Au.setDisplayErrors=function(e){setTimeout((function(){xs.setDisplayErrors(e)}),0)},Cu.prototype.signalUserInteraction=function(){"function"===typeof Au.onUserInteraction&&Au.onUserInteraction()},Cu.displayName="CoreExport",y.createStore(Cu);var Ru={env:{turbidity:2.928118393234672,reileigh:.631430584918957,mieCoefficient:.006765327695560254,mieDirectionalG:.9020436927413672,luminance:.7892882311486963,inclination:.6376744186046512,azimuth:.881,sun:!1,fogDropoff:65e-7,fogIntensity:1,exposureBias:1.25,whitePoint:2.5,ambientColor:"#2d3034",diffuseColor:"#aeafa4",backscatterColor:"#181d20",ambientOcclusion:1.17}},Ou={datafileForLocation:function(e){if(!e||isNaN(e.latitude)||isNaN(e.longitude))return null;var t=Cs.snap(e.longitude),r=Cs.snap(e.latitude);return Cs.datafileForLocation(t,r)}},ku=null;Ou.displayLocation=function(e){e?isNaN(e.latitude)||isNaN(e.longitude)?Yo.fatalError("Invalid place data passed"):null===ku||function(e,t){return Math.sqrt(e*e+t*t)}(ku.longitude-e.longitude,ku.latitude-e.latitude)>5?(setTimeout((function(){$o.setCurrentPlace(Object(i.a)(Object(i.a)({},Ru),e))}),0),ku=Object(i.a)({},e)):setTimeout((function(){$o.focusOnLocation(e)}),0):Yo.fatalError("No place data passed")};var Pu={setEnvironment:function(e){setTimeout((function(){$o.setEnvironment(e)}),0)},environmentEditor:function(){null.initEnv()}},Lu=[],zu=function(){Lu.shift()()},Du=function(e){"function"===typeof e?(Lu.push(e),setTimeout(zu,0)):console.error("Tried to enqueue non-function")},Nu={isLineString:function(e){return"LineString"===e.geometry.type},isPolygon:function(e){return"Polygon"===e.geometry.type},isMultiPolygon:function(e){return"MultiPolygon"===e.geometry.type},isPoint:function(e){return"Point"===e.geometry.type},tagValue:function(e,t){return e.properties.tags?e.properties.tags[t]:null},hasTag:function(e,t){return!!Nu.tagValue(e,t)},isPiste:function(e){return Nu.isLineString(e)&&Nu.hasTag(e,"piste:type")},isAerial:function(e){return Nu.isLineString(e)&&Nu.hasTag(e,"aerialway")},isHighway:function(e){return Nu.isLineString(e)&&Nu.hasTag(e,"highway")},isTrack:function(e){if(!Nu.isLineString(e))return!1;var t=Nu.tagValue(e,"highway");return"track"===t||"footway"===t||"path"===t||"cycleway"===t||"bridleway"===t},isRiver:function(e){return Nu.isLineString(e)&&Nu.hasTag(e,"waterway")},isBuilding:function(e){return Nu.isPolygon(e)&&Nu.hasTag(e,"building")},isForest:function(e){return(Nu.isPolygon(e)||Nu.isMultiPolygon(e))&&!Nu.isBuilding(e)},color:function(e){var t=!!e.properties.tags&&e.properties.tags["piste:difficulty"];return t?"advanced"===t||"expert"===t||"freeride"===t?"#030512":"intermediate"===t?"#ef2415":"easy"===t?"#1976d2":"novice"===t?"#4caf50":(os("Unknown piste difficulty",t),"#17afef"):Nu.isAerial(e)?"#0c0c0c":Nu.isTrack(e)?"rgba(46, 42, 22, 0.5)":Nu.isHighway(e)?"#222120":e.properties.color?e.properties.color:Nu.isRiver(e)?"stream"===e.properties.tags.waterway?5:100:void os("Unknown feature color",e)},thickness:function(e){if(e.properties.thickness)return e.properties.thickness;if(Nu.isPiste(e))return 2.7;if(Nu.isAerial(e))return 3;if(Nu.isTrack(e))return 3;if(Nu.isHighway(e)){var t=Nu.tagValue(e,"highway");return"motorway"===t?13:"trunk"===t?11:"primary"===t?10:"secondary"===t?8:5}return Nu.isRiver(e)?e.properties.tags.width?e.properties.tags.width:"stream"===e.properties.tags.waterway?2:3.7:2.5}};function Iu(){this.bindListeners({clearFeatures:$o.setCurrentPlace,setFeatures:Jo.setFeatures}),this.clearFeatures()}Iu.prototype.clearFeatures=function(){return this.buildings=[],this.forests=[],this.highways=[],this.lifts=[],this.peaks=[],this.places=[],this.pistes=[],this.lakes=[],this.rivers=[],this.unknown=[],!1},Iu.prototype.classify=function(e){if(Nu.isLineString(e))return Nu.hasTag(e,"piste:type")?this.pistes:Nu.hasTag(e,"highway")?this.highways:Nu.hasTag(e,"waterway")?this.rivers:Nu.hasTag(e,"aerialway")?this.lifts:this.pistes;if(Nu.isPolygon(e))return Nu.hasTag(e,"building")?this.buildings:"water"===Nu.tagValue(e,"natural")||"riverbank"===Nu.tagValue(e,"waterway")?this.lakes:this.forests;if(Nu.isMultiPolygon(e))return this.forests;if(Nu.isPoint(e)){var t=e.properties.tags;return"peak"===t.natural&&t.name?this.peaks:t.place?this.places:this.unknown}return this.unknown},Iu.prototype.normalize=function(e){if(void 0!==e.properties.tags){var t=e.properties,r=t.tags;delete t.tags,r.name&&(t.name=r.name),"peak"===r.natural?(t.icon="caret-up",t.fadeDistance=1e4,r.ele&&t.name&&(t.name+=" - "+r.ele+"m")):r.place&&(t.icon="dot-circle-o",t.fadeDistance=15e3),t.collapseDistance=.5*t.fadeDistance,t.priority=-10,t.borderRadius=20,t.background="rgba(0, 0, 0, 0.6)",t.color="#fff",t.clipping="object",t.anchor="left",t.padding=2}},Iu.prototype.setFeatures=function(e){for(var t,r=!!e.crs,n=ss.now();e.features.length>0;)t=e.features.pop(),r&&(t.geometry.coordinates=Xo.unproject3035(t.geometry.coordinates)),void 0===t.projected&&(t.projected=!1),this.classify(t).push(t);this.peaks.forEach(this.normalize.bind(this)),this.places.forEach(this.normalize.bind(this));var i=ss.now()-n;ss.timing("geodata","classify","osm",i)},Iu.displayName="OSMAdapter";var Fu=y.createStore(Iu),Uu="____default____";function Bu(){this.bindListeners({addBuiltinOverlay:Jo.addBuiltinOverlay,addOverlay:Jo.addOverlay,updateOverlay:Jo.updateOverlay,featureCreated:Yo.featureCreated,removeOverlay:Jo.removeOverlay,setFeatures:Jo.setFeatures}),this.overlays={},this.overlayTracker={},this.builtinOverlays=[],this.supportedBuiltinOverlays=["lifts","peaks","pistes","places"],this.referenceOnlyBuiltinOverlays=["lifts","pistes"],this.lines=[],this.markers=[]}Bu.prototype.classify=function(e){return Nu.isLineString(e)?this.lines:Nu.isPoint(e)?this.markers:null},Bu.prototype.removeFeature=function(e){var t=this.classify(e);if(null!==t){var r=t.indexOf(e);-1!==r&&t.splice(r,1)}},Bu.prototype.addOverlay=function(e){var t=-1!==this.builtinOverlays.indexOf(e.name);this.removeOverlay(e.name),t&&this.builtinOverlays.unshift(e.name),void 0===e.name&&(e.name=Uu),this.overlays[e.name]=e;for(var r,n=e.features.concat(),i=ss.now();n.length>0;){r=n.pop(),e.defaults&&e.defaults.properties&&g.defaults(r.properties,e.defaults.properties),void 0===r.projected&&(r.projected=!1);var a=this.classify(r);a&&(a.push(r),r.overlayName=e.name,this.featureClassified(r))}var o=ss.now()-i;ss.timing("geodata","classify","overlay",o)},Bu.prototype.updateOverlay=function(e){if(!(void 0!==this.overlays[e.name]))return console.error(name+" overlay has not been added, so cannot be updated"),!1;var t=e.features,r=this.overlays[e.name].features,n=t.length,i=r.length;if(n!==i)return console.error("Tried to call updateOverlay on overlay "+e.name+", but number of features does not match. Original: "+i+", new: "+n),!1;for(var a=!!e.crs,o=0;o<n;o++){var s=r[o],u=t[o];s.projected=void 0===u.projected?a:u.projected,s.geometry.coordinates=u.geometry.coordinates}},Bu.prototype.addBuiltinOverlay=function(e){Array.isArray(e)||(e=[e]);for(var t=0,r=e.length;t<r;t++){var n=e[t],i=this.supportedBuiltinOverlays.indexOf(n);if(-1===i)return console.error(n+" is not a supported built-in overlay"),!1;-1===(i=this.builtinOverlays.indexOf(n))&&this.builtinOverlays.push(n)}return this.updateBuiltinOverlays()},Bu.prototype.updateBuiltinOverlays=function(){this.waitFor(Fu);for(var e=Fu.getState(),t=0,r=this.builtinOverlays.length;t<r;t++){var n=this.builtinOverlays[t];-1===this.referenceOnlyBuiltinOverlays.indexOf(n)&&this.addOverlay({name:n,type:"FeatureCollection",features:e[n]})}},Bu.prototype.setFeatures=function(){return this.updateBuiltinOverlays()},Bu.prototype.removeOverlay=function(e){void 0===e&&(e=[Uu]),Array.isArray(e)||(e=[e]);for(var t=0,r=e.length;t<r;t++){var n=e[t],i=this.builtinOverlays.indexOf(n);if(-1!==i&&this.builtinOverlays.splice(i,1),void 0!==this.overlays[n]){for(var a=this.overlays[n],o=0,s=a.features.length;o<s;o++)this.removeFeature(a.features[o]);delete this.overlays[n]}}},Bu.prototype.featureClassified=function(e){void 0===this.overlayTracker[e.overlayName]?this.overlayTracker[e.overlayName]=1:this.overlayTracker[e.overlayName]+=1},Bu.prototype.featureCreated=function(e){if(void 0===this.overlayTracker[e.overlayName])return!1;if(this.overlayTracker[e.overlayName]-=1,0===this.overlayTracker[e.overlayName]){var t=e.overlayName;delete this.overlayTracker[e.overlayName],Du((function(){Yo.overlayDisplayed(t)}))}delete e.overlayName},Bu.displayName="OverlayAdapter";var ju=y.createStore(Bu),Hu={elevationArray:{value:$s.textureArray},indirectionTexture:{value:$s.indirectionTexture},uGlobalOffset:{type:"v2",value:new Lo.Vector2},uSceneScale:{type:"f",value:1}};Os.listen((function(e){var t=e.globalOffset,r=e.sceneScale;Hu.uGlobalOffset.value.copy(t),Hu.uSceneScale.value=r}));var Vu=function(e){this.value=e};Vu.prototype.define=function(e,t){var r=new RegExp("#define "+e+" .*","g"),n="#define "+e+(t?" "+t:"");this.value.match(r)?this.value=this.value.replace(r,n):this.value=n+"\n"+this.value},Vu.prototype.clone=function(){return new Vu(this.value)};var Gu=new Vu("uniform mat4 modelMatrix;uniform mat4 viewMatrix;uniform mat4 projectionMatrix;uniform vec3 cameraPosition;attribute vec3 position;attribute vec3 normal;uniform float uAccuracy;varying vec3 vPosition;varying vec3 vCenter;varying float vRingRadius;\n#define BEACON_RADIUS 50.0\nfloat a(float b){return clamp(b,0.0,1.0);}vec2 a(vec2 b){return clamp(b,0.0,1.0);}vec3 a(vec3 b){return clamp(b,0.0,1.0);}vec4 a(vec4 b){return clamp(b,0.0,1.0);}\n#define VIRTUAL_TEXTURE_ARRAY_BLOCKS 4.0\n\n#define VIRTUAL_TEXTURE_ARRAY_SIZE 512.0\n\n#define TEX_SIZE (VIRTUAL_TEXTURE_ARRAY_SIZE * VIRTUAL_TEXTURE_ARRAY_BLOCKS)\nconst vec2 c=vec2(1.0/TEX_SIZE,0.0);vec4 d(const in sampler2D b,in vec2 e){e-=0.5*c.xx;vec2 f=fract(e*TEX_SIZE);vec2 g=e-c.xx*f+0.5*c.xx;\n#ifdef HEIGHT_LOOKUP_BIAS\nvec4 h=texture2D(b,g,-10.0);vec4 i=texture2D(b,g+c,-10.0);vec4 j=texture2D(b,g+c.yx,-10.0);vec4 k=texture2D(b,g+c.xx,-10.0);\n#else\nvec4 h=texture2D(b,g);vec4 i=texture2D(b,g+c);vec4 j=texture2D(b,g+c.yx);vec4 k=texture2D(b,g+c.xx);\n#endif\nvec4 l=mix(h,i,f.x);vec4 m=mix(j,k,f.x);return mix(l,m,f.y);}vec4 n(in sampler2D o,in vec2 e,in float p){vec2 q=vec2(mod(float(p),VIRTUAL_TEXTURE_ARRAY_BLOCKS),floor(float(p)/VIRTUAL_TEXTURE_ARRAY_BLOCKS));const float r=0.5;vec2 s=vec2(r,VIRTUAL_TEXTURE_ARRAY_SIZE-r)/VIRTUAL_TEXTURE_ARRAY_SIZE;vec2 t=(clamp(e,s.x,s.y)+q)/VIRTUAL_TEXTURE_ARRAY_BLOCKS;\n#ifdef MANUAL_TEXTURE_BILINEAR\nreturn d(o,t);\n#else\nreturn texture2D(o,t);\n#endif\n}uniform lowp sampler2D indirectionTexture;uniform vec2 uGlobalOffset;uniform float uSceneScale;const float u=0.0008176665341588574;float v(in float w){float x=3.141592653589793-0.006135923151542565*w;float y=dot(vec2(0.5),exp(vec2(x,-x)));return y/(u*uSceneScale);}uniform lowp sampler2D elevationArray;float z(in vec2 A){const float B=32.0;const float C=1024.0;vec2 D=A.xy-uGlobalOffset;D/=(uSceneScale*B);D*=vec2(1.0,-1.0);vec2 E=D/C;const vec2 F=vec2(0.5);vec2 G=(floor(D-F)+F);G+=step(F,D-G);vec2 H=G/C;vec4 I=texture2D(indirectionTexture,H);float p=I.r;float J=I.g;vec2 K=I.ba;vec2 t=E*J+K;return v(D.y)*n(elevationArray,t,p).a;}void main(){vCenter=position-BEACON_RADIUS*normal;vec4 L=modelMatrix*vec4(vCenter,1.0);vec3 M=L.xyz/L.w;vCenter=M;float N=abs((viewMatrix*vec4(M,1.0)).z);vRingRadius=25.0*clamp(N/1000.0,0.01,10.0);float O=max(vRingRadius,uAccuracy);vPosition=vCenter+O*normal;float P=z(vPosition.xy);float Q=P-vPosition.z+N/1000.0-0.3*O;vPosition.z=P;vec3 R=cameraPosition-vPosition;float S=length(R);R=normalize(R);float T=230.0*smoothstep(50.0,250.0,S);gl_Position=projectionMatrix*viewMatrix*vec4(vPosition+T*R,1.0);}"),Wu=new Vu("precision highp float;uniform float uTime;varying vec3 vPosition;varying vec3 vCenter;varying float vRingRadius;const vec4 a=vec4(1.0,1.0,1.0,0.9);void main(){float b=distance(vPosition.xy,vCenter.xy)/vRingRadius;vec3 c=mix(vec3(0.0,0.0,1.0),vec3(0.0,0.5,1.0),0.2*b);vec4 d=vec4(c*sin(uTime),0.5);d=mix(d,a,smoothstep(0.75,0.8,b));d=mix(d,vec4(c.rgb,0.15),smoothstep(1.0,1.05,b));d.rgb=pow(abs(d.rgb),vec3(0.4545));gl_FragColor=d;}");function qu(e,t,r,n){return void 0===t&&void 0===r?this.set(e):(void 0===n&&(n=1),this.setRGB(e,t,r,n))}Object.assign(qu.prototype,{isColor:!0,r:1,g:1,b:1,a:1,set:function(e){return e&&e.isColor?this.copy(e):"number"===typeof e?this.setHex(e):"string"===typeof e&&this.setStyle(e),this},setScalar:function(e){return this.r=e,this.g=e,this.b=e,this},setHex:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this},setRGB:function(e,t,r,n){return this.r=e,this.g=t,this.b=r,this.a=n,this},setStyle:function(e){function t(e){return void 0===e?1:parseFloat(e)}var r;if(r=/^((?:rgb)a?)\(\s*([^\)]*)\)/.exec(e)){var n,i=r[1],a=r[2];switch(i){case"rgb":case"rgba":if(n=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(n[1],10))/255,this.g=Math.min(255,parseInt(n[2],10))/255,this.b=Math.min(255,parseInt(n[3],10))/255,this.a=t(n[5]),this;if(n=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(n[1],10))/100,this.g=Math.min(100,parseInt(n[2],10))/100,this.b=Math.min(100,parseInt(n[3],10))/100,this.a=t(n[5]),this}}else if(r=/^\#([A-Fa-f0-9]+)$/.exec(e)){var o,s=(o=r[1]).length;if(3===s)return this.r=parseInt(o.charAt(0)+o.charAt(0),16)/255,this.g=parseInt(o.charAt(1)+o.charAt(1),16)/255,this.b=parseInt(o.charAt(2)+o.charAt(2),16)/255,this;if(6===s)return this.r=parseInt(o.charAt(0)+o.charAt(1),16)/255,this.g=parseInt(o.charAt(2)+o.charAt(3),16)/255,this.b=parseInt(o.charAt(4)+o.charAt(5),16)/255,this}e&&e.length>0&&(void 0!==(o=Lo.Color.NAMES[e])?this.setHex(o):console.warn("THREE.Color: Unknown color "+e));return this},clone:function(){return new this.constructor(this.r,this.g,this.b,this.a)},copy:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this},copyGammaToLinear:function(e,t){return void 0===t&&(t=2),this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this},copyLinearToGamma:function(e,t){void 0===t&&(t=2);var r=t>0?1/t:1;return this.r=Math.pow(e.r,r),this.g=Math.pow(e.g,r),this.b=Math.pow(e.b,r),this},convertGammaToLinear:function(){var e=this.r,t=this.g,r=this.b;return this.r=e*e,this.g=t*t,this.b=r*r,this},convertLinearToGamma:function(){return this.r=Math.sqrt(this.r),this.g=Math.sqrt(this.g),this.b=Math.sqrt(this.b),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(e){var t,r,n=e||{h:0,s:0,l:0},i=this.r,a=this.g,o=this.b,s=Math.max(i,a,o),u=Math.min(i,a,o),l=(u+s)/2;if(u===s)t=0,r=0;else{var c=s-u;switch(r=l<=.5?c/(s+u):c/(2-s-u),s){case i:t=(a-o)/c+(a<o?6:0);break;case a:t=(o-i)/c+2;break;case o:t=(i-a)/c+4}t/=6}return n.h=t,n.s=r,n.l=l,n},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(e,t,r){var n=this.getHSL();return n.h+=e,n.s+=t,n.l+=r,this.setHSL(n.h,n.s,n.l),this},add:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this},addColors:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this},addScalar:function(e){return this.r+=e,this.g+=e,this.b+=e,this},sub:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this},multiply:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this},multiplyScalar:function(e){return this.r*=e,this.g*=e,this.b*=e,this},lerp:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this.a+=(e.a-this.a)*t,this},equals:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b},fromArray:function(e,t){return void 0===t&&(t=0),this.r=e[t],this.g=e[t+1],this.b=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e},toJSON:function(){return this.getHex()}});var Xu={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:["precision highp float;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","attribute vec3 position;","attribute vec2 uv;","varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["precision highp float;","uniform float opacity;","uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","\tvec4 texel = texture2D( tDiffuse, vUv );","\tgl_FragColor = opacity * texel;","}"].join("\n")};function Yu(){this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}Object.assign(Yu.prototype,{setSize:function(){},render:function(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}}),Yu.FullScreenQuad=function(){var e=new Da(-1,1,1,-1,0,1),t=new jr(2,2),r=function(r){this._mesh=new mr(t,r),this._camera=e};return Object.defineProperty(r.prototype,"material",{get:function(){return this._mesh.material},set:function(e){this._mesh.material=e}}),Object.assign(r.prototype,{dispose:function(){this._mesh.geometry.dispose()},render:function(t){t.render(this._mesh,e)}}),r}();var Zu=function(e,t){Yu.call(this),this.textureID=void 0!==t?t:"tDiffuse",e instanceof Cr||e instanceof Wi?(this.uniforms=e.uniforms,this.material=e):e&&(this.uniforms=Ar.clone(e.uniforms),this.material=new Wi({defines:Object.assign({},e.defines),uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),this.fsQuad=new Yu.FullScreenQuad(this.material)};Zu.prototype=Object.assign(Object.create(Yu.prototype),{constructor:Zu,render:function(e,t,r){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=r.texture),this.fsQuad.material=this.material,this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(t),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),this.fsQuad.render(e))},compile:function(e){var t=new qe,r=new We;r.material=this.material,t.add(r),e.compile(t,this.fsQuad._camera),t.children=[]}});var Ku=function(e,t,r){if(this.hd=!!r,this.renderer=e,void 0===t){var n={minFilter:C,magFilter:C,format:I,stencilBuffer:!1},i=e.getSize(new ue);(t=new de(i.width,i.height,n)).texture.name="EffectComposer.rt1"}var a;this.renderTarget1=t,this.renderTarget2=t.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.hd&&(this.renderTargetHD=t.clone(),a=new Bi,this.renderTarget1.depthTexture=a,this.renderTarget2.depthTexture=a),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],void 0===Xu&&console.error("THREE.EffectComposer relies on CopyShader"),void 0===Zu&&console.error("THREE.EffectComposer relies on ShaderPass"),this.copyPass=new Zu(Xu),this.clock=new Ja};Object.assign(Ku.prototype,{swapBuffers:function(){var e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e},addPass:function(e){e.hd&&!this.hd&&console.error("Cannot add HD pass to a non-HD EffectComposer"),this.passes.push(e);var t=this.renderer.getSize(new ue);e.setSize(t.width,t.height)},insertPass:function(e,t){this.passes.splice(t,0,e)},isLastEnabledPass:function(e){for(var t=e+1;t<this.passes.length;t++)if(this.passes[t].enabled)return!1;return!0},render:function(e){void 0===e&&(e=this.clock.getDelta());var t,r,n=this.renderer.getRenderTarget(),i=this.passes.length;for(r=0;r<i;r++)if(!1!==(t=this.passes[r]).enabled){var a=this.readBuffer;t.hd&&(a=this.renderTargetHD),t.src&&(a=t.src),t.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(r),t.render(this.renderer,this.writeBuffer,a,e,false),t.needsSwap&&this.swapBuffers()}this.renderer.setRenderTarget(n)},reset:function(e){if(void 0===e){var t=this.renderer.getSize(new ue);(e=this.renderTarget1.clone()).setSize(t.width,t.height)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2},setSize:function(e,t,r,n){this.renderTarget1.setSize(e,t),this.renderTarget2.setSize(e,t),this.hd&&this.renderTargetHD.setSize(r,n);for(var i=0;i<this.passes.length;i++)this.passes[i].setSize(this.hd&&this.passes[i].hd?r:e,this.hd&&this.passes[i].hd?n:t)}});var Qu=function(){this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1};Object.assign(Qu.prototype,{setSize:function(){},render:function(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}}),Qu.FullScreenQuad=function(){var e=new Da(-1,1,1,-1,0,1),t=new jr(2,2),r=function(e){this._mesh=new mr(t,e)};return Object.defineProperty(r.prototype,"material",{get:function(){return this._mesh.material},set:function(e){this._mesh.material=e}}),Object.assign(r.prototype,{dispose:function(){this._mesh.geometry.dispose()},render:function(t){t.render(this._mesh,e)}}),r}();var Ju=function(e,t,r,n,i){Yu.call(this),this.scene=e,this.camera=t,this.overrideMaterial=r,this.clearColor=n,this.clearAlpha=void 0!==i?i:0,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1};Ju.prototype=Object.assign(Object.create(Yu.prototype),{constructor:Ju,render:function(e,t,r){var n,i,a,o,s,u=e.autoClear;e.autoClear=!1,void 0!==this.overrideMaterial&&(s=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor&&(a=e.getClearColor().getHex(),o=e.getClearAlpha(),e.setClearColor(this.clearColor,this.clearAlpha)),!1===this.autoClearColor&&(n=e.autoClearColor,e.autoClearColor=!1),!1===this.autoClearDepth&&(i=e.autoClearDepth,e.autoClearDepth=!1),this.clearDepth&&e.clearDepth(),e.setRenderTarget(this.renderToScreen?null:r),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),e.render(this.scene,this.camera),this.clearColor&&e.setClearColor(a,o),!1===this.autoClearColor&&(e.autoClearColor=n),!1===this.autoClearDepth&&(e.autoClearDepth=i),void 0!==this.overrideMaterial&&(this.scene.overrideMaterial=s),e.autoClear=u}});var $u=function(e){Yu.call(this),void 0===Xu&&console.error("SavePass relies on CopyShader");var t=Xu;this.textureID="tDiffuse",this.uniforms=Ar.clone(t.uniforms),this.material=new Cr({uniforms:this.uniforms,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader}),this.renderTarget=e,void 0===this.renderTarget&&(this.renderTarget=new de(window.innerWidth,window.innerHeight,{minFilter:C,magFilter:C,format:N,stencilBuffer:!1}),this.renderTarget.texture.name="SavePass.rt"),this.needsSwap=!1,this.fsQuad=new Yu.FullScreenQuad(this.material)};$u.prototype=Object.assign(Object.create(Yu.prototype),{constructor:$u,render:function(e,t,r){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=r.texture),e.setRenderTarget(this.renderTarget),this.clear&&e.clear(),this.fsQuad.render(e)}});var el=function(e,t){Yu.call(this),this.textureID=void 0!==t?t:"tDiffuse",e instanceof Cr||e instanceof Wi?(this.uniforms=e.uniforms,this.material=e):e&&(this.uniforms=Ar.clone(e.uniforms),this.material=new Wi({defines:Object.assign({},e.defines),uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),this.fsQuad=new Yu.FullScreenQuad(this.material)};el.prototype=Object.assign(Object.create(Yu.prototype),{constructor:el,render:function(e,t,r){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=r.texture),this.fsQuad.material=this.material,this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(t),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),this.fsQuad.render(e))},compile:function(e){var t=new qe,r=new We;r.material=this.material,t.add(r),e.compile(t,this.fsQuad._camera),t.children=[]}});var tl=new Lo.Scene;tl.hd=new Lo.Scene,tl.tilepickerScene=new Lo.Scene,tl.pickerScene=new Lo.Scene;var rl={tDiffuse:{type:"t",value:null},uResolution:{type:"v2",value:new Lo.Vector2(1,1)}},nl=new Vu("precision highp float;uniform sampler2D tDiffuse;uniform vec2 uResolution;varying vec2 vUv;\n#define FXAA_REDUCE_MIN   0.0078125 // (1.0/128.0)\n\n#define FXAA_REDUCE_MUL   0.03125   // (1.0/32.0)\n\n#define FXAA_SPAN_MAX     8.0\nconst vec3 a=vec3(0.299,0.587,0.114);const vec2 b=vec2(FXAA_SPAN_MAX);void main(){vec4 c=vec4(vUv+uResolution,vUv-uResolution);vec3 d=texture2D(tDiffuse,c.zw).rgb;vec3 e=texture2D(tDiffuse,c.xw).rgb;vec3 f=texture2D(tDiffuse,c.zy).rgb;vec3 g=texture2D(tDiffuse,c.xy).rgb;vec4 h=vec4(dot(d,a),dot(e,a),dot(f,a),dot(g,a));vec4 i=h.xzxy+h.ywzw;vec2 j=i.yz-i.xw;float k=FXAA_REDUCE_MUL*max(i.x+i.y,FXAA_REDUCE_MIN/FXAA_REDUCE_MUL);float l=min(abs(j.x),abs(j.y))+k;j=uResolution*clamp(j/l,-b,b);vec4 m=(texture2D(tDiffuse,vUv-j*0.16666666666667)+texture2D(tDiffuse,vUv+j*0.16666666666667));vec4 n=texture2D(tDiffuse,vUv);gl_FragColor=0.33333333333*(m+n);float o=distance(vUv,vec2(0.5));gl_FragColor.rgb*=1.0-0.17*smoothstep(0.42,0.65,o);}"),il=new Vu("attribute vec3 position;attribute vec2 uv;varying vec2 vUv;void main(){vUv=uv;gl_Position=vec4(position,1.0);}"),al=vs.getState(),ol={type:hs.render565?Lo.UnsignedShort565Type:Lo.UnsignedByteType,minFilter:Lo.LinearFilter,magFilter:Lo.LinearFilter,format:Lo.RGBFormat,stencilBuffer:!1},sl=new Lo.Vector2(1/al.canvasWidth,1/al.canvasHeight);rl.uResolution.value.copy(sl);var ul=new Lo.WebGLRenderTarget(al.renderWidth,al.renderHeight,ol);vs.listen((function(e){cl.setSize(e.renderWidth,e.renderHeight,e.canvasWidth,e.canvasHeight);var t=new Lo.Vector2(1/e.canvasWidth,1/e.canvasHeight);rl.uResolution.value.copy(t)}));var ll=hs.depthTexture,cl=new Ku(Vs,ul,ll),hl=new Ju(tl,gs);if(cl.addPass(hl),ll){var fl=new $u(cl.renderTargetHD);fl.src=cl.renderTarget2,cl.addPass(fl)}var pl=new Ju(tl.hd,gs);pl.autoClearColor=!1,pl.autoClearDepth=ll,pl.hd=ll,cl.addPass(pl);var dl=new el({name:"postprocess",uniforms:rl,vertexShader:il.value,fragmentShader:nl.value});dl.uniforms=rl,dl.material.uniforms=rl,dl.hd=ll,dl.needsSwap=!1,cl.addPass(dl);var ml=cl.render.bind(cl);Du((function(){ts.listen(ml)}));var vl={};hs.depthTexture&&(vl.uDepth={type:"t",value:cl.renderTarget2.depthTexture}),vl.uReadDepthOverride={type:"f",value:1},Tu.listen((function(e){vl.uReadDepthOverride.value=e.controls.lock2D?0:1}));var gl=new Lo.Vector3(5804542996261093e-21,13562911419845635e-21,3026590246882488e-20),yl=new Lo.Vector3(7633915830775757e-20,7544890573273999e-20,7411352687021361e-20),bl={luminance:{type:"f",value:1},turbidity:{type:"f",value:2},reileigh:{type:"f",value:1},mieCoefficient:{type:"f",value:.005},mieDirectionalG:{type:"f",value:.8},sunPosition:{type:"v3",value:new Lo.Vector3(0,0,0)},sunDirection:{type:"v3",value:new Lo.Vector3(0,0,0)},lightDirection:{type:"v3",value:new Lo.Vector3(0,0,0)},betaRM:{type:"v3",value:new Lo.Vector3(0,0,0)},betaRnorm:{type:"v3",value:new Lo.Vector3(0,0,0)},betaMnorm:{type:"v3",value:new Lo.Vector3(0,0,0)},constants:{type:"v4",value:new Lo.Vector4(0,0,0,0)},gamma:{type:"f",value:0},tonemapScale:{type:"f",value:0},update:function(){var e=bl.sunPosition.value,t=e.clone().normalize(),r=t.z;t.z=t.y,t.y=r,bl.sunDirection.value.copy(t);var n=e.clone().normalize();bl.lightDirection.value.copy(n);var i=bl.mieDirectionalG.value,a=Math.pow(.07957747154595*(1-i*i),-.666666666),o=-2*a*i,s=a*(i*i+1);bl.constants.value.y=o,bl.constants.value.z=s;var u=Math.pow(1-t.y,5);u=Lo.Math.clamp(u,0,1),bl.constants.value.w=u;var l=1-Lo.Math.clamp(1-Math.exp(e.z/45e4),0,1),c=bl.reileigh.value+l-1,h=.66666666666667*(Math.acos(t.y)-1.61107315568707),f=1e3*Math.max(0,1-Math.exp(h));bl.constants.value.x=19e3*f;var p=bl.turbidity.value,d=bl.mieCoefficient.value,m=gl.clone().multiplyScalar(c),v=yl.clone().multiplyScalar(p*d),g=new Lo.Vector3(f/(m.x+v.x),f/(m.y+v.y),f/(m.z+v.z)),y=m.clone().multiply(g).multiplyScalar(.01492077591487),b=v.clone().multiply(g);m.multiplyScalar(8400),v.multiplyScalar(1250),bl.betaRM.value.copy(m.add(v)),bl.betaRnorm.value.copy(y),bl.betaMnorm.value.copy(b);var x=1/(1.2+1.2*l);bl.gamma.value=x;var w=bl.luminance.value,_=1.7*Math.log(2/Math.pow(w,4))/Math.LN2;bl.tonemapScale.value=_}};bl.update();var xl=function(e){return(e*(.15*e+.05)+.004)/(e*(.15*e+.5)+.06)-.02/.3},wl={exposureBias:{type:"f",value:1},whitePoint:{type:"f",value:11.2},uTonemapExposureBias:{type:"f",value:1},uTonemapWhiteScale:{type:"f",value:1},update:function(){wl.uTonemapExposureBias.value=wl.exposureBias.value,wl.uTonemapWhiteScale.value=1/xl(wl.whitePoint.value)}},_l=new Lo.Vector3,Tl=new Lo.Vector3,El=!1,Sl={uFogDropoff:{type:"f",value:6e-4},uFogIntensity:{type:"f",value:.1},uFogColor:{type:"c",value:new Lo.Color},update:function(e){El=!e,e=e||Tu.getState(),_l.copy(e.target).sub(e.position),_l.z=_l.y,_l.y=0,_l.normalize(),(El||_l.distanceToSquared(Tl)>.01)&&(Sl.uFogColor.value.copy(function(e){var t=Math.max(0,e.y),r=t+Math.pow(17.6579343808112+260.4183050037293*t,-1.253),n=bl.betaRM.value.clone().multiplyScalar(-1/r);n.x=Math.exp(n.x),n.y=Math.exp(n.y),n.z=Math.exp(n.z);var i=bl.sunDirection.value.clone(),a=bl.constants.value.clone(),o=e.dot(i),s=o+1,u=bl.betaRnorm.value.clone(),l=bl.betaMnorm.value.clone();u.multiplyScalar(4+s*s),l.multiplyScalar(Math.pow(a.y*o+a.z,-1.5));var c=u.clone().add(l),h=new Lo.Vector3(Math.pow(c.x*(1-n.x),1.5),Math.pow(c.y*(1-n.y),1.5),Math.pow(c.z*(1-n.z),1.5));h.x*=1-a.w+a.w*Math.sqrt(c.x*n.x),h.y*=1-a.w+a.w*Math.sqrt(c.y*n.y),h.z*=1-a.w+a.w*Math.sqrt(c.z*n.z);var f=n.clone().multiplyScalar(.1),p=h.clone().add(f).multiplyScalar(.04).add(new Lo.Vector3(0,3e-4,75e-5)),d=bl.tonemapScale.value;p.multiplyScalar(d);var m=bl.gamma.value,v=wl.uTonemapExposureBias.value,g=wl.uTonemapWhiteScale.value;return p.x=Math.pow(v*xl(g*p.x),m),p.y=Math.pow(v*xl(g*p.y),m),p.z=Math.pow(v*xl(g*p.z),m),new Lo.Color(p.x,p.y,p.z)}(_l)),Tl.copy(_l))}};Tu.listen(Sl.update);var Ml=new Js({textureSize:256,poolSize:Fs});Ps.listen((function(e){var t=e.datasource;if(t.imagery)for(var r=0,n=["apiKey","urlFormat"];r<n.length;r++){var i=n[r];Ml[i]=t.imagery[i]}}));var Al=new Vu("precision highp float;uniform mat4 viewMatrix;uniform mat4 projectionMatrix;uniform vec3 cameraPosition;attribute vec3 tag;attribute vec4 tangent;attribute vec3 position;attribute vec4 color;uniform float uThickness;uniform vec3 uSelectedTag;varying vec4 vColor;varying float vAlpha;uniform vec2 uViewportInverse;vec4 a(const in vec3 b,const in float c){vec4 d=vec4(b,1.0);vec4 e=projectionMatrix*viewMatrix*d;d.xyz+=tangent.xyz;vec4 f=projectionMatrix*viewMatrix*d;vec2 g=f.xy/f.w-e.xy/e.w;vec2 h=g.yx*vec2(1.0,-1.0);h=c*e.w*normalize(h)*uViewportInverse;e.xy+=h;return e;}\n#define VIRTUAL_TEXTURE_ARRAY_BLOCKS 4.0\n\n#define VIRTUAL_TEXTURE_ARRAY_SIZE 512.0\n\n#define TEX_SIZE (VIRTUAL_TEXTURE_ARRAY_SIZE * VIRTUAL_TEXTURE_ARRAY_BLOCKS)\nconst vec2 i=vec2(1.0/TEX_SIZE,0.0);vec4 j(const in sampler2D k,in vec2 l){l-=0.5*i.xx;vec2 m=fract(l*TEX_SIZE);vec2 n=l-i.xx*m+0.5*i.xx;\n#ifdef HEIGHT_LOOKUP_BIAS\nvec4 o=texture2D(k,n,-10.0);vec4 p=texture2D(k,n+i,-10.0);vec4 q=texture2D(k,n+i.yx,-10.0);vec4 r=texture2D(k,n+i.xx,-10.0);\n#else\nvec4 o=texture2D(k,n);vec4 p=texture2D(k,n+i);vec4 q=texture2D(k,n+i.yx);vec4 r=texture2D(k,n+i.xx);\n#endif\nvec4 s=mix(o,p,m.x);vec4 t=mix(q,r,m.x);return mix(s,t,m.y);}vec4 u(in sampler2D v,in vec2 l,in float w){vec2 x=vec2(mod(float(w),VIRTUAL_TEXTURE_ARRAY_BLOCKS),floor(float(w)/VIRTUAL_TEXTURE_ARRAY_BLOCKS));const float y=0.5;vec2 z=vec2(y,VIRTUAL_TEXTURE_ARRAY_SIZE-y)/VIRTUAL_TEXTURE_ARRAY_SIZE;vec2 A=(clamp(l,z.x,z.y)+x)/VIRTUAL_TEXTURE_ARRAY_BLOCKS;\n#ifdef MANUAL_TEXTURE_BILINEAR\nreturn j(v,A);\n#else\nreturn texture2D(v,A);\n#endif\n}uniform lowp sampler2D indirectionTexture;uniform vec2 uGlobalOffset;uniform float uSceneScale;const float B=0.0008176665341588574;float C(in float D){float E=3.141592653589793-0.006135923151542565*D;float F=dot(vec2(0.5),exp(vec2(E,-E)));return F/(B*uSceneScale);}uniform lowp sampler2D elevationArray;float G(in vec2 d){const float H=32.0;const float I=1024.0;vec2 J=d.xy-uGlobalOffset;J/=(uSceneScale*H);J*=vec2(1.0,-1.0);vec2 K=J/I;const vec2 L=vec2(0.5);vec2 M=(floor(J-L)+L);M+=step(L,J-M);vec2 N=M/I;vec4 O=texture2D(indirectionTexture,N);float w=O.r;float P=O.g;vec2 Q=O.ba;vec2 A=K*P+Q;return C(J.y)*u(elevationArray,A,w).a;}void main(){vec3 b=position;b.z+=G(b.xy);gl_Position=a(b,uThickness);vColor=color;float R=step(distance(tag,uSelectedTag),0.0);gl_Position.z-=0.5+0.01*R;vColor.rgb=mix(vColor.rgb,vec3(1.0),0.8*R);vAlpha=sign(tangent.w);}"),Cl=new Vu("precision highp float;uniform float uCutoff;uniform vec4 uOutlineColor;varying vec4 vColor;varying float vAlpha;void main(){vec2 a=smoothstep(vec2(0.4,1.0)*uCutoff,vec2(0.5,1.0),abs(vec2(vAlpha)));a.x*=uOutlineColor.a;gl_FragColor=mix(vColor,vec4(uOutlineColor.rgb,0.0),a.xxxy);}"),Rl={uViewportInverse:{type:"v2",value:new Lo.Vector2(1,1)}};vs.listen((function(e){var t=e.height,r=e.width;Rl.uViewportInverse.value.set(1/r,1/t)}));var Ol=new Vu("precision highp float;uniform mat4 viewMatrix;uniform mat4 projectionMatrix;uniform mat4 uOrthoTransform;uniform vec3 cameraPosition;uniform float uLodScale;uniform vec3 uSelectedTag;uniform float uPixelRatio;uniform vec2 uViewportCanvasInverse;uniform float uReadDepthOverride;\n#ifdef READ_DEPTH\nuniform sampler2D uDepth;\n#endif\nattribute vec2 position;attribute vec4 anchor;attribute vec4 atlas;attribute vec4 background;attribute vec4 clipping;attribute vec4 color;attribute vec3 layout;attribute vec4 normal;attribute vec4 offset;attribute vec4 tag;varying vec4 vUv;varying vec4 vBox;varying vec4 vBackground;varying vec4 vColor;varying float vReadDepth;varying vec3 vLayout;float a(inout vec3 b){float c=dot(b,b);float d=inversesqrt(c);b=d*b;return c*d;}\n#define VIRTUAL_TEXTURE_ARRAY_BLOCKS 4.0\n\n#define VIRTUAL_TEXTURE_ARRAY_SIZE 512.0\n\n#define TEX_SIZE (VIRTUAL_TEXTURE_ARRAY_SIZE * VIRTUAL_TEXTURE_ARRAY_BLOCKS)\nconst vec2 e=vec2(1.0/TEX_SIZE,0.0);vec4 f(const in sampler2D g,in vec2 h){h-=0.5*e.xx;vec2 i=fract(h*TEX_SIZE);vec2 j=h-e.xx*i+0.5*e.xx;\n#ifdef HEIGHT_LOOKUP_BIAS\nvec4 k=texture2D(g,j,-10.0);vec4 l=texture2D(g,j+e,-10.0);vec4 m=texture2D(g,j+e.yx,-10.0);vec4 n=texture2D(g,j+e.xx,-10.0);\n#else\nvec4 k=texture2D(g,j);vec4 l=texture2D(g,j+e);vec4 m=texture2D(g,j+e.yx);vec4 n=texture2D(g,j+e.xx);\n#endif\nvec4 o=mix(k,l,i.x);vec4 p=mix(m,n,i.x);return mix(o,p,i.y);}vec4 q(in sampler2D r,in vec2 h,in float s){vec2 t=vec2(mod(float(s),VIRTUAL_TEXTURE_ARRAY_BLOCKS),floor(float(s)/VIRTUAL_TEXTURE_ARRAY_BLOCKS));const float u=0.5;vec2 v=vec2(u,VIRTUAL_TEXTURE_ARRAY_SIZE-u)/VIRTUAL_TEXTURE_ARRAY_SIZE;vec2 w=(clamp(h,v.x,v.y)+t)/VIRTUAL_TEXTURE_ARRAY_BLOCKS;\n#ifdef MANUAL_TEXTURE_BILINEAR\nreturn f(r,w);\n#else\nreturn texture2D(r,w);\n#endif\n}uniform lowp sampler2D indirectionTexture;uniform vec2 uGlobalOffset;uniform float uSceneScale;const float x=0.0008176665341588574;float y(in float z){float A=3.141592653589793-0.006135923151542565*z;float B=dot(vec2(0.5),exp(vec2(A,-A)));return B/(x*uSceneScale);}uniform lowp sampler2D elevationArray;float C(in vec2 D){const float E=32.0;const float F=1024.0;vec2 G=D.xy-uGlobalOffset;G/=(uSceneScale*E);G*=vec2(1.0,-1.0);vec2 H=G/F;const vec2 I=vec2(0.5);vec2 J=(floor(G-I)+I);J+=step(I,G-J);vec2 K=J/F;vec4 L=texture2D(indirectionTexture,K);float s=L.r;float M=L.g;vec2 N=L.ba;vec2 w=H*M+N;return y(G.y)*q(elevationArray,w,s).a;}\n#define SIZE vec2( 512.0, 1024.0 )\nvoid main(){vec3 O=offset.xyz;O.z=C(O.xy);vBackground=background;vColor=color;vLayout=uPixelRatio*layout;vReadDepth=clipping.y*uReadDepthOverride;vec3 P=cameraPosition-O;float Q=a(P);vec2 R=vec2(1.0,-1.0)*position;vec2 S=0.5*R+vec2(0.5);vUv.z=step(distance(tag.xyz,uSelectedTag),0.0);vec2 T=vec2(normal.w,offset.w)+1000000.0*vUv.zz;T=smoothstep(T,vec2(0.95,0.9)*T,vec2(Q));vUv.w=(0.6*T.x+0.4)*T.y;vUv.z*=tag.w;vec2 U=mix(atlas.ww*vec2(SIZE.y/SIZE.x,1.0),atlas.zw,T.x);vUv.xy=atlas.xy+U*S;vUv.w*=smoothstep(0.0,0.15,clipping.y+dot(P,normal.xyz));vUv.w*=step(0.3,vUv.w);vec2 u=layout.xx+layout.yy;vUv.xy+=(u*R)/SIZE;vec2 V=SIZE*U+2.0*u;V*=uPixelRatio;float W=min(0.5*Q,100.0+200.0*clipping.x);vec4 D=vec4(O+W*P,1.0);gl_Position=projectionMatrix*viewMatrix*D;vec2 X=2.0*gl_Position.w*uViewportCanvasInverse;\n#ifdef READ_DEPTH\nvec3 Y=0.5*gl_Position.xyz/gl_Position.w+vec3(0.5);float Z=texture2D(uDepth,Y.xy).x;float ba=projectionMatrix[3][2];Z/=1.0+0.02*Z/ba;vUv.w*=step(clipping.x*Y.z,Z);\n#endif\ngl_Position.xy=X*floor(gl_Position.xy/X+vec2(0.5));vec2 bb=0.5*X*V;gl_Position.xy+=X*(0.5*anchor.xy*V+anchor.zw);gl_Position.xy-=bb;const vec2 bc=vec2(0.5);vBox.xy=(gl_Position.xy+bb-bc)/X+vec2(0.5)/uViewportCanvasInverse;vBox.zw=V;vec2 bd=(position+vec2(1.0))*bb;bd-=bc;gl_Position.xy+=step(0.0001,vUv.w)*bd;vLayout.z=min(vLayout.z,0.5*vBox.w-vLayout.y);vLayout.z=max(0.0001,vLayout.z);}"),kl=new Vu("precision highp float;\n#ifdef READ_DEPTH\nuniform sampler2D uDepth;uniform vec2 uViewportCanvasInverse;\n#endif\nuniform sampler2D uMap;varying vec4 vUv;varying vec4 vBox;varying vec4 vBackground;varying vec4 vColor;varying float vReadDepth;varying vec3 vLayout;\n#define SIZE 512.0\nvoid main(){\n#ifdef READ_DEPTH\nfloat a=texture2D(uDepth,uViewportCanvasInverse*gl_FragCoord.xy).x;float b=vUv.w*step(vReadDepth*gl_FragCoord.z,a);\n#else\nfloat b=vUv.w;\n#endif\ngl_FragColor=vBackground;vec2 c=0.5*vBox.zw-vec2(vLayout.x+vLayout.y);vec2 d=clamp(gl_FragCoord.xy,vBox.xy-c,vBox.xy+c);float e=step(distance(d,gl_FragCoord.xy),0.0);vec4 f=texture2D(uMap,vUv.xy);vec4 g=step(vec4(1.0,3.0,2.0,4.0),vec4(vUv.y));g*=step(vec4(vUv.y),vec4(2.0,4.0,3.0,5.0));float h=length(g);f=mix(f,vec4(vec3(1.0),dot(g,f)),h);f.a*=e;f*=vColor;gl_FragColor.rgb=mix(gl_FragColor.rgb,f.rgb,f.a);gl_FragColor.a=max(gl_FragColor.a,f.a);float i=vLayout.z;c=0.5*vBox.zw-vec2(i+vLayout.y);d=clamp(gl_FragCoord.xy,vBox.xy-c,vBox.xy+c);float j=distance(d,gl_FragCoord.xy);c=vec2(max(i-1.0,0.0),i);float k=smoothstep(c.x,c.y,j);k*=step(0.4999,vLayout.y);gl_FragColor=mix(gl_FragColor,vec4(1.0),k);c+=vLayout.yy;gl_FragColor.a*=smoothstep(c.y,c.x,j);gl_FragColor.rgb+=vUv.z;gl_FragColor.a*=b;if(gl_FragColor.a<0.0001){discard;}}"),Pl={uMap:{type:"t",value:null},uPixelRatio:{type:"f",value:1},uViewportCanvasInverse:{type:"v2",value:new Lo.Vector2(1,1)}};vs.listen((function(e){var t=e.canvasHeight,r=e.pixelRatio,n=e.canvasWidth;Pl.uViewportCanvasInverse.value.set(1/n,1/t),Pl.uPixelRatio.value=r}));var Ll=new Vu("uniform mat4 modelViewMatrix;uniform mat4 projectionMatrix;uniform vec3 cameraPosition;attribute vec3 position;varying vec3 vPosition;void main(){vPosition=position.xzy;vPosition.y=max(0.0,vPosition.y);vec3 a=position;a.xy+=cameraPosition.xy;gl_Position=projectionMatrix*modelViewMatrix*vec4(a,1.0);}"),zl=new Vu("precision highp float;varying vec3 vPosition;uniform vec3 sunDirection;uniform vec3 betaRM;uniform vec3 betaRnorm;uniform vec3 betaMnorm;uniform vec4 constants;uniform float gamma;uniform float tonemapScale;float a(const float b,const float c){return pow(abs(b),c);}vec3 a(const vec3 b,const vec3 c){return pow(abs(b),c);}vec3 d(const vec3 b){return sqrt(abs(b));}const float e=0.15;const float f=0.50;const float g=0.10;const float h=0.20;const float i=0.02;const float j=0.30;uniform float uTonemapExposureBias;uniform float uTonemapWhiteScale;vec3 k(vec3 b){return ((b*(e*b+g*f)+h*i)/(b*(e*b+f)+h*j))-i/j;}vec3 l(vec3 m){return uTonemapExposureBias*k(uTonemapWhiteScale*m);}vec3 n(vec3 o){float p=max(0.0,o.y);float q=p+a(17.6579343808112+p*260.41830500372932,-1.253);vec3 r=exp(-betaRM/q);float s=dot(o,sunDirection);float t=s+1.0;vec3 u=betaRnorm*(4.0+t*t);vec3 v=betaMnorm*a(constants.y*s+constants.z,-1.5);vec3 w=u+v;vec3 x=a(w*(1.0-r),vec3(1.5));x*=mix(vec3(1.0),d(w*r),constants.w);vec3 y=0.1*r;\n#ifdef SUN_DISK\ny+=constants.x*r*smoothstep(0.9999566769,0.9999766769,s);\n#endif\nvec3 m=0.04*(x+y)+vec3(0.0,0.0003,0.00075);m=l(tonemapScale*m);return a(m,vec3(gamma));}void main(){vec3 o=normalize(vPosition);vec3 m=n(o);gl_FragColor=vec4(m,1.0);}");function Dl(){this.selected=null,this.bindListeners({animateAlongFeature:$o.animateAlongFeature,onFeatureSelected:$o.featureSelected})}Dl.prototype.animateAlongFeature=function(){this.selected=null},Dl.prototype.onFeatureSelected=function(e){this.selected=e},Dl.displayName="FeaturesStore";var Nl=y.createStore(Dl),Il={uSelectedTag:{type:"c",value:new Lo.Color}};Nl.listen((function(e){var t=e.selected,r=t&&t.tag?t.tag:65536;Il.selectedTag.value.set(r)}));var Fl=new Vu("precision highp float;uniform mat4 viewMatrix;uniform mat4 projectionMatrix;uniform vec3 cameraPosition;attribute vec4 position;uniform vec4 uOffset;uniform vec4 uImageryUvOffset;varying vec4 vUV;varying float D;\n#define VIRTUAL_TEXTURE_ARRAY_BLOCKS 4.0\n\n#define VIRTUAL_TEXTURE_ARRAY_SIZE 512.0\n\n#define TEX_SIZE (VIRTUAL_TEXTURE_ARRAY_SIZE * VIRTUAL_TEXTURE_ARRAY_BLOCKS)\nconst vec2 a=vec2(1.0/TEX_SIZE,0.0);vec4 b(const in sampler2D c,in vec2 d){d-=0.5*a.xx;vec2 e=fract(d*TEX_SIZE);vec2 f=d-a.xx*e+0.5*a.xx;\n#ifdef HEIGHT_LOOKUP_BIAS\nvec4 g=texture2D(c,f,-10.0);vec4 h=texture2D(c,f+a,-10.0);vec4 i=texture2D(c,f+a.yx,-10.0);vec4 j=texture2D(c,f+a.xx,-10.0);\n#else\nvec4 g=texture2D(c,f);vec4 h=texture2D(c,f+a);vec4 i=texture2D(c,f+a.yx);vec4 j=texture2D(c,f+a.xx);\n#endif\nvec4 k=mix(g,h,e.x);vec4 l=mix(i,j,e.x);return mix(k,l,e.y);}vec4 m(in sampler2D n,in vec2 d,in float o){vec2 p=vec2(mod(float(o),VIRTUAL_TEXTURE_ARRAY_BLOCKS),floor(float(o)/VIRTUAL_TEXTURE_ARRAY_BLOCKS));const float q=0.5;vec2 r=vec2(q,VIRTUAL_TEXTURE_ARRAY_SIZE-q)/VIRTUAL_TEXTURE_ARRAY_SIZE;vec2 s=(clamp(d,r.x,r.y)+p)/VIRTUAL_TEXTURE_ARRAY_BLOCKS;\n#ifdef MANUAL_TEXTURE_BILINEAR\nreturn b(n,s);\n#else\nreturn texture2D(n,s);\n#endif\n}uniform lowp sampler2D indirectionTexture;uniform vec2 uGlobalOffset;uniform float uSceneScale;const float t=0.0008176665341588574;float u(in float v){float w=3.141592653589793-0.006135923151542565*v;float x=dot(vec2(0.5),exp(vec2(w,-w)));return x/(t*uSceneScale);}uniform lowp sampler2D elevationArray;float y(in vec2 z){const float A=32.0;const float B=1024.0;vec2 C=z.xy-uGlobalOffset;C/=(uSceneScale*A);C*=vec2(1.0,-1.0);vec2 D=C/B;const vec2 E=vec2(0.5);vec2 F=(floor(C-E)+E);F+=step(E,C-F);vec2 G=F/B;vec4 H=texture2D(indirectionTexture,G);float o=H.r;float I=H.g;vec2 J=H.ba;vec2 s=D*I+J;return u(C.y)*m(elevationArray,s,o).a;}void main(){vec4 z=vec4(position.xy,0.0,1.0);z.xy*=uOffset.z;z.xy+=uOffset.xy;vec2 K=10.0*floor(position.zw/10.0);vec2 d=position.zw-K;z.z=y(z.xy);z.z-=0.01*uOffset.z*K.x;vUV.xy=uImageryUvOffset.z*d.xy+uImageryUvOffset.xy;vUV.zw=d.xy;D=distance(cameraPosition,z.xyz);gl_Position=projectionMatrix*viewMatrix*z;}"),Ul=new Vu("precision highp float;uniform vec4 uImageryUvOffset;varying vec4 vUV;varying float D;uniform lowp sampler2D imageryArray;uniform float uFogDropoff;uniform float uFogIntensity;uniform vec3 uFogColor;float a(in float b){float c=uFogIntensity*(1.0-exp(-b*uFogDropoff));return clamp(c,0.0,1.0);}float a(in vec3 d,in vec3 e){float b=distance(d,e);return a(b);}\n#define VIRTUAL_TEXTURE_ARRAY_BLOCKS 16.0\n\n#define VIRTUAL_TEXTURE_ARRAY_SIZE 256.0\n\n#define TEX_SIZE (VIRTUAL_TEXTURE_ARRAY_SIZE * VIRTUAL_TEXTURE_ARRAY_BLOCKS)\nconst vec2 f=vec2(1.0/TEX_SIZE,0.0);vec4 g(const in sampler2D h,in vec2 i){i-=0.5*f.xx;vec2 j=fract(i*TEX_SIZE);vec2 k=i-f.xx*j+0.5*f.xx;\n#ifdef HEIGHT_LOOKUP_BIAS\nvec4 l=texture2D(h,k,-10.0);vec4 m=texture2D(h,k+f,-10.0);vec4 n=texture2D(h,k+f.yx,-10.0);vec4 o=texture2D(h,k+f.xx,-10.0);\n#else\nvec4 l=texture2D(h,k);vec4 m=texture2D(h,k+f);vec4 n=texture2D(h,k+f.yx);vec4 o=texture2D(h,k+f.xx);\n#endif\nvec4 p=mix(l,m,j.x);vec4 q=mix(n,o,j.x);return mix(p,q,j.y);}vec4 r(in sampler2D s,in vec2 i,in float t){vec2 u=vec2(mod(float(t),VIRTUAL_TEXTURE_ARRAY_BLOCKS),floor(float(t)/VIRTUAL_TEXTURE_ARRAY_BLOCKS));const float v=0.5;vec2 w=vec2(v,VIRTUAL_TEXTURE_ARRAY_SIZE-v)/VIRTUAL_TEXTURE_ARRAY_SIZE;vec2 x=(clamp(i,w.x,w.y)+u)/VIRTUAL_TEXTURE_ARRAY_BLOCKS;\n#ifdef MANUAL_TEXTURE_BILINEAR\nreturn g(s,x);\n#else\nreturn texture2D(s,x);\n#endif\n}void main(){vec3 y=r(imageryArray,vUV.xy,uImageryUvOffset.w).rgb;float z=a(D);y=mix(y,uFogColor,z);gl_FragColor=vec4(y,1.0);}"),Bl=new Vu("precision highp float;uniform mat4 viewMatrix;uniform mat4 projectionMatrix;attribute vec4 position;uniform vec4 uOffset;uniform vec4 uImageryUvOffset;uniform vec3 uScaling;varying vec4 vUV;\n#define MANUAL_TEXTURE_BILINEAR 1\n\n#define VIRTUAL_TEXTURE_ARRAY_BLOCKS 4.0\n\n#define VIRTUAL_TEXTURE_ARRAY_SIZE 512.0\n\n#define TEX_SIZE (VIRTUAL_TEXTURE_ARRAY_SIZE * VIRTUAL_TEXTURE_ARRAY_BLOCKS)\nconst vec2 a=vec2(1.0/TEX_SIZE,0.0);vec4 b(const in sampler2D c,in vec2 d){d-=0.5*a.xx;vec2 e=fract(d*TEX_SIZE);vec2 f=d-a.xx*e+0.5*a.xx;\n#ifdef HEIGHT_LOOKUP_BIAS\nvec4 g=texture2D(c,f,-10.0);vec4 h=texture2D(c,f+a,-10.0);vec4 i=texture2D(c,f+a.yx,-10.0);vec4 j=texture2D(c,f+a.xx,-10.0);\n#else\nvec4 g=texture2D(c,f);vec4 h=texture2D(c,f+a);vec4 i=texture2D(c,f+a.yx);vec4 j=texture2D(c,f+a.xx);\n#endif\nvec4 k=mix(g,h,e.x);vec4 l=mix(i,j,e.x);return mix(k,l,e.y);}vec4 m(in sampler2D n,in vec2 d,in float o){vec2 p=vec2(mod(float(o),VIRTUAL_TEXTURE_ARRAY_BLOCKS),floor(float(o)/VIRTUAL_TEXTURE_ARRAY_BLOCKS));const float q=0.5;vec2 r=vec2(q,VIRTUAL_TEXTURE_ARRAY_SIZE-q)/VIRTUAL_TEXTURE_ARRAY_SIZE;vec2 s=(clamp(d,r.x,r.y)+p)/VIRTUAL_TEXTURE_ARRAY_BLOCKS;\n#ifdef MANUAL_TEXTURE_BILINEAR\nreturn b(n,s);\n#else\nreturn texture2D(n,s);\n#endif\n}uniform lowp sampler2D indirectionTexture;uniform vec2 uGlobalOffset;uniform float uSceneScale;const float t=0.0008176665341588574;float u(in float v){float w=3.141592653589793-0.006135923151542565*v;float x=dot(vec2(0.5),exp(vec2(w,-w)));return x/(t*uSceneScale);}uniform lowp sampler2D elevationArray;float y(in vec2 z){const float A=32.0;const float B=1024.0;vec2 C=z.xy-uGlobalOffset;C/=(uSceneScale*A);C*=vec2(1.0,-1.0);vec2 D=C/B;const vec2 E=vec2(0.5);vec2 F=(floor(C-E)+E);F+=step(E,C-F);vec2 G=F/B;vec4 H=texture2D(indirectionTexture,G);float o=H.r;float I=H.g;vec2 J=H.ba;vec2 s=D*I+J;return u(C.y)*m(elevationArray,s,o).a;}void main(){vec4 z=vec4(position.xy,0.0,1.0);z.xy*=uOffset.z;z.xy+=uOffset.xy;vec2 K=10.0*floor(position.zw/10.0);vec2 d=position.zw-K;z.z=y(z.xy);z.z-=0.01*uOffset.z*K.x;float L=uOffset.w;vec2 M=vec2(floor(L/256.0)/256.0,fract(L/256.0))*(256.0/255.0);vUV.xy=d.xy*uScaling.z;vUV.zw=M;gl_Position=projectionMatrix*viewMatrix*z;}"),jl=new Vu("\n#extension GL_OES_standard_derivatives : enable  \nprecision highp float;uniform vec3 uScaling;varying vec4 vUV;void main(){vec2 a=dFdx(vUV.xy);float b=log2(length(a));vec2 c=vUV.zw;float d=0.1*b+0.5;float e=256.0*255.0*gl_FragCoord.z;vec2 f=vec2(floor(e/256.0),mod(e,256.0))/255.0;float g=step(distance(gl_FragCoord.xy,uScaling.xy),4.0);vec4 h=vec4(c,0.0,d);vec4 i=vec4(0.0,0.0,f);gl_FragColor=mix(h,i,g);}"),Hl={uScaling:{value:new Lo.Vector3}};[Gu,Al,Ol,Fl,Bl].forEach((function(e){Us||e.define("MANUAL_TEXTURE_BILINEAR","1"),e.define("VIRTUAL_TEXTURE_ARRAY_BLOCKS",Math.sqrt(Ns).toExponential()),e.define("VIRTUAL_TEXTURE_ARRAY_SIZE",Is.toExponential())})),Ul.define("VIRTUAL_TEXTURE_ARRAY_BLOCKS",Math.sqrt(Fs).toExponential()),Ul.define("VIRTUAL_TEXTURE_ARRAY_SIZE",256..toExponential()),hs.depthTexture&&(Ol.define("READ_DEPTH",1),kl.define("READ_DEPTH",1));var Vl={beacon:new Lo.RawShaderMaterial({name:"_beacon",uniforms:g.assign({uAccuracy:{type:"f",value:25},uTime:{type:"f",value:0}},Hu),depthWrite:!1,vertexShader:Gu.value,fragmentShader:Wu.value,transparent:!0}),marker:function(){var e=new Lo.RawShaderMaterial({name:"marker",uniforms:g.assign({},vl,Hu,Pl,Il),vertexShader:Ol.value,fragmentShader:kl.value,transparent:!0});return e.defaultAttributeValues={},e}(),line:g.memoize((function(e,t,r){var n=Math.max(.3,(t-2)/t),i=new qu(e);e=[i.r,i.g,i.b,i.a],void 0!==r?(void 0===(i=new qu(r)).a&&(i.a=1),r=new Lo.Vector4(i.r,i.g,i.b,i.a)):r=new Lo.Vector4(0,0,0,0);var a=new Lo.RawShaderMaterial({name:"line",uniforms:g.assign({uCutoff:{type:"f",value:n},uOutlineColor:{type:"c",value:r},uThickness:{type:"f",value:t}},Hu,Rl,Il),vertexShader:Al.value,fragmentShader:Cl.value,transparent:!0});return a.defaultAttributeValues.color=e,a})),sky:new Lo.RawShaderMaterial({name:"sky",uniforms:g.assign({},bl,wl),depthWrite:!1,vertexShader:Ll.value,fragmentShader:zl.value,side:Lo.BackSide}),terrain:function(e){return{imagery:new Lo.RawShaderMaterial({uniforms:g.assign(e,{imageryArray:{value:Ml.textureArray}},Sl,Hu),vertexShader:Fl.value,fragmentShader:Ul.value}),picker:new Lo.RawShaderMaterial({uniforms:g.assign(e,Hu,Hl),vertexShader:Bl.value,fragmentShader:jl.value})}}};Vl.marker.index0AttributeName="offset",g.forOwn(Vl,(function(e){"RawShaderMaterial"===e.type&&(e.defaultAttributeValues={})}));var Gl=new Vu("uniform mat4 viewMatrix;uniform mat4 projectionMatrix;uniform vec3 cameraPosition;uniform float uPixelRatio;uniform vec2 uViewportCanvasInverse;attribute vec3 tag;attribute vec3 position;attribute vec3 tangent;attribute vec4 atlas;attribute vec4 anchor;attribute vec4 clipping;attribute vec3 layout;attribute vec4 normal;attribute vec4 offset;varying vec4 vTag;float a(inout vec3 b){float c=dot(b,b);float d=inversesqrt(c);b=d*b;return c*d;}\n#define VIRTUAL_TEXTURE_ARRAY_BLOCKS 4.0\n\n#define VIRTUAL_TEXTURE_ARRAY_SIZE 512.0\n\n#define TEX_SIZE (VIRTUAL_TEXTURE_ARRAY_SIZE * VIRTUAL_TEXTURE_ARRAY_BLOCKS)\nconst vec2 e=vec2(1.0/TEX_SIZE,0.0);vec4 f(const in sampler2D g,in vec2 h){h-=0.5*e.xx;vec2 i=fract(h*TEX_SIZE);vec2 j=h-e.xx*i+0.5*e.xx;\n#ifdef HEIGHT_LOOKUP_BIAS\nvec4 k=texture2D(g,j,-10.0);vec4 l=texture2D(g,j+e,-10.0);vec4 m=texture2D(g,j+e.yx,-10.0);vec4 n=texture2D(g,j+e.xx,-10.0);\n#else\nvec4 k=texture2D(g,j);vec4 l=texture2D(g,j+e);vec4 m=texture2D(g,j+e.yx);vec4 n=texture2D(g,j+e.xx);\n#endif\nvec4 o=mix(k,l,i.x);vec4 p=mix(m,n,i.x);return mix(o,p,i.y);}vec4 q(in sampler2D r,in vec2 h,in float s){vec2 t=vec2(mod(float(s),VIRTUAL_TEXTURE_ARRAY_BLOCKS),floor(float(s)/VIRTUAL_TEXTURE_ARRAY_BLOCKS));const float u=0.5;vec2 v=vec2(u,VIRTUAL_TEXTURE_ARRAY_SIZE-u)/VIRTUAL_TEXTURE_ARRAY_SIZE;vec2 w=(clamp(h,v.x,v.y)+t)/VIRTUAL_TEXTURE_ARRAY_BLOCKS;\n#ifdef MANUAL_TEXTURE_BILINEAR\nreturn f(r,w);\n#else\nreturn texture2D(r,w);\n#endif\n}uniform lowp sampler2D indirectionTexture;uniform vec2 uGlobalOffset;uniform float uSceneScale;const float x=0.0008176665341588574;float y(in float z){float A=3.141592653589793-0.006135923151542565*z;float B=dot(vec2(0.5),exp(vec2(A,-A)));return B/(x*uSceneScale);}uniform lowp sampler2D elevationArray;float C(in vec2 D){const float E=32.0;const float F=1024.0;vec2 G=D.xy-uGlobalOffset;G/=(uSceneScale*E);G*=vec2(1.0,-1.0);vec2 H=G/F;const vec2 I=vec2(0.5);vec2 J=(floor(G-I)+I);J+=step(I,G-J);vec2 K=J/F;vec4 L=texture2D(indirectionTexture,K);float s=L.r;float M=L.g;vec2 N=L.ba;vec2 w=H*M+N;return y(G.y)*q(elevationArray,w,s).a;}\n#define TUBE_RADIUS 20.0\n\n#define SIZE vec2( 512.0, 1024.0 )\nuniform vec2 uViewportInverse;vec4 O(const in vec3 P,const in float Q){vec4 D=vec4(P,1.0);vec4 R=projectionMatrix*viewMatrix*D;D.xyz+=tangent.xyz;vec4 S=projectionMatrix*viewMatrix*D;vec2 T=S.xy/S.w-R.xy/R.w;vec2 U=T.yx*vec2(1.0,-1.0);U=Q*R.w*normalize(U)*uViewportInverse;R.xy+=U;return R;}void main(){vTag.rgb=tag;float V=1.0-step(length(tag),0.0);float W=length(position.x);float X=step(W,1.00001);X*=step(0.99999,W);vec3 Y=mix(position,offset.xyz,X);Y.z=C(Y.xy);vec4 Z=O(Y,TUBE_RADIUS);vec3 ba=cameraPosition-Y;float bb=a(ba);vec2 bc=vec2(1.0,-1.0)*position.xy;vec2 bd=0.5*bc+vec2(0.5);vec4 be;vec2 bf=vec2(normal.w,offset.w);bf=smoothstep(bf,vec2(0.95,0.9)*bf,vec2(bb));be.w=(0.6*bf.x+0.4)*bf.y;vec2 bg=mix(atlas.ww*vec2(SIZE.y/SIZE.x,1.0),atlas.zw,bf.x);be.xy=atlas.xy+bg*bd;be.w*=smoothstep(0.0,0.15,clipping.y+dot(ba,normal.xyz));be.w*=step(0.3,be.w);vec2 u=layout.xx+layout.yy;be.xy+=(u*bc)/SIZE;vec2 bh=SIZE*bg+2.0*u;bh*=uPixelRatio;float bi=min(0.5*bb,100.0+200.0*clipping.x);vec4 D=vec4(Y+bi*ba,1.0);vec4 bj=projectionMatrix*viewMatrix*D;vec2 bk=2.0*bj.w*uViewportCanvasInverse;\n#ifdef READ_DEPTH\nvec3 bl=0.5*bj.xyz/bj.w+vec3(0.5);float bm=texture2D(uDepth,bl.xy).x;float bn=projectionMatrix[3][2];bm/=1.0+0.02*bm/bn;be.w*=step(clipping.x*bl.z,bm);\n#endif\nbj.xy=bk*floor(bj.xy/bk);vec2 bo=0.5*bk*bh;bj.xy+=bk*(0.5*anchor.xy*bh+anchor.zw);bj.xy-=bo;vec2 bp=(position.xy+vec2(1.0))*bo;bj.xy+=bp;gl_Position=V*mix(Z,bj,X);}"),Wl=new Vu("precision highp float;varying vec4 vTag;void main(){gl_FragColor=vTag;}"),ql={uPixelRatio:{type:"f",value:1},uViewportCanvasInverse:{type:"v2",value:new Lo.Vector2(1,1)},uViewportInverse:{type:"v2",value:new Lo.Vector2(1,1)}};vs.listen((function(e){var t=e.canvasHeight,r=e.canvasWidth,n=e.height,i=e.width,a=e.pixelRatio;ql.uViewportCanvasInverse.value.set(1/r,1/t),ql.uViewportInverse.value.set(1/i,1/n),ql.uPixelRatio.value=a}));var Xl,Yl,Zl,Kl,Ql,Jl,$l,ec,tc,rc=new Vu("precision highp float;uniform mat4 viewMatrix;uniform mat4 projectionMatrix;attribute vec4 position;uniform vec4 uOffset;varying vec2 vPosition;\n#define VIRTUAL_TEXTURE_ARRAY_BLOCKS 4.0\n\n#define VIRTUAL_TEXTURE_ARRAY_SIZE 512.0\n\n#define TEX_SIZE (VIRTUAL_TEXTURE_ARRAY_SIZE * VIRTUAL_TEXTURE_ARRAY_BLOCKS)\nconst vec2 a=vec2(1.0/TEX_SIZE,0.0);vec4 b(const in sampler2D c,in vec2 d){d-=0.5*a.xx;vec2 e=fract(d*TEX_SIZE);vec2 f=d-a.xx*e+0.5*a.xx;\n#ifdef HEIGHT_LOOKUP_BIAS\nvec4 g=texture2D(c,f,-10.0);vec4 h=texture2D(c,f+a,-10.0);vec4 i=texture2D(c,f+a.yx,-10.0);vec4 j=texture2D(c,f+a.xx,-10.0);\n#else\nvec4 g=texture2D(c,f);vec4 h=texture2D(c,f+a);vec4 i=texture2D(c,f+a.yx);vec4 j=texture2D(c,f+a.xx);\n#endif\nvec4 k=mix(g,h,e.x);vec4 l=mix(i,j,e.x);return mix(k,l,e.y);}vec4 m(in sampler2D n,in vec2 d,in float o){vec2 p=vec2(mod(float(o),VIRTUAL_TEXTURE_ARRAY_BLOCKS),floor(float(o)/VIRTUAL_TEXTURE_ARRAY_BLOCKS));const float q=0.5;vec2 r=vec2(q,VIRTUAL_TEXTURE_ARRAY_SIZE-q)/VIRTUAL_TEXTURE_ARRAY_SIZE;vec2 s=(clamp(d,r.x,r.y)+p)/VIRTUAL_TEXTURE_ARRAY_BLOCKS;\n#ifdef MANUAL_TEXTURE_BILINEAR\nreturn b(n,s);\n#else\nreturn texture2D(n,s);\n#endif\n}uniform lowp sampler2D indirectionTexture;uniform vec2 uGlobalOffset;uniform float uSceneScale;const float t=0.0008176665341588574;float u(in float v){float w=3.141592653589793-0.006135923151542565*v;float x=dot(vec2(0.5),exp(vec2(w,-w)));return x/(t*uSceneScale);}uniform lowp sampler2D elevationArray;float y(in vec2 z){const float A=32.0;const float B=1024.0;vec2 C=z.xy-uGlobalOffset;C/=(uSceneScale*A);C*=vec2(1.0,-1.0);vec2 D=C/B;const vec2 E=vec2(0.5);vec2 F=(floor(C-E)+E);F+=step(E,C-F);vec2 G=F/B;vec4 H=texture2D(indirectionTexture,G);float o=H.r;float I=H.g;vec2 J=H.ba;vec2 s=D*I+J;return u(C.y)*m(elevationArray,s,o).a;}void main(){vec4 z=vec4(position.xy,0.0,1.0);z.xy*=uOffset.z;z.xy+=uOffset.xy;vPosition=z.xy+vec2(32768.0);z.z=y(z.xy);gl_Position=projectionMatrix*viewMatrix*z;}"),nc=new Vu("precision highp float;varying vec2 vPosition;void main(){gl_FragColor=vec4(mod(vPosition.xy,256.0),floor(vPosition.xy/256.0))/255.0;}"),ic=Vs.domElement,ac={data:new Uint8Array(4*ic.width*ic.height),target:new Lo.WebGLRenderTarget(ic.width,ic.height)},oc={data:new Uint8Array(4*ic.width*ic.height),target:new Lo.WebGLRenderTarget(ic.width,ic.height)};vs.listen((function(e){var t=e.width,r=e.height,n=e.renderRatio,i=Math.sqrt(t*r/500),a=2*Math.round(.5*t/i),o=2*Math.round(.5*r/i);ac.target&&a===ac.target.width&&o===ac.target.height||(ac.target=new Lo.WebGLRenderTarget(a,o),ac.data=new Uint8Array(4*ac.target.width*ac.target.height),oc.target=new Lo.WebGLRenderTarget(16*a,16*o),oc.data=new Uint8Array(4*oc.target.width*oc.target.height),Hl.uScaling.value.set(.5*a,.5*o,256/(n*i)))}));var sc={mouse:{x:0,y:0},raycastPosition:new Lo.Vector3,init:function(){var e=new Lo.RawShaderMaterial({name:"picker",uniforms:g.assign({},Hu,ql),vertexShader:Gl.value,fragmentShader:Wl.value});e.index0AttributeName="offset",e.defaultAttributeValues=Vl.marker.defaultAttributeValues,tl.pickerScene.overrideMaterial=e,tl.pickerScene.lastCameraPosition=gs.position.clone();var t=new Lo.RawShaderMaterial({name:"raycast",uniforms:Hu,vertexShader:rc.value,fragmentShader:nc.value});sc.raycastScene=new Lo.Scene,sc.raycastScene.overrideMaterial=t;var r=vs.getState(),n={minFilter:Lo.NearestFilter,magFilter:Lo.NearestFilter};sc.renderTarget1px=new Lo.WebGLRenderTarget(1,1,n),sc.viewOffsetWidth=r.width,sc.viewOffsetHeight=r.height,sc.buffer=new Uint8Array(4)},stores:[],tagId:1,featureIdtoTagId:new Map,registerStore:function(e){-1===sc.stores.indexOf(e)&&sc.stores.push(e),e.data.forEach((function(e){!1!==e.properties.selectable&&(void 0!==e.id?((Yl=sc.featureIdtoTagId.get(e.id))||(Yl=sc.tagId++,sc.featureIdtoTagId.set(e.id,Yl)),e.tag=Yl):(e.tag=sc.tagId++,e.id=1e6+sc.tagId++))}))},pickFeature:function(e){sc.mouse.x=e.x,sc.mouse.y=e.y,e.clipspace&&(sc.mouse=vs.fromClipSpace(sc.mouse));var t=vs.toClipSpace(sc.mouse);for(t.add({x:1,y:1}).multiplyScalar(.5),(t.x<0||t.x>1||t.y<0||t.y>1)&&console.error("Click outside valid bounds:",t.x,t.y),t.x=Math.round(t.x*oc.target.width),t.y=Math.round(t.y*oc.target.height),Vs.setRenderTarget(oc.target),tl.pickerScene.lastCameraPosition.equals(gs.position)||(tl.pickerScene.lastCameraPosition.copy(gs.position),Vs.clear(!0,!0,!0),Xl=Vs.autoClearDepth,Vs.autoClearDepth=!1,Vs.render(tl.pickerScene,gs),Vs.autoClearDepth=Xl),Vs.readRenderTargetPixels(oc.target,t.x,t.y,1,1,sc.buffer),Vs.setRenderTarget(null),Zl=sc.buffer[0]<<16|sc.buffer[1]<<8|sc.buffer[2],Il.uSelectedTag.value.set(0===Zl?65536:Zl),Ql=0,Jl=sc.stores.length;Ql<Jl;Ql++)for(Kl=sc.stores[Ql],ec=0,tc=Kl.data.length;ec<tc;ec++)if(($l=Kl.data[ec]).tag===Zl)return $l;return null},raycastTerrain:function(e){return sc.mouse.x=e.x,sc.mouse.y=e.y,e.clipspace&&(sc.mouse=vs.fromClipSpace(sc.mouse)),gs.setViewOffset(sc.viewOffsetWidth,sc.viewOffsetHeight,sc.mouse.x,sc.mouse.y,1,1),Vs.setRenderTarget(sc.renderTarget1px),Vs.render(sc.raycastScene,gs),Vs.readRenderTargetPixels(sc.renderTarget1px,0,0,1,1,sc.buffer),gs.clearViewOffset(),sc.raycastPosition.set(sc.buffer[0]+256*sc.buffer[2]-32768,sc.buffer[1]+256*sc.buffer[3]-32768),32768===sc.raycastPosition.x&&32768===sc.raycastPosition.y?null:(sc.raycastPosition.z=iu(sc.raycastPosition),sc.raycastPosition)}};function uc(){this.data={},this.bindListeners({clearFeatures:$o.setCurrentPlace,addOverlay:[Jo.addOverlay,Jo.removeOverlay]})}vs.listen((function(e){sc.viewOffsetWidth=e.width,sc.viewOffsetHeight=e.height})),ts.listen((function(e){e.animating&&(tl.pickerScene.lastCameraPosition.x+=1e6)})),sc.init(),uc.prototype.clearFeatures=function(){return this.data=[],!1},uc.prototype.addOverlay=function(){this.waitFor(ju);var e=ju.getState().lines;if(g.isEqual(this.data,e))return!1;this.data=e.concat(),sc.registerStore(this)},uc.displayName="LineData";var lc=y.createStore(uc),cc={};function hc(){this.bindListeners({featureClicked:$o.featureClicked,featureSelected:$o.featureSelected,overlayDisplayed:Yo.overlayDisplayed})}var fc=function e(t){if(void 0!==t){if(Array.isArray(t))return t.map(e);if(t.geometry)return g.find(lc.getState().data,g.matchesProperty("geometry",t.geometry));var r=g.find(lc.getState().data,g.matchesProperty("id",t));return r||(r||((r=g.find(ju.getState().points,g.matchesProperty("id",t)))?r:r=g.find(ju.getState().markers,g.matchesProperty("id",t))))}};cc.addBuiltinOverlay=function(e){setTimeout((function(){Jo.addBuiltinOverlay(e)}),0)},cc.addOverlay=function(e){setTimeout((function(){Jo.addOverlay(e)}),0)},cc.updateOverlay=function(e){setTimeout((function(){Jo.updateOverlay(e)}),0)},cc.removeOverlay=function(e){setTimeout((function(){Jo.removeOverlay(e)}),0)},cc.highlightFeature=function(e){var t=fc(e);t&&setTimeout((function(){$o.featureSelected(t)}))},cc.focusOnFeature=function(e){var t=fc(e);t&&setTimeout((function(){$o.focusOnFeature(t)}))},cc.selectFeatures=function(e){e&&setTimeout((function(){$o.selectFeatures(e)}))};var pc=null;hc.prototype.featureSelected=function(e){pc!==e&&(pc=e,"function"===typeof cc.onFeatureSelected&&e&&void 0!==e.id&&cc.onFeatureSelected(e.id))},hc.prototype.featureClicked=function(e){"function"===typeof cc.onFeatureClicked&&e&&void 0!==e.id&&cc.onFeatureClicked(e.id)},hc.prototype.overlayDisplayed=function(e){"function"===typeof cc.onOverlayAdded&&e&&cc.onOverlayAdded(e)},hc.displayName="FeaturesExport",y.createStore(hc);var dc={play:function(){setTimeout((function(){Yo.play()}),0)},pause:function(){setTimeout((function(){Yo.pause()}),0)}},mc={setUserLocation:function(e){var t;t=void 0!==e.latitude&&void 0!==e.longitude?{coords:e}:e,setTimeout((function(){Qo.panToPosition(t)}),0)},toggleUserLocationTracking:function(){setTimeout((function(){Qo.toggleTracking()}),0)}},vc={setCameraModeControlVisible:function(e){setTimeout((function(){xs.setCameraModeControlVisible(e)}),0)},setCompassVisible:function(e){setTimeout((function(){xs.setCompassVisible(e)}),0)},setRotationControlVisible:function(e){setTimeout((function(){xs.setRotationControlVisible(e)}),0)},setUserLocationControlVisible:function(e){setTimeout((function(){xs.setUserLocationControlVisible(e)}),0)},setZoomControlVisible:function(e){setTimeout((function(){xs.setZoomControlVisible(e)}),0)}},gc=d(m((function(e,t){!function(e){function t(e,t){var r=L,n=void 0,i=void 0,a=void 0,o=void 0;for(o=arguments.length;o-- >2;)P.push(arguments[o]);for(t&&null!=t.children&&(P.length||P.push(t.children),delete t.children);P.length;)if((i=P.pop())&&void 0!==i.pop)for(o=i.length;o--;)P.push(i[o]);else"boolean"==typeof i&&(i=null),(a="function"!=typeof e)&&(null==i?i="":"number"==typeof i?i+="":"string"!=typeof i&&(a=!1)),a&&n?r[r.length-1]+=i:r===L?r=[i]:r.push(i),n=a;var s=new O;return s.nodeName=e,s.children=r,s.attributes=null==t?void 0:t,s.key=null==t?void 0:t.key,void 0!==k.vnode&&k.vnode(s),s}function r(e,t){for(var r in t)e[r]=t[r];return e}function n(e,t){e&&("function"==typeof e?e(t):e.current=t)}function i(e,n){return t(e.nodeName,r(r({},e.attributes),n),arguments.length>2?[].slice.call(arguments,2):e.children)}function a(e){!e._dirty&&(e._dirty=!0)&&1==j.push(e)&&(k.debounceRendering||z)(o)}function o(){for(var e=void 0;e=j.pop();)e._dirty&&E(e)}function s(e,t,r){return"string"==typeof t||"number"==typeof t?void 0!==e.splitText:"string"==typeof t.nodeName?!e._componentConstructor&&u(e,t.nodeName):r||e._componentConstructor===t.nodeName}function u(e,t){return e.normalizedNodeName===t||e.nodeName.toLowerCase()===t.toLowerCase()}function l(e){var t=r({},e.attributes);t.children=e.children;var n=e.nodeName.defaultProps;if(void 0!==n)for(var i in n)void 0===t[i]&&(t[i]=n[i]);return t}function c(e,t){var r=t?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e);return r.normalizedNodeName=e,r}function h(e){var t=e.parentNode;t&&t.removeChild(e)}function f(e,t,r,i,a){if("className"===t&&(t="class"),"key"===t);else if("ref"===t)n(r,null),n(i,e);else if("class"!==t||a)if("style"===t){if(i&&"string"!=typeof i&&"string"!=typeof r||(e.style.cssText=i||""),i&&"object"==typeof i){if("string"!=typeof r)for(var o in r)o in i||(e.style[o]="");for(var s in i)e.style[s]="number"==typeof i[s]&&!1===B.test(s)?i[s]+"px":i[s]}}else if("dangerouslySetInnerHTML"===t)i&&(e.innerHTML=i.__html||"");else if("o"==t[0]&&"n"==t[1]){var u=t!==(t=t.replace(/Capture$/,""));t=t.toLowerCase().substring(2),i?r||e.addEventListener(t,p,u):e.removeEventListener(t,p,u),(e._listeners||(e._listeners={}))[t]=i}else if("list"!==t&&"type"!==t&&!a&&t in e){try{e[t]=null==i?"":i}catch(e){}null!=i&&!1!==i||"spellcheck"==t||e.removeAttribute(t)}else{var l=a&&t!==(t=t.replace(/^xlink:?/,""));null==i||!1===i?l?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.removeAttribute(t):"function"!=typeof i&&(l?e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),i):e.setAttribute(t,i))}else e.className=i||""}function p(e){return this._listeners[e.type](k.event&&k.event(e)||e)}function d(){for(var e=void 0;e=H.shift();)k.afterMount&&k.afterMount(e),e.componentDidMount&&e.componentDidMount()}function m(e,t,r,n,i,a){V++||(G=null!=i&&void 0!==i.ownerSVGElement,W=null!=e&&!(U in e));var o=v(e,t,r,n,a);return i&&o.parentNode!==i&&i.appendChild(o),--V||(W=!1,a||d()),o}function v(e,t,r,n,i){var a=e,o=G;if(null!=t&&"boolean"!=typeof t||(t=""),"string"==typeof t||"number"==typeof t)return e&&void 0!==e.splitText&&e.parentNode&&(!e._component||i)?e.nodeValue!=t&&(e.nodeValue=t):(a=document.createTextNode(t),e&&(e.parentNode&&e.parentNode.replaceChild(a,e),y(e,!0))),a[U]=!0,a;var s=t.nodeName;if("function"==typeof s)return S(e,t,r,n);if(G="svg"===s||"foreignObject"!==s&&G,s+="",(!e||!u(e,s))&&(a=c(s,G),e)){for(;e.firstChild;)a.appendChild(e.firstChild);e.parentNode&&e.parentNode.replaceChild(a,e),y(e,!0)}var l=a.firstChild,h=a[U],f=t.children;if(null==h){h=a[U]={};for(var p=a.attributes,d=p.length;d--;)h[p[d].name]=p[d].value}return!W&&f&&1===f.length&&"string"==typeof f[0]&&null!=l&&void 0!==l.splitText&&null==l.nextSibling?l.nodeValue!=f[0]&&(l.nodeValue=f[0]):(f&&f.length||null!=l)&&g(a,f,r,n,W||null!=h.dangerouslySetInnerHTML),x(a,t.attributes,h),G=o,a}function g(e,t,r,n,i){var a=e.childNodes,o=[],u={},l=0,c=0,f=a.length,p=0,d=t?t.length:0,m=void 0,g=void 0,b=void 0,x=void 0,w=void 0;if(0!==f)for(var _=0;_<f;_++){var T=a[_],E=T[U],S=d&&E?T._component?T._component.__key:E.key:null;null!=S?(l++,u[S]=T):(E||(void 0!==T.splitText?!i||T.nodeValue.trim():i))&&(o[p++]=T)}if(0!==d)for(var M=0;M<d;M++){w=null;var A=(x=t[M]).key;if(null!=A)l&&void 0!==u[A]&&(w=u[A],u[A]=void 0,l--);else if(c<p)for(m=c;m<p;m++)if(void 0!==o[m]&&s(g=o[m],x,i)){w=g,o[m]=void 0,m===p-1&&p--,m===c&&c++;break}w=v(w,x,r,n),b=a[M],w&&w!==e&&w!==b&&(null==b?e.appendChild(w):w===b.nextSibling?h(b):e.insertBefore(w,b))}if(l)for(var C in u)void 0!==u[C]&&y(u[C],!1);for(;c<=p;)void 0!==(w=o[p--])&&y(w,!1)}function y(e,t){var r=e._component;r?M(r):(null!=e[U]&&n(e[U].ref,null),!1!==t&&null!=e[U]||h(e),b(e))}function b(e){for(e=e.lastChild;e;){var t=e.previousSibling;y(e,!0),e=t}}function x(e,t,r){var n=void 0;for(n in r)t&&null!=t[n]||null==r[n]||f(e,n,r[n],r[n]=void 0,G);for(n in t)"children"===n||"innerHTML"===n||n in r&&t[n]===("value"===n||"checked"===n?e[n]:r[n])||f(e,n,r[n],r[n]=t[n],G)}function w(e,t,r){var n=void 0,i=q.length;for(e.prototype&&e.prototype.render?(n=new e(t,r),A.call(n,t,r)):((n=new A(t,r)).constructor=e,n.render=_);i--;)if(q[i].constructor===e)return n.nextBase=q[i].nextBase,q.splice(i,1),n;return n}function _(e,t,r){return this.constructor(e,r)}function T(e,t,r,i,o){e._disable||(e._disable=!0,e.__ref=t.ref,e.__key=t.key,delete t.ref,delete t.key,void 0===e.constructor.getDerivedStateFromProps&&(!e.base||o?e.componentWillMount&&e.componentWillMount():e.componentWillReceiveProps&&e.componentWillReceiveProps(t,i)),i&&i!==e.context&&(e.prevContext||(e.prevContext=e.context),e.context=i),e.prevProps||(e.prevProps=e.props),e.props=t,e._disable=!1,r!==D&&(r!==N&&!1===k.syncComponentUpdates&&e.base?a(e):E(e,N,o)),n(e.__ref,e))}function E(e,t,n,i){if(!e._disable){var a=e.props,o=e.state,s=e.context,u=e.prevProps||a,c=e.prevState||o,h=e.prevContext||s,f=e.base,p=e.nextBase,v=f||p,g=e._component,b=!1,x=h,_=void 0,S=void 0,A=void 0;if(e.constructor.getDerivedStateFromProps&&(o=r(r({},o),e.constructor.getDerivedStateFromProps(a,o)),e.state=o),f&&(e.props=u,e.state=c,e.context=h,t!==I&&e.shouldComponentUpdate&&!1===e.shouldComponentUpdate(a,o,s)?b=!0:e.componentWillUpdate&&e.componentWillUpdate(a,o,s),e.props=a,e.state=o,e.context=s),e.prevProps=e.prevState=e.prevContext=e.nextBase=null,e._dirty=!1,!b){_=e.render(a,o,s),e.getChildContext&&(s=r(r({},s),e.getChildContext())),f&&e.getSnapshotBeforeUpdate&&(x=e.getSnapshotBeforeUpdate(u,c));var C=_&&_.nodeName,R=void 0,O=void 0;if("function"==typeof C){var P=l(_);(S=g)&&S.constructor===C&&P.key==S.__key?T(S,P,N,s,!1):(R=S,e._component=S=w(C,P,s),S.nextBase=S.nextBase||p,S._parentComponent=e,T(S,P,D,s,!1),E(S,N,n,!0)),O=S.base}else A=v,(R=g)&&(A=e._component=null),(v||t===N)&&(A&&(A._component=null),O=m(A,_,s,n||!f,v&&v.parentNode,!0));if(v&&O!==v&&S!==g){var L=v.parentNode;L&&O!==L&&(L.replaceChild(O,v),R||(v._component=null,y(v,!1)))}if(R&&M(R),e.base=O,O&&!i){for(var z=e,F=e;F=F._parentComponent;)(z=F).base=O;O._component=z,O._componentConstructor=z.constructor}}for(!f||n?H.push(e):b||(e.componentDidUpdate&&e.componentDidUpdate(u,c,x),k.afterUpdate&&k.afterUpdate(e));e._renderCallbacks.length;)e._renderCallbacks.pop().call(e);V||i||d()}}function S(e,t,r,n){for(var i=e&&e._component,a=i,o=e,s=i&&e._componentConstructor===t.nodeName,u=s,c=l(t);i&&!u&&(i=i._parentComponent);)u=i.constructor===t.nodeName;return i&&u&&(!n||i._component)?(T(i,c,F,r,n),e=i.base):(a&&!s&&(M(a),e=o=null),i=w(t.nodeName,c,r),e&&!i.nextBase&&(i.nextBase=e,o=null),T(i,c,N,r,n),e=i.base,o&&e!==o&&(o._component=null,y(o,!1))),e}function M(e){k.beforeUnmount&&k.beforeUnmount(e);var t=e.base;e._disable=!0,e.componentWillUnmount&&e.componentWillUnmount(),e.base=null;var r=e._component;r?M(r):t&&(null!=t[U]&&n(t[U].ref,null),e.nextBase=t,h(t),q.push(e),b(t)),n(e.__ref,null)}function A(e,t){this._dirty=!0,this.context=t,this.props=e,this.state=this.state||{},this._renderCallbacks=[]}function C(e,t,r){return m(r,e,{},!1,t,!1)}function R(){return{}}var O=function(){},k={},P=[],L=[],z="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout,D=0,N=1,I=2,F=3,U="__preactattr_",B=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,j=[],H=[],V=0,G=!1,W=!1,q=[];r(A.prototype,{setState:function(e,t){this.prevState||(this.prevState=this.state),this.state=r(r({},this.state),"function"==typeof e?e(this.state,this.props):e),t&&this._renderCallbacks.push(t),a(this)},forceUpdate:function(e){e&&this._renderCallbacks.push(e),E(this,I)},render:function(){}}),e.default={h:t,createElement:t,cloneElement:i,createRef:R,Component:A,render:C,rerender:o,options:k},e.h=t,e.createElement=t,e.cloneElement=i,e.createRef=R,e.Component=A,e.render=C,e.rerender=o,e.options=k,Object.defineProperty(e,"__esModule",{value:!0})}(t)}))),yc={constructor:1,render:1,shouldComponentUpdate:1,componentWillReceiveProps:1,componentWillUpdate:1,componentDidUpdate:1,componentWillMount:1,componentDidMount:1,componentWillUnmount:1,componentDidUnmount:1};var bc=gc;bc.createClass=function(e){function t(e,t){!function(e){for(var t in e){var r=e[t];"function"!==typeof r||r.__bound||yc.hasOwnProperty(t)||((e[t]=r.bind(e)).__bound=!0)}}(this),gc.Component.call(this,e,t)}var r=t.prototype=new gc.Component;for(var n in e)r[n]=e[n];return r.constructor=t};var xc,wc,_c,Tc,Ec,Sc,Mc=bc.render;bc.render=function(e,t){t.innerHTML=null,Mc(e,t)};var Ac=function(e){if("set"!==e.slice(0,3))throw new Error("Action must be called setX");return e.charAt(3).toLowerCase()+e.slice(4)};function Cc(e){function t(){var t={};for(xc=0,wc=e.length;xc<wc;xc++)_c=e[xc],Tc=_c[0],Sc=_c[1],Ec=Tc.data.name,this[Ac(Ec)]=Sc,t[Ec]=Tc;this.bindListeners(t)}for(xc=0,wc=e.length;xc<wc;xc++)_c=e[xc],Tc=_c[0],Ec=Tc.data.name,t.prototype[Ec]=function(e){return function(t){this[e]=t}}(Ac(Ec));return t}var Rc=Cc([[$o.setCurrentPlace,{}]]);Rc.displayName="PlacesStore";var Oc=y.createStore(Rc);function kc(){this.featuresLoaded=!1,this.renderedFeatureStatus={},this.featuresRendered=!1,this.bindListeners({renderedFeatureRegister:Yo.renderedFeatureRegister,renderedFeatureDisplayed:Yo.renderedFeatureDisplayed,setCurrentPlace:$o.setCurrentPlace,setFeatures:Jo.setFeatures})}kc.prototype.setCurrentPlace=function(){this.featuresLoaded=!1;for(var e=Object.keys(this.renderedFeatureStatus),t=0;t<e.length;t++)this.renderedFeatureStatus[e[t]]=!1;this.featuresRendered=!1,this.waitFor(Oc);var r=Oc.getState().currentPlace;setTimeout((function(){var e=Object(i.a)({angle:40,distance:5e3,bearing:0,animationDuration:.5},r);iu(e,(function(t){e.height=t,$o.focusOnLocation(e)}))}),0)},kc.prototype.setFeatures=function(){this.waitFor(Fu),this.featuresLoaded=!0},kc.prototype.renderedFeatureRegister=function(e){return this.renderedFeatureStatus[e]=!1,!1},kc.prototype.renderedFeatureDisplayed=function(e){this.renderedFeatureStatus[e]=!0;var t=Object.keys(this.renderedFeatureStatus);this.featuresRendered=this.featuresLoaded;for(var r=0;r<t.length;r++){this.renderedFeatureStatus[t[r]]||(this.featuresRendered=!1)}return this.featuresRendered},kc.displayName="EngineStore",y.createStore(kc);var Pc=Cc([[$o.setEnvironment,{}]]);Pc.displayName="EnvironmentStore";var Lc=y.createStore(Pc),zc={},Dc=4e5;zc.update=function(){bl.turbidity.value=zc.turbidity,bl.reileigh.value=zc.reileigh,bl.luminance.value=zc.luminance,bl.mieCoefficient.value=zc.mieCoefficient,bl.mieDirectionalG.value=zc.mieDirectionalG;var e=Math.PI*(zc.inclination-.5),t=2*Math.PI*(zc.azimuth-.5);bl.sunPosition.value.set(Dc*Math.sin(t)*Math.cos(e),Dc*Math.cos(t)*Math.cos(e),Dc*Math.sin(e)),bl.update(),Sl.update(),Sl.uFogDropoff.value=zc.fogDropoff,Sl.uFogIntensity.value=zc.fogIntensity,wl.exposureBias.value=zc.exposureBias,wl.whitePoint.value=zc.whitePoint,wl.update()},zc.set=function(e,t){if(0===t)Object.assign(zc,e),zc.update(),setTimeout((function(){Yo.needsRender({env:!0})}));else{var r=g.clone(zc),n=g.clone(e);Ts.transition((function(e){Object.assign(zc,e),zc.update(),setTimeout((function(){Yo.needsRender({env:!0})}))}),r,n,{duration:t,doNotCancel:!0,lerp:Ts.lerp.params,onComplete:function(){Yo.needsRender({env:!0})}})}},Lc.listen((function(e){var t=e.environment;zc.set(t.parameters,t.animationDuration)})),Oc.listen((function(e){var t=e.currentPlace;t.env&&zc.set(t.env,0)}));var Nc=function(){Lo.Object3D.call(this),this.sphere=new Lo.Mesh(new Lo.SphereBufferGeometry(50,32,15),Vl.beacon),this.add(this.sphere),this.visible=!1,tl.add(this),Ss.listen(this.update.bind(this)),ts.listen(this.tick.bind(this))};(Nc.prototype=Object.create(Lo.Object3D.prototype)).update=function(){var e=Ss.getState();if(e.longitude&&e.latitude&&!e.tooFar){this.visible=!0;var t=Xo.project([e.longitude,e.latitude]);this.position.copy(t),this.sphere.material.uniforms.uAccuracy.value=e.accuracy||0}else this.visible=!1},Nc.prototype.tick=function(e){this.sphere.material.uniforms.uTime.value=e.clock.elapsedTime},new Nc;var Ic,Fc,Uc,Bc,jc,Hc,Vc=function(e,t,r){nr.call(this),e=e||1048576,t=t||["position"],this.type="BufferMergeGeometry",this.indices=[];for(var n,i=this,a=0;a<t.length;a++){var o=t[a];"normal"===o?(n=new Int8Array(3*e),i.setAttribute(o,new Ft(n,3,!0))):"tangent"===o?(n=new Int8Array(4*e),i.setAttribute(o,new Ft(n,4,!0))):"color"===o?(n=new Uint8Array(4*e),i.setAttribute(o,new Ft(n,4,!0))):(n=new Float32Array(3*e),i.setAttribute(o,new Ft(n,3)))}r&&(n=new Uint8Array(3*e),i.setAttribute("tag",new Ft(n,3,!0))),this.attributeOffset=0,this.indexOffset=0};(Vc.prototype=Object.create(nr.prototype))._mergeIndices=function(e){for(var t=this.indices,r=e.index.array,n=e.index.array.length,i=0,a=this.indexOffset;i<n;i++,a++)t[a]=this.attributeOffset+r[i];this.indexOffset+=n},Vc.prototype.merge=function(e,t){var r,n,i,a,o,s;this._mergeIndices(e);var u=new Rt(t);u=new Uint8Array([255*u.r,255*u.g,255*u.b]);for(var l=Object.keys(this.attributes),c=0;c<l.length;c++){var h=l[c],f=this.attributes[h];if(a=f.array,"tag"===h&&t)for(r=0,n=3*this.attributeOffset,i=3*s;r<i;r+=3,n+=3)a.set(u,n);else e.attributes[h]&&(o=e.attributes[h].array,s=e.attributes[h].count,a.set(o,f.itemSize*this.attributeOffset))}return this.attributeOffset+=s,this},Vc.prototype.capacity=function(){return this.attributes.position.count-this.attributeOffset},Vc.prototype.freeze=function(){var e=new(this.attributes.position.count>65535?Uint32Array:Uint16Array)(this.indices);this.setIndex(new Ft(e,1));for(var t,r,n,i=Object.keys(this.attributes),a=0;a<i.length;a++)t=i[a],n=(r=this.attributes[t]).itemSize*this.attributeOffset,r.set(r.array.subarray(0,n)),this.setAttribute(t,new Ft(r.array.subarray(0,n),r.itemSize,r.normalized));return this};var Gc,Wc,qc,Xc,Yc,Zc,Kc,Qc,Jc={position:0,tangent:0,generate:function(e,t,r,n,i,a){Bc=i*(Uc=i*i),jc=2*t-2*r+(Ic=.5*(r-e))+(Fc=.5*(n-t)),Hc=-3*t+3*r-2*Ic-Fc,Jc.position=jc*Bc+Hc*Uc+Ic*i+t,a&&(Jc.tangent=3*jc*Uc+2*Hc*i+Ic)}},$c=new Lo.Vector3,eh=new qu,th=new Lo.Vector3,rh=new Lo.Vector3,nh={color:eh,position:th,tangent:rh},ih=function(e,t){Lo.Curve.call(this),this.hDelta=3,this.points=void 0===e?[]:e,this.colors=t?t.map((function(e){return new qu(e)})):void 0};(ih.prototype=Object.create(Lo.Curve.prototype)).getPoint=function(e){return Gc=this.points,Wc=(Gc.length-1)*e,qc=Math.floor(Wc),Xc=Wc-qc,Yc=Gc[0===qc?qc:qc-1],Zc=Gc[qc],Kc=Gc[qc>Gc.length-2?Gc.length-1:qc+1],Qc=Gc[qc>Gc.length-3?Gc.length-1:qc+2],$c=new Lo.Vector3,Jc.generate(Yc.x,Zc.x,Kc.x,Qc.x,Xc),$c.x=Jc.position,Jc.generate(Yc.y,Zc.y,Kc.y,Qc.y,Xc),$c.y=Jc.position,$c.z=this.hDelta,$c},ih.prototype.getTangentAt=function(e){var t=1e-5,r=e-t,n=e+t;r<0&&(r=0),n>1&&(n=1);var i=this.getPointAt(r);return this.getPointAt(n).clone().sub(i).normalize()},ih.prototype.getPointAndTangentAt=function(e){var t=this.getUtoTmapping(e);return this.getPointAndTangent(t)},ih.prototype.getPointAndTangent=function(e){return Gc=this.points,Wc=(Gc.length-1)*e,qc=Math.floor(Wc),Xc=Wc-qc,Yc=Gc[0===qc?qc:qc-1],Zc=Gc[qc],Kc=Gc[qc>Gc.length-2?Gc.length-1:qc+1],Qc=Gc[qc>Gc.length-3?Gc.length-1:qc+2],Jc.generate(Yc.x,Zc.x,Kc.x,Qc.x,Xc,!0),th.x=Jc.position,rh.x=Jc.tangent,Jc.generate(Yc.y,Zc.y,Kc.y,Qc.y,Xc,!0),th.y=Jc.position,rh.y=Jc.tangent,th.z=this.hDelta,rh.z=0,rh.normalize(),this.colors&&(Zc=this.colors[qc],Kc=this.colors[qc>Gc.length-2?Gc.length-1:qc+1],eh.set(Zc).lerp(Kc,Xc)),nh};for(var ah=new Array(2),oh=0;oh<2;oh++)ah[oh]=1-2*oh;var sh=function(e,t,r,n){this.type="LineGeometry";var i,a,o,s,u,l,c,h,f,p,d,m,v,g,y,b,x,w=(t=t||64)+1,_=-1!==(n=n||["position","normal","tangent"]).indexOf("color"),T=-1!==n.indexOf("normal"),E=-1!==n.indexOf("tangent");g=new Float32Array(3*w*2),this.attributes={position:new Lo.BufferAttribute(g,3)},_&&(y=new Uint8Array(4*w*2),this.attributes.color=new Lo.BufferAttribute(y,4,!1)),T&&(b=new Int8Array(3*w*2),this.attributes.normal=new Lo.BufferAttribute(b,3,!1)),E&&(x=new Int8Array(4*w*2),this.attributes.tangent=new Lo.BufferAttribute(x,4,!1));var S=0,M=0,A=new Array(w);for(u=0;u<w;u++)for(A[u]=[],o=u/t,a=(s=e.curve.getPointAndTangentAt(o)).tangent,i=s.color,c=2*u,l=0;l<2;l++){var C=4*S/3;A[u][l]=c+l,g[S]=s.position.x,g[S+1]=s.position.y,g[S+2]=s.position.z,r.writeTangent&&(g[S+2]=Math.atan2(a.y,a.x)),_&&(y[C]=255*i.r,y[C+1]=255*i.g,y[C+2]=255*i.b,y[C+3]=255*i.a),T&&(b[S]=127*ah[l]*a.y,b[S+1]=-127*ah[l]*a.x,b[S+2]=0),E&&(M=127-254*l,x[C]=M*a.x,x[C+1]=M*a.y,x[C+2]=M*a.z,x[C+3]=.5*M),S+=3}var R=2*t*6,O=g.length/3>65535?new Uint32Array(R):new Uint16Array(R);for(this.index=new Lo.BufferAttribute(O,1),S=0,u=0;u<t;u++)for(h=u+1,l=0;l<2;l++)f=(l+1)%2,p=A[u][l],d=A[h][l],m=A[h][f],v=A[u][f],O[S]=p,O[S+1]=d,O[S+2]=v,O[S+3]=d,O[S+4]=m,O[S+5]=v,S+=6};sh.prototype.constructor=sh,sh.prototype.dispose=function(){this.index=null,delete this.attributes};var uh,lh,ch,hh=performance||Date,fh={taskCount:0,workTimeout:30,completedTasks:[],createTask:function(e,t,r,n){if(0!==e.length){fh.taskCount++;var i,a,o,s,u,l=0,c=!1;Ko.listen((function h(f){if(a=hh.now(),s=fh.workTimeout+f.time,!(a>s)){for(fh.completedTasks.length>0&&s-a>10&&(o=fh.completedTasks.pop(),Ko.unlisten(o.step),fh.taskCount--,o.onComplete()),a=hh.now(),u=n?s:fh.workTimeout/fh.taskCount+a;a<s&&a<u&&(i=e[l++]);)t(i),a=hh.now();l>=e.length&&!c&&(c=!0,fh.completedTasks.unshift({step:h,onComplete:r}))}}))}else Du(r)}},ph=function(){Lo.Object3D.call(this),this.features=[],tl.add(this),this.maxIndex=65535,this.projectTime=0,this.curveTime=0,this.geomTime=0,this.mergeTime=0,this.matrixAutoUpdate=!1,this.updateMatrixWorld=function(){},this.parent=null,this.constantWidth=!1};(ph.prototype=Object.create(Lo.Object3D.prototype)).onNewData=function(e){this.features=e.data,this.update()},ph.prototype.remove=function(){this.children.forEach((function(e){e.geometry.dispose()})),this.children=[]},ph.prototype.update=function(){var e=this;this.remove(),this.constantWidth?this.bufferGeomAttributes=["position","tangent"]:this.bufferGeomAttributes=["position"],this.bufferGeoms={},this.materials={},this.curveTime=0,this.projectTime=0,this.geomTime=0,this.mergeTime=0,os("Starting processing",e.name),fh.createTask(e.features,e.addMesh.bind(e),(function(){var t=ss.now();g.each(e.bufferGeoms,(function(t,r){(lh=new Lo.Mesh(t.freeze(),e.materials[r])).frustumCulled=!1,e.add(lh)})),e.constructTime=ss.now()-t,os("Parsed",e.name),ss.timing(e.name,"project",null,e.projectTime),ss.timing(e.name,"curve",null,e.curveTime),ss.timing(e.name,"geom",null,e.geomTime),ss.timing(e.name,"merge",null,e.mergeTime),ss.timing(e.name,"construct",null,e.constructTime),os("instances:",e.children.length),Yo.renderedFeatureDisplayed(e.name)}))},ph.prototype.createGeometry=function(e){var t,r=ss.now(),n=Xo.vectorizeFeature(e),i=ss.now()-r;this.projectTime+=i,r=ss.now(),e.geometry.colors&&(e.geometry.coordinates.length!==e.geometry.colors.length?console.error("colors array for feature must have same length as positions array"):(t=e.geometry.colors,e.perVertexColors=!0));var a=new ih(n,t);e.curve=a,i=ss.now()-r,this.curveTime+=i,r=ss.now(),e.thickness=Nu.thickness(e),a.hDelta=3+.5*e.thickness,e.curve.arcLengthDivisions=10;var o=e.curve.getLength(),s=Math.round(o/25);s=(s=Math.max(s,2*e.geometry.coordinates.length))<10?10:s,e.curve.arcLengthDivisions=s,e.curve.needsUpdate=!0;var u={writeTangent:this.writeTangent};this.constantWidth||(u.thickness=e.thickness),e.geom=new sh(e,s,u,e.perVertexColors?this.bufferGeomAttributes.concat("color"):this.bufferGeomAttributes),i=ss.now()-r,this.geomTime+=i,delete e.geometry.colors,e.geometry.coordinates=[e.geometry.coordinates[0]]},ph.prototype.addMesh=function(e){void 0===e.geom&&this.createGeometry(e),ch=e.perVertexColors?null:Nu.color(e),uh=this.material(ch,e.thickness,e.properties?e.properties.outlineColor:void 0),this.materials[uh.uuid]||(this.materials[uh.uuid]=uh);var t=ss.now(),r=e.geom.attributes.position.count,n=e.perVertexColors?this.bufferGeomAttributes.concat("color"):this.bufferGeomAttributes;if(r>this.maxIndex){var i=new Vc(r,n,!!e.tag);i.merge(e.geom,e.tag),lh=new Lo.Mesh(i.freeze(),uh),this.add(lh),i.dispose()}else{this.bufferGeoms[uh.uuid]||(this.bufferGeoms[uh.uuid]=new Vc(this.maxIndex,n,!!e.tag));var a=this.bufferGeoms[uh.uuid];r>a.capacity()&&((lh=new Lo.Mesh(a.freeze(),uh)).frustumCulled=!1,this.add(lh),this.bufferGeoms[uh.uuid]=new Vc(this.maxIndex,n,!!e.tag),a=this.bufferGeoms[uh.uuid]),a.merge(e.geom,e.tag)}var o=ss.now()-t;this.mergeTime+=o,Yo.featureCreated(e)};var dh=function(){ph.call(this),lc.listen(this.onNewData.bind(this)),tl.pickerScene.add(this),this.material=Vl.line,this.name="lines",Yo.renderedFeatureRegister(this.name),this.constantWidth=!0};dh.prototype=Object.create(ph.prototype),new dh;var mh={"top-left":{x:1,y:-1},top:{x:0,y:-1},"top-right":{x:-1,y:-1},left:{x:1,y:0},center:{x:0,y:0},right:{x:-1,y:0},"bottom-left":{x:1,y:1},bottom:{x:0,y:1},"bottom-right":{x:-1,y:1}};function vh(e){return void 0===e||isNaN(e.x)||isNaN(e.y)?mh[e]||mh.bottom:e}var gh,yh=document.createElement("i"),bh=document.createElement("div");bh.style.position="absolute",bh.style.left="-999px",bh.style.top="-999px",bh.appendChild(yh),bh.style.display="none",document.body.appendChild(bh);var xh=g.memoize((function(e){return bh.style.display="block",yh.className="fa fa-"+e,gh=(gh=window.getComputedStyle(yh,":before").getPropertyValue("content")).replace(/['"]/g,""),bh.style.display="none",gh})),wh='-apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif';Math.log2=Math.log2||function(e){return Math.log(e)*Math.LOG2E};var _h=function(e,t,r){this.pixelRatio=window.devicePixelRatio,hs.depthTexture||(this.pixelRatio=1),this.pixelRatio=Math.min(this.pixelRatio,4),this.size=(e||512)*this.pixelRatio,this.size=Math.pow(2,Math.ceil(Math.log2(this.size))),this.width=this.size,this.height=2*this.size,this.spriteSize=40,this.monochromeBegin=.25*this.height,this.queue=[],this.padding=r||0,this.mapping=new Map,this.scratchCanvas=document.createElement("canvas"),this.scratchCanvas.width=this.width,this.scratchCanvas.height=this.height,this.scratch=this.scratchCanvas.getContext("2d"),this.scratch.textBaseline="middle",this.scratch.fillStyle="rgba(255, 255, 255, 1.0)",this.texture=new Lo.Texture(this.scratchCanvas),this.texture.wrapS=Lo.RepeatWrapping,this.texture.wrapT=Lo.RepeatWrapping,this.texture.minFilter=Lo.NearestFilter,this.texture.magFilter=Lo.NearestFilter,this.texture.generateMipmaps=!1,this.texture.flipY=!1,this.clear();var n=this;window.showAtlas=function(){n.scratchCanvas.style.position="absolute",n.scratchCanvas.style.width="512px",n.scratchCanvas.style.height="512px",n.scratchCanvas.style["pointer-events"]="none",n.scratchCanvas.style.opacity="0.9",document.children[0].children[1].appendChild(n.scratchCanvas)},this.defaultFontSize=11,this.checkFontAvailable()},Th=30;_h.prototype.checkFontAvailable=function(){this.testCanvas||(this.testCanvas=document.createElement("canvas"),this.testCanvas.width=16,this.testCanvas.height=16);var e=this.testCanvas.getContext("2d");e.font="32px FontAwesome",e.fillStyle="rgba(255, 255, 255, 1)";var t=xh("minus");if(e.fillText(t,0,16),e.getImageData(15,0,1,1).data[0]>250)Yo.fontsLoaded();else{var r=this;setTimeout((function(){r.checkFontAvailable(),0===--Th&&(console.error("FontAwesome has not loaded"),console.error("Please make sure you are including the relevant CSS in the <head> element, e.g."),console.error('<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">'))}),333)}},_h.prototype.checkContainerFont=function(){var e=document.getElementById("container"),t=e?document.defaultView.getComputedStyle(e)["font-family"]:null;t=t||"",this.font="FontAwesome, "+t+", "+wh,this.setFontSize(this.defaultFontSize)},_h.prototype.setFontSize=function(e){if(void 0===e&&(e=this.defaultFontSize),e!==this.fontSize)if(isNaN(e))console.error("Invalid font size");else{this.fontSize=e;var t=this.pixelRatio*Math.round(e)+"px ";t+=this.font,this.scratch.font=t,this.textHeight=this.getTextHeight()}},_h.prototype.getTextHeight=function(){return 1.3*this.scratch.measureText("M").width},_h.prototype.addImage=function(e,t,r){var n=e;void 0!==t&&(n+="#_#"+t),void 0!==r&&(n+="#_#"+r);var i=this.mapping.get(n);if(void 0!==i)return i;if(i=this.createTransform({width:this.pixelRatio*(void 0!==t?t:this.spriteSize),height:this.pixelRatio*(void 0!==r?r:this.spriteSize)}),this.mapping.set(n,i),i.z*i.w===0)return i;var a=new Lo.ImageLoader;a.setCrossOrigin("Anonymous");var o=this;return a.load(e,(function(e){var t=i.clone();t.x*=o.width,t.y*=o.height,t.z*=o.width,t.w*=o.height,o.scratch.clearRect(t.x,t.y,t.z,t.w),o.scratch.globalCompositeOperation="lighter",o.scratch.drawImage(e,t.x,t.y,t.z,t.w),o.texture.needsUpdate=!0,Yo.needsRender()})),i},_h.prototype.fillTextToChannel=function(e,t){var r=Math.floor(t.y/this.height);1===r?this.scratch.fillStyle="rgba(255, 255, 0, 1)":2===r?this.scratch.fillStyle="rgba(0, 255, 255, 1)":3===r&&(this.greenCleared||this.clearGreen(),this.scratch.fillStyle="rgba(0, 255, 0, 1)"),this.scratch.globalCompositeOperation="lighter";var n=t.y%this.height+.5*t.w;this.scratch.fillText(e,t.x,n)},_h.prototype.clearGreen=function(){this.scratch.globalCompositeOperation="multiply",this.scratch.fillStyle="rgba(255, 0, 255, 1)",this.scratch.fillRect(0,this.monochromeBegin,this.width,this.height),this.greenCleared=!0},_h.prototype.addText=function(e,t,r){this.font||this.checkContainerFont(),this.setFontSize(t);var n=e;void 0!==t&&(n+="#_#"+t);var i=this.mapping.get(n);if(void 0!==i)return i;var a=this.scratch.measureText(e.slice(0,1)).width,o=.5*(this.textHeight-a),s=this.scratch.measureText(e).width,u=Math.ceil(s+2*o);if(u<this.textHeight&&(u=this.textHeight,o=Math.floor(.5*(u-s))),i=this.createTransform({width:u,height:this.textHeight},!0),this.mapping.set(n,i),i.z*i.w===0)return i;var l=i.clone();return l.x*=this.width,l.y*=this.height,l.z*=this.width,l.w*=this.height,l.x+=o,r&&i.y<3?this.fillTextToChannel(e,l):this.queue.push({fontSize:t,text:e,transform:l}),i},_h.prototype.processQueue=function(){var e=this;fh.createTask(this.queue,(function(t){e.setFontSize(t.fontSize),e.fillTextToChannel(t.text,t.transform)}),(function(){Yo.needsRender(),e.queue=[],e.texture.needsUpdate=!0,os("Atlas text drawn")}),!0)},_h.prototype.clear=function(){this.mapping.clear(),os("ATLAS CLEAR"),this.scratch.globalCompositeOperation="copy",this.scratch.fillStyle="rgba(0, 0, 0, 1)",this.scratch.fillRect(0,this.monochromeBegin,this.width,this.height-this.monochromeBegin),this.usedX=0,this.usedY=0,this.greenCleared=!1,this.rowHeight=0,this.usedMonochromeX=0,this.usedMonochromeY=this.height+this.monochromeBegin,this.rowMonochromeHeight=0},_h.prototype.createTransform=function(e,t){var r=new Lo.Vector4,n=Math.ceil(e.width),i=Math.ceil(e.height),a=n+2*this.padding,o=i+2*this.padding,s=0;if(a>this.width||o>this.height)return console.error("Cannot fit object in atlas"),r;if(t){if(this.usedMonochromeX+a>this.width&&(this.usedMonochromeX=0,this.usedMonochromeY+=this.rowMonochromeHeight,this.rowMonochromeHeight=0),this.rowMonochromeHeight=Math.max(this.rowMonochromeHeight,o),Math.floor(this.usedMonochromeY/this.height)!==(s=Math.floor((this.usedMonochromeY+this.rowMonochromeHeight)/this.height))&&(this.usedMonochromeX=0,this.usedMonochromeY=s*this.height+this.monochromeBegin,this.rowMonochromeHeight=o),this.usedMonochromeY+this.rowMonochromeHeight>4*this.height)return console.error("Atlas capacity exceeded!"),r.z=0,r.w=0,r}else if(this.usedX+a>this.width&&(this.usedX=0,this.usedY+=this.rowHeight,this.rowHeight=0),this.rowHeight=Math.max(this.rowHeight,o),this.usedY+this.rowHeight>=this.monochromeBegin)return console.error("Atlas capacity exceeded!"),r.z=0,r.w=0,r;return t?(r.x=Math.round(this.usedMonochromeX+this.padding),r.y=Math.round(this.usedMonochromeY+this.padding),this.usedMonochromeX+=a):(r.x=Math.round(this.usedX+this.padding),r.y=Math.round(this.usedY+this.padding),this.usedX+=a),r.z=n,r.w=i,r.x/=this.width,r.y/=this.height,r.z/=this.width,r.w/=this.height,r};var Eh={none:{x:0,y:0},object:{x:1,y:0},pixel:{x:0,y:1}};function Sh(e){return void 0===e||isNaN(e.x)||isNaN(e.y)?Eh[e]||Eh.pixel:e}function Mh(){this.data=[],this.haveFonts=!1,this.isUpdate=!1,this.bindListeners({clearFeatures:$o.setCurrentPlace,fontsLoaded:Yo.fontsLoaded,addOverlay:[Jo.addBuiltinOverlay,Jo.addOverlay,Jo.setFeatures,Jo.removeOverlay],updateOverlay:Jo.updateOverlay})}Mh.prototype.clearFeatures=function(){return this.data=[],!0},Mh.prototype.isReady=function(){return this.haveFonts},Mh.prototype.fontsLoaded=function(){return this.haveFonts=!0,this.isReady()},Mh.prototype.addOverlay=function(){this.waitFor(ju);var e=ju.getState().markers;return!g.isEqual(this.data,e)&&(this.data=e.concat(),sc.registerStore(this),this.isUpdate=!1,this.isReady())},Mh.prototype.updateOverlay=function(){this.waitFor(ju);var e=ju.getState().markers;return this.data=e.concat(),this.isUpdate=!0,this.isReady()},Mh.displayName="MarkerData";var Ah=y.createStore(Mh),Ch=function(){this.defaultValue=Array.prototype.slice.call(arguments),0===this.defaultValue.length&&console.error("Need to provide default value(s)"),this.array=[],this.firstValue=null,this.onlyDuplicates=!0};Ch.prototype.push=function(){var e=Array.prototype.slice.call(arguments);this.defaultValue.length!==e.length&&console.error("Pushed item with incorrect length to PushList"),null===this.firstValue?this.firstValue=e:this.onlyDuplicates&&!g.isEqual(this.firstValue,e)&&(this.onlyDuplicates=!1),this.array.push.apply(this.array,e)},Ch.prototype.pushDefault=function(){this.push.apply(this,this.defaultValue)};var Rh=function(){this.positions=new Lo.BufferAttribute(new Float32Array([-1,-1,1,-1,1,1,-1,-1,1,1,-1,1]),2);var e=new Lo.InstancedBufferGeometry;e.setAttribute("position",this.positions),Lo.Mesh.call(this,e,Vl.marker),this.name="markers",Yo.renderedFeatureRegister(this.name),this.renderOrder=1e3,this.atlas=new _h,this.material.uniforms.uMap.value=this.atlas.texture,Ah.listen(this.onNewData.bind(this)),tl.hd.add(this),this.parent=null,tl.pickerScene.add(this),this.parent=null,this.visible=!1;var t=this;this.empty=!0,Tu.listen(this.checkVisibility.bind(this)),Oc.listen((function(){t.atlas.clear()}))};(Rh.prototype=Object.create(Lo.Mesh.prototype)).checkVisibility=function(){this.visible=!this.empty&&gs.near>20},Rh.prototype.onNewData=function(e){if(e.isUpdate)this.onUpdatedData(e);else{var t=ss.now(),r=this,n=e.data;if(this.empty=0===n.length,this.checkVisibility(),this.empty)return this.atlas.clear(),void Du((function(){Yo.renderedFeatureDisplayed(r.name)}));Du((function(){Yo.renderedFeatureRegister(r.name)})),this.geometry=new Lo.InstancedBufferGeometry,this.geometry.setAttribute("position",this.positions);var i=vh(),a=Sh("pixel"),o={anchor:new Ch(i.x,i.y,0,0),atlas:new Ch(0,0,0,0),background:new Ch(255,255,255,0),clipping:new Ch(a.x,a.y),color:new Ch(255,255,255,255),layout:new Ch(0,0,0),normal:new Ch(0,0,1,1e5),offset:new Ch(0,0,0,1e5),tag:new Ch(0,0,0,.2)};o.background.normalized=!0,o.color.normalized=!0,o.normal.dynamic=!0,o.offset.dynamic=!0,o.normal.onlyDuplicates=!1,o.offset.onlyDuplicates=!1;var s,u,l,c,h,f,p,d,m,v,y,b,x,w={x:0,y:0,z:0},_=gs.position.x,T=gs.position.y;n.forEach((function(e){b=e.properties,f=e.tag?new qu(e.tag):new qu(0),v=void 0!==b.highlightOpacity?b.highlightOpacity:.2,o.tag.push(f.r,f.g,f.b,v),b.color?(f=new qu(b.color),o.color.push(255*f.r,255*f.g,255*f.b,255*f.a)):o.color.pushDefault(),b.background?(c=new qu(b.background),o.background.push(255*c.r,255*c.g,255*c.b,255*c.a)):b.color?o.background.push(255*f.r,255*f.g,255*f.b,0):o.background.push(255,255,255,0),p=b.collapseDistance||1e5,m=b.fadeDistance||1e5,y=Xo.vectorizeFeature(e),o.offset.push(y.x,y.y,y.z,m),b.image?(l=r.atlas.addImage(b.image,b.width,b.height),o.atlas.push(l.x,l.y,l.z,l.w)):void 0!==b.name||void 0!==b.icon?(x="",void 0!==b.icon&&(x+=xh(b.icon),void 0!==b.name&&(x+="  ")),void 0!==b.name&&(x+=b.name),d=Math.abs(_-y.x)<4e3&&Math.abs(T-y.y)<4e3,l=r.atlas.addText(x,b.fontSize,d),o.atlas.push(l.x,l.y,l.z,l.w)):o.atlas.pushDefault(),h=b.clipping?Sh(b.clipping||"pixel"):a,o.clipping.push(h.x,h.y),s=vh(b.anchor),u=b.anchorOffset||{x:0,y:0},o.anchor.push(s.x,s.y,parseFloat(u.x)||0,parseFloat(u.y)||0),w.x=b.padding||0,w.y=b.borderWidth||0,w.z=b.borderRadius||0,o.layout.push(w.x,w.y,w.z),o.normal.push(0,0,1,p)})),this.atlas.processQueue(),g.forOwn(o,(function(e,t){if(e.onlyDuplicates){var n=e.firstValue||e.defaultValue;e.normalized&&(n=n.map((function(e){return e/255}))),r.material.defaultAttributeValues[t]=n}else{var i=e.normalized?Uint8Array:Float32Array,a=new Lo.InstancedBufferAttribute(new i(e.array),e.defaultValue.length,e.normalized,1);e.dynamic&&a.setUsage(Lo.DynamicDrawUsage),r.geometry.setAttribute(t,a)}}));var E=this.geometry.attributes.position;this.geometry.attributes.position=this.geometry.attributes.offset,this.geometry.computeBoundingSphere(),this.geometry.attributes.position=E,this.geometry.boundingSphere.center.z=2e3;var S=this.geometry.boundingSphere.radius;this.geometry.boundingSphere.radius=Math.max(S,2e3),this.visible=o.offset.array.length>0;var M=ss.now()-t;os("Parsed",this.name),os("Blit count",this.atlas.blitCount),ss.timing(this.name,"construct",null,M),Du((function(){Yo.renderedFeatureDisplayed(r.name),n.forEach((function(e){Yo.featureCreated(e)}))}))}},Rh.prototype.onUpdatedData=function(e){var t=this.geometry.attributes.offset,r=this.geometry.attributes.normal;if(void 0!==t){var n,i=0;e.data.forEach((function(e){n=Xo.vectorizeFeature(e),t.array[i]=n.x,t.array[i+1]=n.y,t.array[i+2]=n.z,r.array[i]=0,r.array[i+1]=0,r.array[i+2]=1,i+=4})),t.needsUpdate=!0,r.needsUpdate=!0}},new Rh;var Oh=new Lo.SphereBufferGeometry(.8*gs.far,32,6,0,2*Math.PI,0,.6*Math.PI),kh=new Lo.Matrix4;kh.makeRotationX(Math.PI/2),Oh.applyMatrix4(kh);var Ph=new Lo.Mesh(Oh,Vl.sky);Ph.geometry.computeBoundingBox(),Ph.renderOrder=1e4,tl.add(Ph);var Lh={uSkybox:{type:"t",value:null}},zh=new Vu("precision highp float;\n#define SUN_DISK\nuniform vec3 sunDirection;uniform vec3 betaRM;uniform vec3 betaRnorm;uniform vec3 betaMnorm;uniform vec4 constants;uniform float gamma;uniform float tonemapScale;float a(const float b,const float c){return pow(abs(b),c);}vec3 a(const vec3 b,const vec3 c){return pow(abs(b),c);}vec3 d(const vec3 b){return sqrt(abs(b));}const float e=0.15;const float f=0.50;const float g=0.10;const float h=0.20;const float i=0.02;const float j=0.30;uniform float uTonemapExposureBias;uniform float uTonemapWhiteScale;vec3 k(vec3 b){return ((b*(e*b+g*f)+h*i)/(b*(e*b+f)+h*j))-i/j;}vec3 l(vec3 m){return uTonemapExposureBias*k(uTonemapWhiteScale*m);}vec3 n(vec3 o){float p=max(0.0,o.y);float q=p+a(17.6579343808112+p*260.41830500372932,-1.253);vec3 r=exp(-betaRM/q);float s=dot(o,sunDirection);float t=s+1.0;vec3 u=betaRnorm*(4.0+t*t);vec3 v=betaMnorm*a(constants.y*s+constants.z,-1.5);vec3 w=u+v;vec3 x=a(w*(1.0-r),vec3(1.5));x*=mix(vec3(1.0),d(w*r),constants.w);vec3 y=0.1*r;\n#ifdef SUN_DISK\ny+=constants.x*r*smoothstep(0.9999566769,0.9999766769,s);\n#endif\nvec3 m=0.04*(x+y)+vec3(0.0,0.0003,0.00075);m=l(tonemapScale*m);return a(m,vec3(gamma));}\n#define STEP 0.00048828125\nvoid main(){vec2 z=gl_FragCoord.xy*STEP;vec3 o=2.0*vec3(z-0.5,0.0);float A=min(0.99999,length(o));A=sin(1.5707963267949*A);o=A*normalize(o);o.z=sqrt(max(0.0,1.0-dot(o,o)));vec3 m=n(normalize(o.xzy));gl_FragColor=vec4(m,1.0);}"),Dh=new Vu("attribute vec3 position;void main(){gl_Position=vec4(position,1.0);}"),Nh={camera:null,enabled:!0,renderTarget:null,scene:new Lo.Scene,init:function(){var e={format:Lo.RGBFormat,type:hs.render565?Lo.UnsignedShort565Type:Lo.UnsignedByteType,depthBuffer:!1,stencilBuffer:!1,wrapS:Lo.ClampToEdgeWrapping,wrapT:Lo.ClampToEdgeWrapping};Nh.width=256,Nh.camera=new Lo.OrthographicCamera(-1,1,1,-1,0,1e4),Nh.scene.add(Nh.camera),Nh.camera.position.z=10,Nh.camera.lookAt(new Lo.Vector3(0,0,0)),Nh.renderTarget=new Lo.WebGLRenderTarget(Nh.width,Nh.width,e),Lh.uSkybox.value=Nh.renderTarget.texture;var t=new Lo.PlaneBufferGeometry(2,2);zh.define("STEP",(1/Nh.width).toExponential());var r=new Lo.RawShaderMaterial({name:"skybox",uniforms:g.assign({},bl,wl),vertexShader:Dh.value,fragmentShader:zh.value}),n=new Lo.Mesh(t,r);Nh.scene.add(n),ts.listen((function(e){e.env&&Nh.process()}))},process:function(){Vs.setRenderTarget(Nh.renderTarget),Vs.render(Nh.scene,Nh.camera)}};Nh.init();var Ih=function e(t,r){var n=this;Object(c.a)(this,e);var i=[0,0];r=r||1;var a,o,s=i[0],u=i[1],l=(t=t||[1,1])[0],h=t[1],f=r+1,p=new Array(f*f);for(a=0;a<f;a++)for(o=0;o<f;o++){p[a*f+o]={x:s+a*(l/r),y:u-o*(h/r),uvx:a/r,uvy:o/r}}var d=6*r*r;d+=24*r,this.positions=new Float32Array(4*d),this.index=new Array(d);var m=0,v=function(e,t,r,i,a){var o=p[t],s=p[r],u=p[i],l=p[a],c=function(e){return[e.x,e.y,e.uvx,e.uvy]};n.positions.set(c(o),4*(e+0)),n.positions.set(c(s),4*(e+1)),n.positions.set(c(u),4*(e+2)),n.positions.set(c(u),4*(e+3)),n.positions.set(c(s),4*(e+4)),n.positions.set(c(l),4*(e+5)),n.index[e+0]=t,n.index[e+1]=r,n.index[e+2]=i,n.index[e+3]=i,n.index[e+4]=r,n.index[e+5]=a};for(a=0;a<r;a++)for(o=0;o<r;o++,m++){v(6*m,a*f+o,a*f+o+1,(a+1)*f+o,(a+1)*f+o+1)}for(var g=0;g<4;g++)for(var y=0;y<r;y++,m++){0===g?(a=0,o=y):1===g?(a=r,o=y):2===g?(a=y,o=0):3===g&&(a=y,o=r);var b=void 0,x=void 0;if(g<2?(b=p[a*f+o],x=p[a*f+o+1]):(b=p[a*f+o],x=p[(a+1)*f+o]),0===g||3===g){var w=[x,b];b=w[0],x=w[1]}var _=b,T=x;this.positions[24*m]=b.x,this.positions[24*m+1]=b.y,this.positions[4*(6*m+1)]=x.x,this.positions[4*(6*m+1)+1]=x.y,this.positions[4*(6*m+2)]=_.x,this.positions[4*(6*m+2)+1]=_.y,this.positions[4*(6*m+3)]=_.x,this.positions[4*(6*m+3)+1]=_.y,this.positions[4*(6*m+4)]=x.x,this.positions[4*(6*m+4)+1]=x.y,this.positions[4*(6*m+5)]=T.x,this.positions[4*(6*m+5)+1]=T.y,this.positions[24*m+2]=b.uvx,this.positions[24*m+3]=b.uvy,this.positions[4*(6*m+1)+2]=x.uvx,this.positions[4*(6*m+1)+3]=x.uvy,this.positions[4*(6*m+2)+2]=_.uvx+10,this.positions[4*(6*m+2)+3]=_.uvy+10,this.positions[4*(6*m+3)+2]=_.uvx+10,this.positions[4*(6*m+3)+3]=_.uvy+10,this.positions[4*(6*m+4)+2]=x.uvx,this.positions[4*(6*m+4)+3]=x.uvy,this.positions[4*(6*m+5)+2]=T.uvx+10,this.positions[4*(6*m+5)+3]=T.uvy+10}for(d=p.length,this.grid=new Float32Array(4*d),a=0;a<d;a++){var E=p[a];this.grid[4*a+0]=E.x,this.grid[4*a+1]=E.y,this.grid[4*a+2]=E.uvx,this.grid[4*a+3]=E.uvy}},Fh=[],Uh=1,Bh=function(){function e(){Object(c.a)(this,e),this.id=Uh++;var t=this.refreshIndices.bind(this);Ml.addListener(t),$s.addListener(t);var r=e.geometry[64];this.offset=new Lo.Vector4(0,0,1,1),this.imageryUvOffset=new Lo.Vector4;var n=Vl.terrain({uOffset:{value:this.offset},uImageryUvOffset:{value:this.imageryUvOffset}});this.mesh=new Lo.Mesh(r,n.imagery),this.pickerMesh=new Lo.Mesh(r,n.picker),this.init.apply(this,arguments)}return Object(o.a)(e,[{key:"init",value:function(t,r,n){if(isNaN(t)||isNaN(r)||isNaN(n))throw Error("Invalid tile initialization");this.wasSeen=!1,this.wasRendered=!1,tl.add(this.mesh),tl.tilepickerScene.add(this.pickerMesh),this.x=t,this.y=r,this.z=n;var i=Math.max(2,this.z-10);this.x2=Math.floor(this.x/Math.pow(2,i)),this.y2=Math.floor(this.y/Math.pow(2,i)),this.z2=this.z-i;var a=1024/Math.pow(2,i);a=Math.min(64,Math.max(1,a));var o=e.geometry[a].clone(),s=e.geometry[Math.max(1,a/8)].clone();this.mesh.geometry=o,this.pickerMesh.geometry=s,this.calculateOffset(),this.imageryKey=qo.tileToQuadkey([this.x,this.y,this.z]),this.elevationKey=qo.tileToQuadkey([this.x2,this.y2,this.z2]),this.imageryIndex=0,this.elevationIndex=0;var u=new Lo.Vector3(this.offset.x+.5*this.offset.z,this.offset.y-.5*this.offset.z,.5*this.offset.w*3800),l=Math.max(.5*this.offset.w*4200,.5*this.offset.z);l*=Math.sqrt(3);var c=new Lo.Sphere(u,l);return this.mesh.geometry.boundingSphere=c,this.pickerMesh.geometry.boundingSphere=c,this}},{key:"calculateOffset",value:function(){var e=Os.getState(),t=e.sceneScale,r=e.globalOffset,n=Math.pow(2,15-this.z)*t;this.offset.set(this.x*n+r.x,-this.y*n+r.y,n,this.id)}},{key:"split",value:function(){var t=qo.getChildren([this.x,this.y,this.z]);return t=[this.init.apply(this,Object(a.a)(t[0])),e.next.apply(e,Object(a.a)(t[1])),e.next.apply(e,Object(a.a)(t[2])),e.next.apply(e,Object(a.a)(t[3]))]}},{key:"grow",value:function(){return this.init.apply(this,Object(a.a)(qo.getParent([this.x,this.y,this.z]))),this}},{key:"shift",value:function(e,t,r){r>this.z&&console.error("Cannot shift at zoom level bigger than this.z");var n=Math.round(this.x+e*Math.pow(2,this.z-r)),i=Math.round(this.y+t*Math.pow(2,this.z-r));return this.init(n,i,this.z),this}},{key:"recycle",value:function(){Fh.push(this),tl.remove(this.mesh),tl.tilepickerScene.remove(this.pickerMesh)}},{key:"fetchData",value:function(){this.wasSeen||this.z<8?($s.fetchIfNeeded(this.elevationKey),Ml.fetchIfNeeded(this.imageryKey)):this.wasRendered&&this.z>10?Ml.fetchIfNeeded(this.imageryKey.slice(0,-2)):(Ml.fetchIfNeeded(this.imageryKey.slice(0,5)),$s.fetchIfNeeded(this.elevationKey.slice(0,5))),this.refreshIndices()}},{key:"calculateImageryOffset",value:function(e){var t=e.quadkey?this.imageryKey.length-e.quadkey.length:0,r=Math.pow(2,-t),n=e.quadkey?qo.quadkeyToTile(e.quadkey):[this.x,this.y,this.z],i=Object(s.a)(n,2),a=i[0],o=i[1];this.imageryUvOffset.set(this.x*r-a,this.y*r-o,r,this.imageryIndex)}},{key:"refreshIndices",value:function(){var e=qo.quadkeyToTile(this.imageryKey),t=qo.tileToQuadkey(e);this.elevationIndex=$s.findBestAvailableData(t,!0).index,this.bestImagery=Ml.findBestAvailableData(this.imageryKey),this.imageryIndex=this.bestImagery.index,this.calculateImageryOffset(this.bestImagery)}},{key:"onSeen",value:function(){$s.indexPool.tap(this.elevationIndex),Ml.indexPool.tap(this.imageryIndex)}}]),e}();Bh.next=function(){var e;return Fh.length>0?(e=Fh.splice(0,1)[0]).init.apply(e,arguments):Object(n.a)(Bh,Array.prototype.slice.call(arguments))};var jh,Hh,Vh,Gh=64;for(Bh.geometry=[];Gh>=1;){var Wh=new Ih([1,1],Gh),qh=new Lo.BufferGeometry;qh.setAttribute("position",new Lo.Float32BufferAttribute(Wh.positions,4)),Bh.geometry[Gh]=qh,Gh/=2}var Xh=new Lo.Vector2,Yh=1/0;Oc.listen((function(e){var t=e.currentPlace,r=qo.pointToTileFraction(Cs.snap(t.longitude),Cs.snap(t.latitude),5),n=Object(s.a)(r,3);jh=n[0],Hh=n[1],Vh=n[2];var i=Os.getState().sceneScale;Yh=.6*i*Math.pow(2,10),jh=Math.floor(jh),Hh=Math.floor(Hh),function(){var e;Kh.forEach((function(e){return e.recycle()})),(Kh=[]).push(Bh.next(jh,Hh,Vh));var t=Kh[0].split();(e=Kh).push.apply(e,Object(a.a)(t.splice(1,3))),Kh.forEach((function(e){return e.fetchData()}))}()}));var Zh,Kh=[],Qh={},Jh=0,$h=null,ef=!1;ts.listen((function(){if(0!==Kh.length){Jh++;var e=new Set,t=new Set,r=new Set,n={},i=1,o=5+1*i+1,s=Jh%o,u=0===s,l=(s-1-4)%1===0&&s>4&&s<5+1*i,c=s===o-1;if(ef||(u=!0,l=!0,c=!0,i=1),u&&(Vs.setRenderTarget(ac.target),Vs.clear(!0,!0,!0),Vs.render(tl.tilepickerScene,gs),Vs.setRenderTarget(null),Zh=gs.projectionMatrix.elements),l){var h=ef?(s-1-4)/1:0,f=4*ac.target.width*ac.target.height/i,p=new Uint8Array(ac.data.buffer,h*f,f);Vs.readRenderTargetPixels(ac.target,0,h*ac.target.height/i,ac.target.width,ac.target.height/i,p),Vs.setRenderTarget(null)}c&&function(){var i,o,s=2*(ac.target.width+ac.target.width*ac.target.height);s=Math.round(s);var u=256*ac.data[s+2]+ac.data[s+3];u/=65280,$h=Zh[14]/(2*u-1+Zh[10]),Tu.getState().controls.setDistanceToTarget($h);var l=ac.data.length;for(s=0;s<l;s+=4)if(i=256*ac.data[s]+ac.data[s+1],o=10*(o=ac.data[s+3]/255)-5,0!==i){var c=Kh.find((function(e){return e.id===i}));void 0!==c&&(o<(window.minError||-1.5)&&c.z<18?(t.add(c),e.add(c)):o>(window.maxError||0)&&c.z>7?r.add(c):e.add(c))}Kh.forEach((function(t){(void 0===Qh[t.imageryKey]&&(Qh[t.imageryKey]=0),e.has(t))?Qh[t.imageryKey]=0:Qh[t.imageryKey]++>5&&r.add(t)}));var h=new Set(Object(a.a)(r).filter((function(e){return t.has(e)})));r=new Set(Object(a.a)(r).filter((function(t){return!h.has(t)&&!e.has(t)}))),t=new Set(Object(a.a)(t).filter((function(e){return!h.has(e)}))),Object(a.a)(e).filter((function(e){return!t.has(e)})).forEach((function(e){return e.wasSeen=!0})),Object(a.a)(Kh).filter((function(e){return!t.has(e)})).forEach((function(e){return e.wasRendered=!0})),r.forEach((function(e){var t=e.imageryKey.slice(0,-1);void 0===n[t]?n[t]=new Set([e]):n[t].add(e)})),t.forEach((function(e){var t;if(!window.noSplit){var r=e.split();r.forEach((function(e){return e.fetchData()})),(t=Kh).push.apply(t,Object(a.a)(r.splice(1,3)))}})),0===t.size&&(ef=!0),Object.values(n).forEach((function(e){if(4===e.size){var t=Object(a.a)(e),r=t[0],n=t.splice(1,3);delete Qh[r.imageryKey],r.grow().fetchData(),n.forEach((function(e){var t=Kh.indexOf(e);Kh.splice(t,1),delete Qh[e.imageryKey],e.recycle()}))}}));var f=Tu.getState().target;Kh.forEach((function(e){Xh.copy(e.mesh.geometry.boundingSphere.center),Xh.sub(f);var t=Math.abs(Xh.x)>Yh?-Math.sign(Xh.x):0,r=Math.abs(Xh.y)>Yh?Math.sign(Xh.y):0;(t||r)&&(e.shift(t,r,5),e.fetchData())})),Kh.filter((function(e){return e.bestImagery.downsample>0})).forEach((function(e){return e.fetchData()})),Kh.forEach((function(e){Qh[e.imageryKey]<10&&e.onSeen()}))}(),Ml.hasUpdates&&Ml.broadcastUpdate(),$s.hasUpdates&&$s.broadcastUpdate()}}));var tf=vs.getState().element,rf={mouse:{x:0,y:0},init:function(){var e=function(e){if(!_s.getState().interacting){var t=e.srcElement.getBoundingClientRect(),r=e.clientX||e.pageX,n=e.clientY||e.pageY;r-=t.left,n-=t.top,isNaN(r)||isNaN(n)||(rf.mouse={x:r,y:n})}};"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch||navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints>0||tf.addEventListener("mousemove",(function(t){e(t)}));var t=function(e){if(2===e.detail)!function(){var e=vs.toClipSpace(rf.mouse);if(Math.abs(e.x)<.2&&Math.abs(e.y)<.2)$o.doubleTapZoom();else{var t=sc.raycastTerrain(rf.mouse);Math.abs(t.x)<7500&&Math.abs(t.y)<7500&&$o.focusOnTarget(t)}}();else{var t=sc.pickFeature(rf.mouse);t&&$o.featureClicked(t)}return!0};Tu.getState().controls.addEventListener("click",(function(r){e(r),t(r)}))}};var nf=Cc([[xs.setCameraModeControlVisible],[xs.setCompassVisible],[xs.setLayersControlVisible],[xs.setRotationControlVisible],[xs.setSeasonControlVisible],[$o.setSecondaryParams],[xs.setUserLocationControlVisible],[xs.setZoomControlVisible]]);nf.displayName="UserInterfaceStore";var af=y.createStore(nf),of={position:"absolute",top:9,left:11,padding:"3px 13px",border:"1px solid white",borderRadius:34,backgroundColor:"#333542"},sf="solid 4px transparent",uf={borderBottom:"solid 14px #b33330",borderLeft:sf,borderRight:sf},lf={borderTop:"solid 14px #cccccc",borderLeft:sf,borderRight:sf},cf=new Lo.Vector3,hf=bc.createClass({displayName:"Compass",getInitialState:function(){return{azimuth:0,visible:af.getState().compassVisible}},componentDidMount:function(){var e;Tu.listen(this.onStoreChange),af.listen((e="compassVisible",function(t){this.setState({visible:t[e]})}).bind(this))},onStoreChange:function(e){cf.subVectors(e.position,e.target);var t=.5*Math.PI+Math.atan2(cf.y,cf.x);t=.01*Math.round(100*t),this.setState({azimuth:t})},shouldComponentUpdate:function(e,t){return this.state.azimuth!==t.azimuth||this.state.visible!==t.visible},render:function(){return!1===this.state.visible?null:(of.transform="rotate("+this.state.azimuth+"rad) translateZ(0)",bc.createElement("div",{className:"compass",style:Object.assign({},of)},bc.createElement("div",{style:uf}),bc.createElement("div",{style:lf})))}}),ff=bc.createClass({displayName:"Container",render:function(){return bc.createElement("div",{style:{position:"relative",height:"100%",overflow:"hidden"}},bc.createElement("div",{id:"container",style:{fontSize:"14px",color:"#fff",position:"absolute",top:0,bottom:0,left:0,right:0}},this.props.children))}}),pf={position:"absolute",bottom:0,right:0,paddingTop:1,paddingBottom:1,paddingLeft:4,paddingRight:4,fontFamily:wh,textAlign:"right",textTransform:"none",color:"white",background:"rgba( 255, 255, 255, 0.1 )"},df={color:"white",fontSize:"6pt",margin:0},mf=bc.createClass({displayName:"Credits",getInitialState:function(){return Ps.getState().datasource},componentDidMount:function(){Ps.listen(this.onStoreChange),this.onStoreChange(Ps.getState())},onStoreChange:function(e){var t=e.datasource;this.setState(t)},render:function(){var e=[];this.state.elevation&&this.state.elevation.attribution&&e.push(this.state.elevation.attribution),this.state.imagery&&this.state.imagery.attribution&&e.push(this.state.imagery.attribution);var t="color: ".concat(df.color,"; font-size: ").concat(df.fontSize,"; margin: ").concat(df.margin,"; text-decoration: underline;");return e=e.map((function(e){return e.replace(/<a href=/g,'<a style="'+t+'" href=')})),bc.createElement("div",{className:"credits",style:pf},bc.createElement("p",{style:df},"Data: ",e.map((function(e){return bc.createElement(bc.Fragment,null,bc.createElement("span",{dangerouslySetInnerHTML:{__html:e}}),bc.createElement("span",null," "))}))))}});function vf(){this.message=null,this.displayErrors=!0,this.bindListeners({clearError:$o.setCurrentPlace,fatalError:Yo.fatalError,setDisplayErrors:xs.setDisplayErrors})}vf.prototype.clearError=function(){this.message=null},vf.prototype.fatalError=function(e){this.message=e},vf.prototype.setDisplayErrors=function(e){this.displayErrors=e},vf.displayName="ErrorStore";var gf=y.createStore(vf),yf=vs.getState().element,bf=bc.createClass({displayName:"Engine",componentDidMount:function(){(this.base||this.getDOMNode()).appendChild(yf),yf.appendChild(Vs.domElement),setTimeout((function(){Yo.containerMounted()}),0),gf.listen(this.onError),this.setState(this.getInitialState())},getInitialState:function(){return{error:gf.getState().message}},onError:function(e){e.displayErrors&&this.setState({error:e.message})},render:function(){var e={width:"100%",height:"100%",touchAction:"none"};if(this.state.error){var t={padding:10,textAlign:"center"};return bc.createElement("div",{style:e},bc.createElement("div",{style:{position:"absolute",width:"100%",height:"100%",zIndex:10,background:"black"}},bc.createElement("h2",{style:t},"Error"),bc.createElement("p",{style:t},this.state.error)))}return bc.createElement("div",{style:e})}}),xf={border:"1px solid white",margin:4,color:"white",width:36,height:36,lineHeight:"32px",textAlign:"center",padding:0,borderRadius:18,backgroundColor:"#333542",outline:"none",WebkitTransition:"background-color 0.5s",transition:"background-color 0.5s",cursor:"pointer"},wf={backgroundColor:"rgba(97, 97, 97, 0.5)"},_f=bc.createClass({displayName:"Button",getInitialState:function(){return{hover:!1}},mouseOver:function(){this.setState({hover:!0})},mouseOut:function(){this.setState({hover:!1})},render:function(){var e=Object.assign({},xf,this.state.hover?wf:void 0,this.props.style);return bc.createElement("button",{className:this.props.icon,onClick:this.props.action,onMouseOver:this.mouseOver,onMouseOut:this.mouseOut,style:e},this.props.text)}}),Tf=bc.createClass({displayName:"ButtonRow",render:function(){var e=this.props.buttons.map((function(e){return bc.createElement(_f,{action:e.action,icon:e.icon,text:e.text})}));return bc.createElement("div",null,e)}}),Ef=null,Sf=!1;if("geolocation"in navigator){Ef={icon:"b1 fa fa-location-arrow",action:function(){Sf||(navigator.geolocation.watchPosition(Qo.panToPosition),Sf=!0),Qo.toggleTracking()}}}var Mf=bc.createClass({displayName:"EngineControlsBottom",getInitialState:function(){return af.getState()},componentDidMount:function(){af.listen(this.onStoreChange),this.setState(this.getInitialState())},onStoreChange:function(e){this.setState(e)},shouldComponentUpdate:function(e,t){return this.state.userLocationControlVisible!==t.userLocationControlVisible},render:function(){var e=[];this.state.userLocationControlVisible&&e.push(bc.createElement(Tf,{className:"engine-controls-user-location",buttons:[Ef]}));return bc.createElement("div",{style:{position:"absolute",top:"initial",bottom:15,right:8},className:"engine-controls bottom"},e)}}),Af=[{icon:"b1 fa fa-minus",action:$o.zoomOut},{icon:"b1 fa fa-plus",action:$o.zoomIn}],Cf=[{text:"2D",action:function(){$o.setCameraMode("2D"),$o.setTerrainEffectContours()}},{text:"3D",action:function(){$o.setCameraMode("3D"),$o.setTerrainEffectNone()}}],Rf=[{icon:"b1 fa fa-rotate-right",action:$o.rotateRight},{icon:"b1 fa fa-rotate-left",action:$o.rotateLeft}],Of=bc.createClass({displayName:"EngineControlsTop",getInitialState:function(){return af.getState()},componentDidMount:function(){af.listen(this.onStoreChange),this.setState(this.getInitialState())},onStoreChange:function(e){this.setState(e)},shouldComponentUpdate:function(e,t){return this.state.cameraModeControlVisible!==t.cameraModeControlVisible||this.state.rotationControlVisible!==t.rotationControlVisible||this.state.zoomControlVisible!==t.zoomControlVisible},render:function(){var e=[];this.state.zoomControlVisible&&e.push(bc.createElement(Tf,{className:"engine-controls-zoom",buttons:Af})),this.state.cameraModeControlVisible&&e.push(bc.createElement(Tf,{className:"engine-controls-cam",buttons:Cf})),this.state.rotationControlVisible&&e.push(bc.createElement(Tf,{className:"engine-controls-rotate",buttons:Rf}));return bc.createElement("div",{style:{position:"absolute",top:6,right:8},className:"engine-controls"},e)}}),kf=bc.createClass({displayName:"PoweredBy",render:function(){var e={backgroundImage:"url(\"data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect x='34.32' y='1.52' width='57.03' height='57.03' fill='%23fff'/><rect x='34.32' y='69.96' width='28.52' height='28.52' fill='%23fff'/><rect x='8.65' y='69.96' width='14.26' height='14.26' fill='%23fff'/><rect x='15.78' y='51.43' width='7.13' height='7.13' fill='%23fff'/></svg>\")\n",backgroundRepeat:"no-repeat",display:"block",height:40,width:40};return bc.createElement("div",{className:"powered-by",style:{position:"absolute",padding:"11px 8px",bottom:0,opacity:.9,WebkitTouchCallout:"none",WebkitUserSelect:"none",KhtmlUserSelect:"none",MozUserSelect:"none",MsUserSelect:"none",userSelect:"none"}},bc.createElement("a",{href:"https://github.com/felixpalmer/procedural-gl-js",target:"_blank",style:e}))}}),Pf=bc.createClass({displayName:"App",render:function(){return bc.createElement(ff,null,bc.createElement(bf,null),bc.createElement(mf,null),bc.createElement(Of,null),bc.createElement(Mf,null),bc.createElement(hf,null),bc.createElement(kf,null))}});Ps.listen((function(e){e.appContainer&&bc.render(bc.createElement(Pf,null),e.appContainer)})),xs.configureCamera({minDistance:500,minHeight:250,zoomInDuration:.8,zoomOutDuration:1}),rf.init(),console.log("Procedural v1.0.17");for(var Lf=Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)({},Eu),Mu),Au),Ou),Pu),cc),dc),mc),vc),zf=["onFeatureClicked","onFeatureSelected","onOverlayAdded"],Df=function(){var e=If[Nf];Object.defineProperty(Lf,e,{set:function(t){return cc[e]=t}})},Nf=0,If=zf;Nf<If.length;Nf++)Df();for(var Ff=function(){var e=Bf[Uf];Object.defineProperty(Lf,e,{set:function(t){return Eu[e]=t}})},Uf=0,Bf=zf=["onCameraChange"];Uf<Bf.length;Uf++)Ff();for(var jf=function(){var e=Vf[Hf];Object.defineProperty(Lf,e,{set:function(t){return Au[e]=t}})},Hf=0,Vf=zf=["onBoundsFocused","onLocationError","onLocationFocused","onLocationLoaded","onUserInteraction"];Hf<Vf.length;Hf++)jf();t.a=Lf}).call(this,r(29))},function(e,t,r){e.exports=r(31)()},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(15);function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Object(n.a)(e,t)}},function(e,t,r){"use strict";function n(e){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}r.d(t,"a",(function(){return u}));var i=r(16);function a(e){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=r(17);function s(e,t){return!t||"object"!==a(t)&&"function"!==typeof t?Object(o.a)(e):t}function u(e){var t=Object(i.a)();return function(){var r,i=n(e);if(t){var a=n(this).constructor;r=Reflect.construct(i,arguments,a)}else r=i.apply(this,arguments);return s(this,r)}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(13);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(u){i=!0,a=u}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}}(e,t)||Object(n.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t,r){"use strict";function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}r.d(t,"a",(function(){return mn}));var a,o,s,u,l,c,h,f,p,d={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},m={duration:.5,overwrite:!1,delay:0},v=1e8,g=1e-8,y=2*Math.PI,b=y/4,x=0,w=Math.sqrt,_=Math.cos,T=Math.sin,E=function(e){return"string"===typeof e},S=function(e){return"function"===typeof e},M=function(e){return"number"===typeof e},A=function(e){return"undefined"===typeof e},C=function(e){return"object"===typeof e},R=function(e){return!1!==e},O=function(){return"undefined"!==typeof window},k=function(e){return S(e)||E(e)},P="function"===typeof ArrayBuffer&&ArrayBuffer.isView||function(){},L=Array.isArray,z=/(?:-?\.?\d|\.)+/gi,D=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,N=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,I=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,F=/[+-]=-?[.\d]+/,U=/[#\-+.]*\b[a-z\d-=+%.]+/gi,B=/[\d.+\-=]+(?:e[-+]\d*)*/i,j={},H={},V=function(e){return(H=me(e,j))&&er},G=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},W=function(e,t){return!t&&console.warn(e)},q=function(e,t){return e&&(j[e]=t)&&H&&(H[e]=t)||j},X=function(){return 0},Y={},Z=[],K={},Q={},J={},$=30,ee=[],te="",re=function(e){var t,r,n=e[0];if(C(n)||S(n)||(e=[e]),!(t=(n._gsap||{}).harness)){for(r=ee.length;r--&&!ee[r].targetTest(n););t=ee[r]}for(r=e.length;r--;)e[r]&&(e[r]._gsap||(e[r]._gsap=new St(e[r],t)))||e.splice(r,1);return e},ne=function(e){return e._gsap||re(Ge(e))[0]._gsap},ie=function(e,t,r){return(r=e[t])&&S(r)?e[t]():A(r)&&e.getAttribute&&e.getAttribute(t)||r},ae=function(e,t){return(e=e.split(",")).forEach(t)||e},oe=function(e){return Math.round(1e5*e)/1e5||0},se=function(e,t){for(var r=t.length,n=0;e.indexOf(t[n])<0&&++n<r;);return n<r},ue=function(e,t,r){var n,i=M(e[1]),a=(i?2:1)+(t<2?0:1),o=e[a];if(i&&(o.duration=e[1]),o.parent=r,t){for(n=o;r&&!("immediateRender"in n);)n=r.vars.defaults||{},r=R(r.vars.inherit)&&r.parent;o.immediateRender=R(n.immediateRender),t<2?o.runBackwards=1:o.startAt=e[a-1]}return o},le=function(){var e,t,r=Z.length,n=Z.slice(0);for(K={},Z.length=0,e=0;e<r;e++)(t=n[e])&&t._lazy&&(t.render(t._lazy[0],t._lazy[1],!0)._lazy=0)},ce=function(e,t,r,n){Z.length&&le(),e.render(t,r,n),Z.length&&le()},he=function(e){var t=parseFloat(e);return(t||0===t)&&(e+"").match(U).length<2?t:E(e)?e.trim():e},fe=function(e){return e},pe=function(e,t){for(var r in t)r in e||(e[r]=t[r]);return e},de=function(e,t){for(var r in t)r in e||"duration"===r||"ease"===r||(e[r]=t[r])},me=function(e,t){for(var r in t)e[r]=t[r];return e},ve=function e(t,r){for(var n in r)"__proto__"!==n&&"constructor"!==n&&"prototype"!==n&&(t[n]=C(r[n])?e(t[n]||(t[n]={}),r[n]):r[n]);return t},ge=function(e,t){var r,n={};for(r in e)r in t||(n[r]=e[r]);return n},ye=function(e){var t=e.parent||o,r=e.keyframes?de:pe;if(R(e.inherit))for(;t;)r(e,t.vars.defaults),t=t.parent||t._dp;return e},be=function(e,t,r,n){void 0===r&&(r="_first"),void 0===n&&(n="_last");var i=t._prev,a=t._next;i?i._next=a:e[r]===t&&(e[r]=a),a?a._prev=i:e[n]===t&&(e[n]=i),t._next=t._prev=t.parent=null},xe=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove(e),e._act=0},we=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var r=e;r;)r._dirty=1,r=r.parent;return e},_e=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},Te=function e(t){return!t||t._ts&&e(t.parent)},Ee=function(e){return e._repeat?Se(e._tTime,e=e.duration()+e._rDelay)*e:0},Se=function(e,t){var r=Math.floor(e/=t);return e&&r===e?r-1:r},Me=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},Ae=function(e){return e._end=oe(e._start+(e._tDur/Math.abs(e._ts||e._rts||g)||0))},Ce=function(e,t){var r=e._dp;return r&&r.smoothChildTiming&&e._ts&&(e._start=oe(r._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),Ae(e),r._dirty||we(r,e)),e},Re=function(e,t){var r;if((t._time||t._initted&&!t._dur)&&(r=Me(e.rawTime(),t),(!t._dur||Ue(0,t.totalDuration(),r)-t._tTime>g)&&t.render(r,!0)),we(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(r=e;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;e._zTime=-1e-8}},Oe=function(e,t,r,n){return t.parent&&xe(t),t._start=oe(r+t._delay),t._end=oe(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),function(e,t,r,n,i){void 0===r&&(r="_first"),void 0===n&&(n="_last");var a,o=e[n];if(i)for(a=t[i];o&&o[i]>a;)o=o._prev;o?(t._next=o._next,o._next=t):(t._next=e[r],e[r]=t),t._next?t._next._prev=t:e[n]=t,t._prev=o,t.parent=t._dp=e}(e,t,"_first","_last",e._sort?"_start":0),e._recent=t,n||Re(e,t),e},ke=function(e,t){return(j.ScrollTrigger||G("scrollTrigger",t))&&j.ScrollTrigger.create(t,e)},Pe=function(e,t,r,n){return Pt(e,t),e._initted?!r&&e._pt&&(e._dur&&!1!==e.vars.lazy||!e._dur&&e.vars.lazy)&&h!==ft.frame?(Z.push(e),e._lazy=[t,n],1):void 0:1},Le=function e(t){var r=t.parent;return r&&r._ts&&r._initted&&!r._lock&&(r.rawTime()<0||e(r))},ze=function(e,t,r,n){var i=e._repeat,a=oe(t)||0,o=e._tTime/e._tDur;return o&&!n&&(e._time*=a/e._dur),e._dur=a,e._tDur=i?i<0?1e10:oe(a*(i+1)+e._rDelay*i):a,o&&!n?Ce(e,e._tTime=e._tDur*o):e.parent&&Ae(e),r||we(e.parent,e),e},De=function(e){return e instanceof At?we(e):ze(e,e._dur)},Ne={_start:0,endTime:X},Ie=function e(t,r){var n,i,a=t.labels,o=t._recent||Ne,s=t.duration()>=v?o.endTime(!1):t._dur;return E(r)&&(isNaN(r)||r in a)?"<"===(n=r.charAt(0))||">"===n?("<"===n?o._start:o.endTime(o._repeat>=0))+(parseFloat(r.substr(1))||0):(n=r.indexOf("="))<0?(r in a||(a[r]=s),a[r]):(i=+(r.charAt(n-1)+r.substr(n+1)),n>1?e(t,r.substr(0,n-1))+i:s+i):null==r?s:+r},Fe=function(e,t){return e||0===e?t(e):t},Ue=function(e,t,r){return r<e?e:r>t?t:r},Be=function(e){if("string"!==typeof e)return"";var t=B.exec(e);return t?e.substr(t.index+t[0].length):""},je=[].slice,He=function(e,t){return e&&C(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&C(e[0]))&&!e.nodeType&&e!==s},Ve=function(e,t,r){return void 0===r&&(r=[]),e.forEach((function(e){var n;return E(e)&&!t||He(e,1)?(n=r).push.apply(n,Ge(e)):r.push(e)}))||r},Ge=function(e,t){return!E(e)||t||!u&&pt()?L(e)?Ve(e,t):He(e)?je.call(e,0):e?[e]:[]:je.call(l.querySelectorAll(e),0)},We=function(e){return e.sort((function(){return.5-Math.random()}))},qe=function(e){if(S(e))return e;var t=C(e)?e:{each:e},r=xt(t.ease),n=t.from||0,i=parseFloat(t.base)||0,a={},o=n>0&&n<1,s=isNaN(n)||o,u=t.axis,l=n,c=n;return E(n)?l=c={center:.5,edges:.5,end:1}[n]||0:!o&&s&&(l=n[0],c=n[1]),function(e,o,h){var f,p,d,m,g,y,b,x,_,T=(h||t).length,E=a[T];if(!E){if(!(_="auto"===t.grid?0:(t.grid||[1,v])[1])){for(b=-v;b<(b=h[_++].getBoundingClientRect().left)&&_<T;);_--}for(E=a[T]=[],f=s?Math.min(_,T)*l-.5:n%_,p=s?T*c/_-.5:n/_|0,b=0,x=v,y=0;y<T;y++)d=y%_-f,m=p-(y/_|0),E[y]=g=u?Math.abs("y"===u?m:d):w(d*d+m*m),g>b&&(b=g),g<x&&(x=g);"random"===n&&We(E),E.max=b-x,E.min=x,E.v=T=(parseFloat(t.amount)||parseFloat(t.each)*(_>T?T-1:u?"y"===u?T/_:_:Math.max(_,T/_))||0)*("edges"===n?-1:1),E.b=T<0?i-T:i,E.u=Be(t.amount||t.each)||0,r=r&&T<0?yt(r):r}return T=(E[e]-E.min)/E.max||0,oe(E.b+(r?r(T):T)*E.v)+E.u}},Xe=function(e){var t=e<1?Math.pow(10,(e+"").length-2):1;return function(r){var n=Math.round(parseFloat(r)/e)*e*t;return(n-n%1)/t+(M(r)?0:Be(r))}},Ye=function(e,t){var r,n,i=L(e);return!i&&C(e)&&(r=i=e.radius||v,e.values?(e=Ge(e.values),(n=!M(e[0]))&&(r*=r)):e=Xe(e.increment)),Fe(t,i?S(e)?function(t){return n=e(t),Math.abs(n-t)<=r?n:t}:function(t){for(var i,a,o=parseFloat(n?t.x:t),s=parseFloat(n?t.y:0),u=v,l=0,c=e.length;c--;)(i=n?(i=e[c].x-o)*i+(a=e[c].y-s)*a:Math.abs(e[c]-o))<u&&(u=i,l=c);return l=!r||u<=r?e[l]:t,n||l===t||M(t)?l:l+Be(t)}:Xe(e))},Ze=function(e,t,r,n){return Fe(L(e)?!t:!0===r?!!(r=0):!n,(function(){return L(e)?e[~~(Math.random()*e.length)]:(r=r||1e-5)&&(n=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((e-r/2+Math.random()*(t-e+.99*r))/r)*r*n)/n}))},Ke=function(e,t,r){return Fe(r,(function(r){return e[~~t(r)]}))},Qe=function(e){for(var t,r,n,i,a=0,o="";~(t=e.indexOf("random(",a));)n=e.indexOf(")",t),i="["===e.charAt(t+7),r=e.substr(t+7,n-t-7).match(i?U:z),o+=e.substr(a,t-a)+Ze(i?r:+r[0],i?0:+r[1],+r[2]||1e-5),a=n+1;return o+e.substr(a,e.length-a)},Je=function(e,t,r,n,i){var a=t-e,o=n-r;return Fe(i,(function(t){return r+((t-e)/a*o||0)}))},$e=function(e,t,r){var n,i,a,o=e.labels,s=v;for(n in o)(i=o[n]-t)<0===!!r&&i&&s>(i=Math.abs(i))&&(a=n,s=i);return a},et=function(e,t,r){var n,i,a=e.vars,o=a[t];if(o)return n=a[t+"Params"],i=a.callbackScope||e,r&&Z.length&&le(),n?o.apply(i,n):o.call(i)},tt=function(e){return xe(e),e.scrollTrigger&&e.scrollTrigger.kill(!1),e.progress()<1&&et(e,"onInterrupt"),e},rt=function(e){var t=(e=!e.name&&e.default||e).name,r=S(e),n=t&&!r&&e.init?function(){this._props=[]}:e,i={init:X,render:Wt,add:Ot,kill:Xt,modifier:qt,rawVars:0},a={targetTest:0,get:0,getSetter:jt,aliases:{},register:0};if(pt(),e!==n){if(Q[t])return;pe(n,pe(ge(e,i),a)),me(n.prototype,me(i,ge(e,a))),Q[n.prop=t]=n,e.targetTest&&(ee.push(n),Y[t]=1),t=("css"===t?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}q(t,n),e.register&&e.register(er,n,Kt)},nt=255,it={aqua:[0,nt,nt],lime:[0,nt,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,nt],navy:[0,0,128],white:[nt,nt,nt],olive:[128,128,0],yellow:[nt,nt,0],orange:[nt,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[nt,0,0],pink:[nt,192,203],cyan:[0,nt,nt],transparent:[nt,nt,nt,0]},at=function(e,t,r){return(6*(e=e<0?e+1:e>1?e-1:e)<1?t+(r-t)*e*6:e<.5?r:3*e<2?t+(r-t)*(2/3-e)*6:t)*nt+.5|0},ot=function(e,t,r){var n,i,a,o,s,u,l,c,h,f,p=e?M(e)?[e>>16,e>>8&nt,e&nt]:0:it.black;if(!p){if(","===e.substr(-1)&&(e=e.substr(0,e.length-1)),it[e])p=it[e];else if("#"===e.charAt(0)){if(e.length<6&&(n=e.charAt(1),i=e.charAt(2),a=e.charAt(3),e="#"+n+n+i+i+a+a+(5===e.length?e.charAt(4)+e.charAt(4):"")),9===e.length)return[(p=parseInt(e.substr(1,6),16))>>16,p>>8&nt,p&nt,parseInt(e.substr(7),16)/255];p=[(e=parseInt(e.substr(1),16))>>16,e>>8&nt,e&nt]}else if("hsl"===e.substr(0,3))if(p=f=e.match(z),t){if(~e.indexOf("="))return p=e.match(D),r&&p.length<4&&(p[3]=1),p}else o=+p[0]%360/360,s=+p[1]/100,n=2*(u=+p[2]/100)-(i=u<=.5?u*(s+1):u+s-u*s),p.length>3&&(p[3]*=1),p[0]=at(o+1/3,n,i),p[1]=at(o,n,i),p[2]=at(o-1/3,n,i);else p=e.match(z)||it.transparent;p=p.map(Number)}return t&&!f&&(n=p[0]/nt,i=p[1]/nt,a=p[2]/nt,u=((l=Math.max(n,i,a))+(c=Math.min(n,i,a)))/2,l===c?o=s=0:(h=l-c,s=u>.5?h/(2-l-c):h/(l+c),o=l===n?(i-a)/h+(i<a?6:0):l===i?(a-n)/h+2:(n-i)/h+4,o*=60),p[0]=~~(o+.5),p[1]=~~(100*s+.5),p[2]=~~(100*u+.5)),r&&p.length<4&&(p[3]=1),p},st=function(e){var t=[],r=[],n=-1;return e.split(lt).forEach((function(e){var i=e.match(N)||[];t.push.apply(t,i),r.push(n+=i.length+1)})),t.c=r,t},ut=function(e,t,r){var n,i,a,o,s="",u=(e+s).match(lt),l=t?"hsla(":"rgba(",c=0;if(!u)return e;if(u=u.map((function(e){return(e=ot(e,t,1))&&l+(t?e[0]+","+e[1]+"%,"+e[2]+"%,"+e[3]:e.join(","))+")"})),r&&(a=st(e),(n=r.c).join(s)!==a.c.join(s)))for(o=(i=e.replace(lt,"1").split(N)).length-1;c<o;c++)s+=i[c]+(~n.indexOf(c)?u.shift()||l+"0,0,0,0)":(a.length?a:u.length?u:r).shift());if(!i)for(o=(i=e.split(lt)).length-1;c<o;c++)s+=i[c]+u[c];return s+i[o]},lt=function(){var e,t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(e in it)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),ct=/hsl[a]?\(/,ht=function(e){var t,r=e.join(" ");if(lt.lastIndex=0,lt.test(r))return t=ct.test(r),e[1]=ut(e[1],t),e[0]=ut(e[0],t,st(e[1])),!0},ft=function(){var e,t,r,n,i,a,o=Date.now,h=500,f=33,d=o(),m=d,v=1e3/240,g=v,y=[],b=function r(s){var u,l,c,p,b=o()-m,x=!0===s;if(b>h&&(d+=b-f),((u=(c=(m+=b)-d)-g)>0||x)&&(p=++n.frame,i=c-1e3*n.time,n.time=c/=1e3,g+=u+(u>=v?4:v-u),l=1),x||(e=t(r)),l)for(a=0;a<y.length;a++)y[a](c,i,p,s)};return n={time:0,frame:0,tick:function(){b(!0)},deltaRatio:function(e){return i/(1e3/(e||60))},wake:function(){c&&(!u&&O()&&(s=u=window,l=s.document||{},j.gsap=er,(s.gsapVersions||(s.gsapVersions=[])).push(er.version),V(H||s.GreenSockGlobals||!s.gsap&&s||{}),r=s.requestAnimationFrame),e&&n.sleep(),t=r||function(e){return setTimeout(e,g-1e3*n.time+1|0)},p=1,b(2))},sleep:function(){(r?s.cancelAnimationFrame:clearTimeout)(e),p=0,t=X},lagSmoothing:function(e,t){h=e||1e8,f=Math.min(t,h,0)},fps:function(e){v=1e3/(e||240),g=1e3*n.time+v},add:function(e){y.indexOf(e)<0&&y.push(e),pt()},remove:function(e){var t;~(t=y.indexOf(e))&&y.splice(t,1)&&a>=t&&a--},_listeners:y}}(),pt=function(){return!p&&ft.wake()},dt={},mt=/^[\d.\-M][\d.\-,\s]/,vt=/["']/g,gt=function(e){for(var t,r,n,i={},a=e.substr(1,e.length-3).split(":"),o=a[0],s=1,u=a.length;s<u;s++)r=a[s],t=s!==u-1?r.lastIndexOf(","):r.length,n=r.substr(0,t),i[o]=isNaN(n)?n.replace(vt,"").trim():+n,o=r.substr(t+1).trim();return i},yt=function(e){return function(t){return 1-e(1-t)}},bt=function e(t,r){for(var n,i=t._first;i;)i instanceof At?e(i,r):!i.vars.yoyoEase||i._yoyo&&i._repeat||i._yoyo===r||(i.timeline?e(i.timeline,r):(n=i._ease,i._ease=i._yEase,i._yEase=n,i._yoyo=r)),i=i._next},xt=function(e,t){return e&&(S(e)?e:dt[e]||function(e){var t=(e+"").split("("),r=dt[t[0]];return r&&t.length>1&&r.config?r.config.apply(null,~e.indexOf("{")?[gt(t[1])]:function(e){var t=e.indexOf("(")+1,r=e.indexOf(")"),n=e.indexOf("(",t);return e.substring(t,~n&&n<r?e.indexOf(")",r+1):r)}(e).split(",").map(he)):dt._CE&&mt.test(e)?dt._CE("",e):r}(e))||t},wt=function(e,t,r,n){void 0===r&&(r=function(e){return 1-t(1-e)}),void 0===n&&(n=function(e){return e<.5?t(2*e)/2:1-t(2*(1-e))/2});var i,a={easeIn:t,easeOut:r,easeInOut:n};return ae(e,(function(e){for(var t in dt[e]=j[e]=a,dt[i=e.toLowerCase()]=r,a)dt[i+("easeIn"===t?".in":"easeOut"===t?".out":".inOut")]=dt[e+"."+t]=a[t]})),a},_t=function(e){return function(t){return t<.5?(1-e(1-2*t))/2:.5+e(2*(t-.5))/2}},Tt=function e(t,r,n){var i=r>=1?r:1,a=(n||(t?.3:.45))/(r<1?r:1),o=a/y*(Math.asin(1/i)||0),s=function(e){return 1===e?1:i*Math.pow(2,-10*e)*T((e-o)*a)+1},u="out"===t?s:"in"===t?function(e){return 1-s(1-e)}:_t(s);return a=y/a,u.config=function(r,n){return e(t,r,n)},u},Et=function e(t,r){void 0===r&&(r=1.70158);var n=function(e){return e?--e*e*((r+1)*e+r)+1:0},i="out"===t?n:"in"===t?function(e){return 1-n(1-e)}:_t(n);return i.config=function(r){return e(t,r)},i};ae("Linear,Quad,Cubic,Quart,Quint,Strong",(function(e,t){var r=t<5?t+1:t;wt(e+",Power"+(r-1),t?function(e){return Math.pow(e,r)}:function(e){return e},(function(e){return 1-Math.pow(1-e,r)}),(function(e){return e<.5?Math.pow(2*e,r)/2:1-Math.pow(2*(1-e),r)/2}))})),dt.Linear.easeNone=dt.none=dt.Linear.easeIn,wt("Elastic",Tt("in"),Tt("out"),Tt()),function(e,t){var r=1/t,n=function(n){return n<r?e*n*n:n<.7272727272727273?e*Math.pow(n-1.5/t,2)+.75:n<.9090909090909092?e*(n-=2.25/t)*n+.9375:e*Math.pow(n-2.625/t,2)+.984375};wt("Bounce",(function(e){return 1-n(1-e)}),n)}(7.5625,2.75),wt("Expo",(function(e){return e?Math.pow(2,10*(e-1)):0})),wt("Circ",(function(e){return-(w(1-e*e)-1)})),wt("Sine",(function(e){return 1===e?1:1-_(e*b)})),wt("Back",Et("in"),Et("out"),Et()),dt.SteppedEase=dt.steps=j.SteppedEase={config:function(e,t){void 0===e&&(e=1);var r=1/e,n=e+(t?0:1),i=t?1:0;return function(e){return((n*Ue(0,.99999999,e)|0)+i)*r}}},m.ease=dt["quad.out"],ae("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",(function(e){return te+=e+","+e+"Params,"}));var St=function(e,t){this.id=x++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:ie,this.set=t?t.getSetter:jt},Mt=function(){function e(e,t){var r=e.parent||o;this.vars=e,this._delay=+e.delay||0,(this._repeat=e.repeat===1/0?-2:e.repeat||0)&&(this._rDelay=e.repeatDelay||0,this._yoyo=!!e.yoyo||!!e.yoyoEase),this._ts=1,ze(this,+e.duration,1,1),this.data=e.data,p||ft.wake(),r&&Oe(r,this,t||0===t?t:r._time,1),e.reversed&&this.reverse(),e.paused&&this.paused(!0)}var t=e.prototype;return t.delay=function(e){return e||0===e?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+e-this._delay),this._delay=e,this):this._delay},t.duration=function(e){return arguments.length?this.totalDuration(this._repeat>0?e+(e+this._rDelay)*this._repeat:e):this.totalDuration()&&this._dur},t.totalDuration=function(e){return arguments.length?(this._dirty=0,ze(this,this._repeat<0?e:(e-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function(e,t){if(pt(),!arguments.length)return this._tTime;var r=this._dp;if(r&&r.smoothChildTiming&&this._ts){for(Ce(this,e),!r._dp||r.parent||Re(r,this);r.parent;)r.parent._time!==r._start+(r._ts>=0?r._tTime/r._ts:(r.totalDuration()-r._tTime)/-r._ts)&&r.totalTime(r._tTime,!0),r=r.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&e<this._tDur||this._ts<0&&e>0||!this._tDur&&!e)&&Oe(this._dp,this,this._start-this._delay)}return(this._tTime!==e||!this._dur&&!t||this._initted&&Math.abs(this._zTime)===g||!e&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=e),ce(this,e,t)),this},t.time=function(e,t){return arguments.length?this.totalTime(Math.min(this.totalDuration(),e+Ee(this))%this._dur||(e?this._dur:0),t):this._time},t.totalProgress=function(e,t){return arguments.length?this.totalTime(this.totalDuration()*e,t):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},t.progress=function(e,t){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?e:1-e)+Ee(this),t):this.duration()?Math.min(1,this._time/this._dur):this.ratio},t.iteration=function(e,t){var r=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(e-1)*r,t):this._repeat?Se(this._tTime,r)+1:1},t.timeScale=function(e){if(!arguments.length)return-1e-8===this._rts?0:this._rts;if(this._rts===e)return this;var t=this.parent&&this._ts?Me(this.parent._time,this):this._tTime;return this._rts=+e||0,this._ts=this._ps||-1e-8===e?0:this._rts,_e(this.totalTime(Ue(-this._delay,this._tDur,t),!0))},t.paused=function(e){return arguments.length?(this._ps!==e&&(this._ps=e,e?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(pt(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&(this._tTime-=g)&&Math.abs(this._zTime)!==g))),this):this._ps},t.startTime=function(e){if(arguments.length){this._start=e;var t=this.parent||this._dp;return t&&(t._sort||!this.parent)&&Oe(t,this,e-this._delay),this}return this._start},t.endTime=function(e){return this._start+(R(e)?this.totalDuration():this.duration())/Math.abs(this._ts)},t.rawTime=function(e){var t=this.parent||this._dp;return t?e&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Me(t.rawTime(e),this):this._tTime:this._tTime},t.globalTime=function(e){for(var t=this,r=arguments.length?e:t.rawTime();t;)r=t._start+r/(t._ts||1),t=t._dp;return r},t.repeat=function(e){return arguments.length?(this._repeat=e===1/0?-2:e,De(this)):-2===this._repeat?1/0:this._repeat},t.repeatDelay=function(e){return arguments.length?(this._rDelay=e,De(this)):this._rDelay},t.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},t.seek=function(e,t){return this.totalTime(Ie(this,e),R(t))},t.restart=function(e,t){return this.play().totalTime(e?-this._delay:0,R(t))},t.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},t.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},t.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(e){return arguments.length?(!!e!==this.reversed()&&this.timeScale(-this._rts||(e?-1e-8:0)),this):this._rts<0},t.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},t.isActive=function(){var e,t=this.parent||this._dp,r=this._start;return!(t&&!(this._ts&&this._initted&&t.isActive()&&(e=t.rawTime(!0))>=r&&e<this.endTime(!0)-g))},t.eventCallback=function(e,t,r){var n=this.vars;return arguments.length>1?(t?(n[e]=t,r&&(n[e+"Params"]=r),"onUpdate"===e&&(this._onUpdate=t)):delete n[e],this):n[e]},t.then=function(e){var t=this;return new Promise((function(r){var n=S(e)?e:fe,i=function(){var e=t.then;t.then=null,S(n)&&(n=n(t))&&(n.then||n===t)&&(t.then=e),r(n),t.then=e};t._initted&&1===t.totalProgress()&&t._ts>=0||!t._tTime&&t._ts<0?i():t._prom=i}))},t.kill=function(){tt(this)},e}();pe(Mt.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var At=function(e){function t(t,r){var i;return void 0===t&&(t={}),(i=e.call(this,t,r)||this).labels={},i.smoothChildTiming=!!t.smoothChildTiming,i.autoRemoveChildren=!!t.autoRemoveChildren,i._sort=R(t.sortChildren),i.parent&&Re(i.parent,n(i)),t.scrollTrigger&&ke(n(i),t.scrollTrigger),i}i(t,e);var r=t.prototype;return r.to=function(e,t,r){return new Nt(e,ue(arguments,0,this),Ie(this,M(t)?arguments[3]:r)),this},r.from=function(e,t,r){return new Nt(e,ue(arguments,1,this),Ie(this,M(t)?arguments[3]:r)),this},r.fromTo=function(e,t,r,n){return new Nt(e,ue(arguments,2,this),Ie(this,M(t)?arguments[4]:n)),this},r.set=function(e,t,r){return t.duration=0,t.parent=this,ye(t).repeatDelay||(t.repeat=0),t.immediateRender=!!t.immediateRender,new Nt(e,t,Ie(this,r),1),this},r.call=function(e,t,r){return Oe(this,Nt.delayedCall(0,e,t),Ie(this,r))},r.staggerTo=function(e,t,r,n,i,a,o){return r.duration=t,r.stagger=r.stagger||n,r.onComplete=a,r.onCompleteParams=o,r.parent=this,new Nt(e,r,Ie(this,i)),this},r.staggerFrom=function(e,t,r,n,i,a,o){return r.runBackwards=1,ye(r).immediateRender=R(r.immediateRender),this.staggerTo(e,t,r,n,i,a,o)},r.staggerFromTo=function(e,t,r,n,i,a,o,s){return n.startAt=r,ye(n).immediateRender=R(n.immediateRender),this.staggerTo(e,t,n,i,a,o,s)},r.render=function(e,t,r){var n,i,a,s,u,l,c,h,f,p,d,m,v=this._time,y=this._dirty?this.totalDuration():this._tDur,b=this._dur,x=this!==o&&e>y-g&&e>=0?y:e<g?0:e,w=this._zTime<0!==e<0&&(this._initted||!b);if(x!==this._tTime||r||w){if(v!==this._time&&b&&(x+=this._time-v,e+=this._time-v),n=x,f=this._start,l=!(h=this._ts),w&&(b||(v=this._zTime),(e||!t)&&(this._zTime=e)),this._repeat){if(d=this._yoyo,u=b+this._rDelay,this._repeat<-1&&e<0)return this.totalTime(100*u+e,t,r);if(n=oe(x%u),x===y?(s=this._repeat,n=b):((s=~~(x/u))&&s===x/u&&(n=b,s--),n>b&&(n=b)),p=Se(this._tTime,u),!v&&this._tTime&&p!==s&&(p=s),d&&1&s&&(n=b-n,m=1),s!==p&&!this._lock){var _=d&&1&p,T=_===(d&&1&s);if(s<p&&(_=!_),v=_?0:b,this._lock=1,this.render(v||(m?0:oe(s*u)),t,!b)._lock=0,!t&&this.parent&&et(this,"onRepeat"),this.vars.repeatRefresh&&!m&&(this.invalidate()._lock=1),v&&v!==this._time||l!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(b=this._dur,y=this._tDur,T&&(this._lock=2,v=_?b:-1e-4,this.render(v,!0)),this._lock=0,!this._ts&&!l)return this;bt(this,m)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(c=function(e,t,r){var n;if(r>t)for(n=e._first;n&&n._start<=r;){if(!n._dur&&"isPause"===n.data&&n._start>t)return n;n=n._next}else for(n=e._last;n&&n._start>=r;){if(!n._dur&&"isPause"===n.data&&n._start<t)return n;n=n._prev}}(this,oe(v),oe(n)))&&(x-=n-(n=c._start)),this._tTime=x,this._time=n,this._act=!h,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=e,v=0),!v&&n&&!t&&et(this,"onStart"),n>=v&&e>=0)for(i=this._first;i;){if(a=i._next,(i._act||n>=i._start)&&i._ts&&c!==i){if(i.parent!==this)return this.render(e,t,r);if(i.render(i._ts>0?(n-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(n-i._start)*i._ts,t,r),n!==this._time||!this._ts&&!l){c=0,a&&(x+=this._zTime=-1e-8);break}}i=a}else{i=this._last;for(var E=e<0?e:n;i;){if(a=i._prev,(i._act||E<=i._end)&&i._ts&&c!==i){if(i.parent!==this)return this.render(e,t,r);if(i.render(i._ts>0?(E-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(E-i._start)*i._ts,t,r),n!==this._time||!this._ts&&!l){c=0,a&&(x+=this._zTime=E?-1e-8:g);break}}i=a}}if(c&&!t&&(this.pause(),c.render(n>=v?0:-1e-8)._zTime=n>=v?1:-1,this._ts))return this._start=f,Ae(this),this.render(e,t,r);this._onUpdate&&!t&&et(this,"onUpdate",!0),(x===y&&y>=this.totalDuration()||!x&&v)&&(f!==this._start&&Math.abs(h)===Math.abs(this._ts)||this._lock||((e||!b)&&(x===y&&this._ts>0||!x&&this._ts<0)&&xe(this,1),t||e<0&&!v||!x&&!v||(et(this,x===y?"onComplete":"onReverseComplete",!0),this._prom&&!(x<y&&this.timeScale()>0)&&this._prom())))}return this},r.add=function(e,t){var r=this;if(M(t)||(t=Ie(this,t)),!(e instanceof Mt)){if(L(e))return e.forEach((function(e){return r.add(e,t)})),this;if(E(e))return this.addLabel(e,t);if(!S(e))return this;e=Nt.delayedCall(0,e)}return this!==e?Oe(this,e,t):this},r.getChildren=function(e,t,r,n){void 0===e&&(e=!0),void 0===t&&(t=!0),void 0===r&&(r=!0),void 0===n&&(n=-v);for(var i=[],a=this._first;a;)a._start>=n&&(a instanceof Nt?t&&i.push(a):(r&&i.push(a),e&&i.push.apply(i,a.getChildren(!0,t,r)))),a=a._next;return i},r.getById=function(e){for(var t=this.getChildren(1,1,1),r=t.length;r--;)if(t[r].vars.id===e)return t[r]},r.remove=function(e){return E(e)?this.removeLabel(e):S(e)?this.killTweensOf(e):(be(this,e),e===this._recent&&(this._recent=this._last),we(this))},r.totalTime=function(t,r){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=oe(ft.time-(this._ts>0?t/this._ts:(this.totalDuration()-t)/-this._ts))),e.prototype.totalTime.call(this,t,r),this._forcing=0,this):this._tTime},r.addLabel=function(e,t){return this.labels[e]=Ie(this,t),this},r.removeLabel=function(e){return delete this.labels[e],this},r.addPause=function(e,t,r){var n=Nt.delayedCall(0,t||X,r);return n.data="isPause",this._hasPause=1,Oe(this,n,Ie(this,e))},r.removePause=function(e){var t=this._first;for(e=Ie(this,e);t;)t._start===e&&"isPause"===t.data&&xe(t),t=t._next},r.killTweensOf=function(e,t,r){for(var n=this.getTweensOf(e,r),i=n.length;i--;)Ct!==n[i]&&n[i].kill(e,t);return this},r.getTweensOf=function(e,t){for(var r,n=[],i=Ge(e),a=this._first,o=M(t);a;)a instanceof Nt?se(a._targets,i)&&(o?(!Ct||a._initted&&a._ts)&&a.globalTime(0)<=t&&a.globalTime(a.totalDuration())>t:!t||a.isActive())&&n.push(a):(r=a.getTweensOf(i,t)).length&&n.push.apply(n,r),a=a._next;return n},r.tweenTo=function(e,t){t=t||{};var r=this,n=Ie(r,e),i=t,a=i.startAt,o=i.onStart,s=i.onStartParams,u=i.immediateRender,l=Nt.to(r,pe({ease:t.ease||"none",lazy:!1,immediateRender:!1,time:n,overwrite:"auto",duration:t.duration||Math.abs((n-(a&&"time"in a?a.time:r._time))/r.timeScale())||g,onStart:function(){r.pause();var e=t.duration||Math.abs((n-r._time)/r.timeScale());l._dur!==e&&ze(l,e,0,1).render(l._time,!0,!0),o&&o.apply(l,s||[])}},t));return u?l.render(0):l},r.tweenFromTo=function(e,t,r){return this.tweenTo(t,pe({startAt:{time:Ie(this,e)}},r))},r.recent=function(){return this._recent},r.nextLabel=function(e){return void 0===e&&(e=this._time),$e(this,Ie(this,e))},r.previousLabel=function(e){return void 0===e&&(e=this._time),$e(this,Ie(this,e),1)},r.currentLabel=function(e){return arguments.length?this.seek(e,!0):this.previousLabel(this._time+g)},r.shiftChildren=function(e,t,r){void 0===r&&(r=0);for(var n,i=this._first,a=this.labels;i;)i._start>=r&&(i._start+=e,i._end+=e),i=i._next;if(t)for(n in a)a[n]>=r&&(a[n]+=e);return we(this)},r.invalidate=function(){var t=this._first;for(this._lock=0;t;)t.invalidate(),t=t._next;return e.prototype.invalidate.call(this)},r.clear=function(e){void 0===e&&(e=!0);for(var t,r=this._first;r;)t=r._next,this.remove(r),r=t;return this._dp&&(this._time=this._tTime=this._pTime=0),e&&(this.labels={}),we(this)},r.totalDuration=function(e){var t,r,n,i=0,a=this,s=a._last,u=v;if(arguments.length)return a.timeScale((a._repeat<0?a.duration():a.totalDuration())/(a.reversed()?-e:e));if(a._dirty){for(n=a.parent;s;)t=s._prev,s._dirty&&s.totalDuration(),(r=s._start)>u&&a._sort&&s._ts&&!a._lock?(a._lock=1,Oe(a,s,r-s._delay,1)._lock=0):u=r,r<0&&s._ts&&(i-=r,(!n&&!a._dp||n&&n.smoothChildTiming)&&(a._start+=r/a._ts,a._time-=r,a._tTime-=r),a.shiftChildren(-r,!1,-Infinity),u=0),s._end>i&&s._ts&&(i=s._end),s=t;ze(a,a===o&&a._time>i?a._time:i,1,1),a._dirty=0}return a._tDur},t.updateRoot=function(e){if(o._ts&&(ce(o,Me(e,o)),h=ft.frame),ft.frame>=$){$+=d.autoSleep||120;var t=o._first;if((!t||!t._ts)&&d.autoSleep&&ft._listeners.length<2){for(;t&&!t._ts;)t=t._next;t||ft.sleep()}}},t}(Mt);pe(At.prototype,{_lock:0,_hasPause:0,_forcing:0});var Ct,Rt=function(e,t,r,n,i,a,o){var s,u,l,c,h,f,p,d,m=new Kt(this._pt,e,t,0,1,Gt,null,i),v=0,g=0;for(m.b=r,m.e=n,r+="",(p=~(n+="").indexOf("random("))&&(n=Qe(n)),a&&(a(d=[r,n],e,t),r=d[0],n=d[1]),u=r.match(I)||[];s=I.exec(n);)c=s[0],h=n.substring(v,s.index),l?l=(l+1)%5:"rgba("===h.substr(-5)&&(l=1),c!==u[g++]&&(f=parseFloat(u[g-1])||0,m._pt={_next:m._pt,p:h||1===g?h:",",s:f,c:"="===c.charAt(1)?parseFloat(c.substr(2))*("-"===c.charAt(0)?-1:1):parseFloat(c)-f,m:l&&l<4?Math.round:0},v=I.lastIndex);return m.c=v<n.length?n.substring(v,n.length):"",m.fp=o,(F.test(n)||p)&&(m.e=0),this._pt=m,m},Ot=function(e,t,r,n,i,a,o,s,u){S(n)&&(n=n(i||0,e,a));var l,c=e[t],h="get"!==r?r:S(c)?u?e[t.indexOf("set")||!S(e["get"+t.substr(3)])?t:"get"+t.substr(3)](u):e[t]():c,f=S(c)?u?Ut:Ft:It;if(E(n)&&(~n.indexOf("random(")&&(n=Qe(n)),"="===n.charAt(1)&&(n=parseFloat(h)+parseFloat(n.substr(2))*("-"===n.charAt(0)?-1:1)+(Be(h)||0))),h!==n)return isNaN(h*n)?(!c&&!(t in e)&&G(t,n),Rt.call(this,e,t,h,n,f,s||d.stringFilter,u)):(l=new Kt(this._pt,e,t,+h||0,n-(h||0),"boolean"===typeof c?Vt:Ht,0,f),u&&(l.fp=u),o&&l.modifier(o,this,e),this._pt=l)},kt=function(e,t,r,n,i,a){var o,s,u,l;if(Q[e]&&!1!==(o=new Q[e]).init(i,o.rawVars?t[e]:function(e,t,r,n,i){if(S(e)&&(e=Lt(e,i,t,r,n)),!C(e)||e.style&&e.nodeType||L(e)||P(e))return E(e)?Lt(e,i,t,r,n):e;var a,o={};for(a in e)o[a]=Lt(e[a],i,t,r,n);return o}(t[e],n,i,a,r),r,n,a)&&(r._pt=s=new Kt(r._pt,i,e,0,1,o.render,o,0,o.priority),r!==f))for(u=r._ptLookup[r._targets.indexOf(i)],l=o._props.length;l--;)u[o._props[l]]=s;return o},Pt=function e(t,r){var n,i,s,u,l,c,h,f,p,d,v,y,b,x=t.vars,w=x.ease,_=x.startAt,T=x.immediateRender,E=x.lazy,S=x.onUpdate,M=x.onUpdateParams,A=x.callbackScope,C=x.runBackwards,O=x.yoyoEase,k=x.keyframes,P=x.autoRevert,L=t._dur,z=t._startAt,D=t._targets,N=t.parent,I=N&&"nested"===N.data?N.parent._targets:D,F="auto"===t._overwrite&&!a,U=t.timeline;if(U&&(!k||!w)&&(w="none"),t._ease=xt(w,m.ease),t._yEase=O?yt(xt(!0===O?w:O,m.ease)):0,O&&t._yoyo&&!t._repeat&&(O=t._yEase,t._yEase=t._ease,t._ease=O),!U){if(y=(f=D[0]?ne(D[0]).harness:0)&&x[f.prop],n=ge(x,Y),z&&z.render(-1,!0).kill(),_)if(xe(t._startAt=Nt.set(D,pe({data:"isStart",overwrite:!1,parent:N,immediateRender:!0,lazy:R(E),startAt:null,delay:0,onUpdate:S,onUpdateParams:M,callbackScope:A,stagger:0},_))),T){if(r>0)P||(t._startAt=0);else if(L&&!(r<0&&z))return void(r&&(t._zTime=r))}else!1===P&&(t._startAt=0);else if(C&&L)if(z)!P&&(t._startAt=0);else if(r&&(T=!1),s=pe({overwrite:!1,data:"isFromStart",lazy:T&&R(E),immediateRender:T,stagger:0,parent:N},n),y&&(s[f.prop]=y),xe(t._startAt=Nt.set(D,s)),T){if(!r)return}else e(t._startAt,g);for(t._pt=0,E=L&&R(E)||E&&!L,i=0;i<D.length;i++){if(h=(l=D[i])._gsap||re(D)[i]._gsap,t._ptLookup[i]=d={},K[h.id]&&Z.length&&le(),v=I===D?i:I.indexOf(l),f&&!1!==(p=new f).init(l,y||n,t,v,I)&&(t._pt=u=new Kt(t._pt,l,p.name,0,1,p.render,p,0,p.priority),p._props.forEach((function(e){d[e]=u})),p.priority&&(c=1)),!f||y)for(s in n)Q[s]&&(p=kt(s,n,t,v,l,I))?p.priority&&(c=1):d[s]=u=Ot.call(t,l,s,"get",n[s],v,I,0,x.stringFilter);t._op&&t._op[i]&&t.kill(l,t._op[i]),F&&t._pt&&(Ct=t,o.killTweensOf(l,d,t.globalTime(0)),b=!t.parent,Ct=0),t._pt&&E&&(K[h.id]=1)}c&&Zt(t),t._onInit&&t._onInit(t)}t._from=!U&&!!x.runBackwards,t._onUpdate=S,t._initted=(!t._op||t._pt)&&!b},Lt=function(e,t,r,n,i){return S(e)?e.call(t,r,n,i):E(e)&&~e.indexOf("random(")?Qe(e):e},zt=te+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase",Dt=(zt+",id,stagger,delay,duration,paused,scrollTrigger").split(","),Nt=function(e){function t(t,r,i,s){var u;"number"===typeof r&&(i.duration=r,r=i,i=null);var l,c,h,f,p,m,v,g,y=(u=e.call(this,s?r:ye(r),i)||this).vars,b=y.duration,x=y.delay,w=y.immediateRender,_=y.stagger,T=y.overwrite,E=y.keyframes,S=y.defaults,A=y.scrollTrigger,O=y.yoyoEase,z=u.parent,D=(L(t)||P(t)?M(t[0]):"length"in r)?[t]:Ge(t);if(u._targets=D.length?re(D):W("GSAP target "+t+" not found. https://greensock.com",!d.nullTargetWarn)||[],u._ptLookup=[],u._overwrite=T,E||_||k(b)||k(x)){if(r=u.vars,(l=u.timeline=new At({data:"nested",defaults:S||{}})).kill(),l.parent=l._dp=n(u),l._start=0,E)pe(l.vars.defaults,{ease:"none"}),E.forEach((function(e){return l.to(D,e,">")}));else{if(f=D.length,v=_?qe(_):X,C(_))for(p in _)~zt.indexOf(p)&&(g||(g={}),g[p]=_[p]);for(c=0;c<f;c++){for(p in h={},r)Dt.indexOf(p)<0&&(h[p]=r[p]);h.stagger=0,O&&(h.yoyoEase=O),g&&me(h,g),m=D[c],h.duration=+Lt(b,n(u),c,m,D),h.delay=(+Lt(x,n(u),c,m,D)||0)-u._delay,!_&&1===f&&h.delay&&(u._delay=x=h.delay,u._start+=x,h.delay=0),l.to(m,h,v(c,m,D))}l.duration()?b=x=0:u.timeline=0}b||u.duration(b=l.duration())}else u.timeline=0;return!0!==T||a||(Ct=n(u),o.killTweensOf(D),Ct=0),z&&Re(z,n(u)),(w||!b&&!E&&u._start===oe(z._time)&&R(w)&&Te(n(u))&&"nested"!==z.data)&&(u._tTime=-1e-8,u.render(Math.max(0,-x))),A&&ke(n(u),A),u}i(t,e);var r=t.prototype;return r.render=function(e,t,r){var n,i,a,o,s,u,l,c,h,f=this._time,p=this._tDur,d=this._dur,m=e>p-g&&e>=0?p:e<g?0:e;if(d){if(m!==this._tTime||!e||r||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==e<0){if(n=m,c=this.timeline,this._repeat){if(o=d+this._rDelay,this._repeat<-1&&e<0)return this.totalTime(100*o+e,t,r);if(n=oe(m%o),m===p?(a=this._repeat,n=d):((a=~~(m/o))&&a===m/o&&(n=d,a--),n>d&&(n=d)),(u=this._yoyo&&1&a)&&(h=this._yEase,n=d-n),s=Se(this._tTime,o),n===f&&!r&&this._initted)return this;a!==s&&(c&&this._yEase&&bt(c,u),!this.vars.repeatRefresh||u||this._lock||(this._lock=r=1,this.render(oe(o*a),!0).invalidate()._lock=0))}if(!this._initted){if(Pe(this,e<0?e:n,r,t))return this._tTime=0,this;if(d!==this._dur)return this.render(e,t,r)}for(this._tTime=m,this._time=n,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=l=(h||this._ease)(n/d),this._from&&(this.ratio=l=1-l),n&&!f&&!t&&et(this,"onStart"),i=this._pt;i;)i.r(l,i.d),i=i._next;c&&c.render(e<0?e:!n&&u?-1e-8:c._dur*l,t,r)||this._startAt&&(this._zTime=e),this._onUpdate&&!t&&(e<0&&this._startAt&&this._startAt.render(e,!0,r),et(this,"onUpdate")),this._repeat&&a!==s&&this.vars.onRepeat&&!t&&this.parent&&et(this,"onRepeat"),m!==this._tDur&&m||this._tTime!==m||(e<0&&this._startAt&&!this._onUpdate&&this._startAt.render(e,!0,!0),(e||!d)&&(m===this._tDur&&this._ts>0||!m&&this._ts<0)&&xe(this,1),t||e<0&&!f||!m&&!f||(et(this,m===p?"onComplete":"onReverseComplete",!0),this._prom&&!(m<p&&this.timeScale()>0)&&this._prom()))}}else!function(e,t,r,n){var i,a,o,s=e.ratio,u=t<0||!t&&(!e._start&&Le(e)||(e._ts<0||e._dp._ts<0)&&"isFromStart"!==e.data&&"isStart"!==e.data)?0:1,l=e._rDelay,c=0;if(l&&e._repeat&&(c=Ue(0,e._tDur,t),a=Se(c,l),o=Se(e._tTime,l),e._yoyo&&1&a&&(u=1-u),a!==o&&(s=1-u,e.vars.repeatRefresh&&e._initted&&e.invalidate())),u!==s||n||e._zTime===g||!t&&e._zTime){if(!e._initted&&Pe(e,t,n,r))return;for(o=e._zTime,e._zTime=t||(r?g:0),r||(r=t&&!o),e.ratio=u,e._from&&(u=1-u),e._time=0,e._tTime=c,i=e._pt;i;)i.r(u,i.d),i=i._next;e._startAt&&t<0&&e._startAt.render(t,!0,!0),e._onUpdate&&!r&&et(e,"onUpdate"),c&&e._repeat&&!r&&e.parent&&et(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===u&&(u&&xe(e,1),r||(et(e,u?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)}(this,e,t,r);return this},r.targets=function(){return this._targets},r.invalidate=function(){return this._pt=this._op=this._startAt=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(),e.prototype.invalidate.call(this)},r.kill=function(e,t){if(void 0===t&&(t="all"),!e&&(!t||"all"===t))return this._lazy=this._pt=0,this.parent?tt(this):this;if(this.timeline){var r=this.timeline.totalDuration();return this.timeline.killTweensOf(e,t,Ct&&!0!==Ct.vars.overwrite)._first||tt(this),this.parent&&r!==this.timeline.totalDuration()&&ze(this,this._dur*this.timeline._tDur/r,0,1),this}var n,i,a,o,s,u,l,c=this._targets,h=e?Ge(e):c,f=this._ptLookup,p=this._pt;if((!t||"all"===t)&&function(e,t){for(var r=e.length,n=r===t.length;n&&r--&&e[r]===t[r];);return r<0}(c,h))return"all"===t&&(this._pt=0),tt(this);for(n=this._op=this._op||[],"all"!==t&&(E(t)&&(s={},ae(t,(function(e){return s[e]=1})),t=s),t=function(e,t){var r,n,i,a,o=e[0]?ne(e[0]).harness:0,s=o&&o.aliases;if(!s)return t;for(n in r=me({},t),s)if(n in r)for(i=(a=s[n].split(",")).length;i--;)r[a[i]]=r[n];return r}(c,t)),l=c.length;l--;)if(~h.indexOf(c[l]))for(s in i=f[l],"all"===t?(n[l]=t,o=i,a={}):(a=n[l]=n[l]||{},o=t),o)(u=i&&i[s])&&("kill"in u.d&&!0!==u.d.kill(s)||be(this,u,"_pt"),delete i[s]),"all"!==a&&(a[s]=1);return this._initted&&!this._pt&&p&&tt(this),this},t.to=function(e,r){return new t(e,r,arguments[2])},t.from=function(e,r){return new t(e,ue(arguments,1))},t.delayedCall=function(e,r,n,i){return new t(r,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:e,onComplete:r,onReverseComplete:r,onCompleteParams:n,onReverseCompleteParams:n,callbackScope:i})},t.fromTo=function(e,r,n){return new t(e,ue(arguments,2))},t.set=function(e,r){return r.duration=0,r.repeatDelay||(r.repeat=0),new t(e,r)},t.killTweensOf=function(e,t,r){return o.killTweensOf(e,t,r)},t}(Mt);pe(Nt.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),ae("staggerTo,staggerFrom,staggerFromTo",(function(e){Nt[e]=function(){var t=new At,r=je.call(arguments,0);return r.splice("staggerFromTo"===e?5:4,0,0),t[e].apply(t,r)}}));var It=function(e,t,r){return e[t]=r},Ft=function(e,t,r){return e[t](r)},Ut=function(e,t,r,n){return e[t](n.fp,r)},Bt=function(e,t,r){return e.setAttribute(t,r)},jt=function(e,t){return S(e[t])?Ft:A(e[t])&&e.setAttribute?Bt:It},Ht=function(e,t){return t.set(t.t,t.p,Math.round(1e4*(t.s+t.c*e))/1e4,t)},Vt=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},Gt=function(e,t){var r=t._pt,n="";if(!e&&t.b)n=t.b;else if(1===e&&t.e)n=t.e;else{for(;r;)n=r.p+(r.m?r.m(r.s+r.c*e):Math.round(1e4*(r.s+r.c*e))/1e4)+n,r=r._next;n+=t.c}t.set(t.t,t.p,n,t)},Wt=function(e,t){for(var r=t._pt;r;)r.r(e,r.d),r=r._next},qt=function(e,t,r,n){for(var i,a=this._pt;a;)i=a._next,a.p===n&&a.modifier(e,t,r),a=i},Xt=function(e){for(var t,r,n=this._pt;n;)r=n._next,n.p===e&&!n.op||n.op===e?be(this,n,"_pt"):n.dep||(t=1),n=r;return!t},Yt=function(e,t,r,n){n.mSet(e,t,n.m.call(n.tween,r,n.mt),n)},Zt=function(e){for(var t,r,n,i,a=e._pt;a;){for(t=a._next,r=n;r&&r.pr>a.pr;)r=r._next;(a._prev=r?r._prev:i)?a._prev._next=a:n=a,(a._next=r)?r._prev=a:i=a,a=t}e._pt=n},Kt=function(){function e(e,t,r,n,i,a,o,s,u){this.t=t,this.s=n,this.c=i,this.p=r,this.r=a||Ht,this.d=o||this,this.set=s||It,this.pr=u||0,this._next=e,e&&(e._prev=this)}return e.prototype.modifier=function(e,t,r){this.mSet=this.mSet||this.set,this.set=Yt,this.m=e,this.mt=r,this.tween=t},e}();ae(te+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",(function(e){return Y[e]=1})),j.TweenMax=j.TweenLite=Nt,j.TimelineLite=j.TimelineMax=At,o=new At({sortChildren:!1,defaults:m,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),d.stringFilter=ht;var Qt={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t.forEach((function(e){return rt(e)}))},timeline:function(e){return new At(e)},getTweensOf:function(e,t){return o.getTweensOf(e,t)},getProperty:function(e,t,r,n){E(e)&&(e=Ge(e)[0]);var i=ne(e||{}).get,a=r?fe:he;return"native"===r&&(r=""),e?t?a((Q[t]&&Q[t].get||i)(e,t,r,n)):function(t,r,n){return a((Q[t]&&Q[t].get||i)(e,t,r,n))}:e},quickSetter:function(e,t,r){if((e=Ge(e)).length>1){var n=e.map((function(e){return er.quickSetter(e,t,r)})),i=n.length;return function(e){for(var t=i;t--;)n[t](e)}}e=e[0]||{};var a=Q[t],o=ne(e),s=o.harness&&(o.harness.aliases||{})[t]||t,u=a?function(t){var n=new a;f._pt=0,n.init(e,r?t+r:t,f,0,[e]),n.render(1,n),f._pt&&Wt(1,f)}:o.set(e,s);return a?u:function(t){return u(e,s,r?t+r:t,o,1)}},isTweening:function(e){return o.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=xt(e.ease,m.ease)),ve(m,e||{})},config:function(e){return ve(d,e||{})},registerEffect:function(e){var t=e.name,r=e.effect,n=e.plugins,i=e.defaults,a=e.extendTimeline;(n||"").split(",").forEach((function(e){return e&&!Q[e]&&!j[e]&&W(t+" effect requires "+e+" plugin.")})),J[t]=function(e,t,n){return r(Ge(e),pe(t||{},i),n)},a&&(At.prototype[t]=function(e,r,n){return this.add(J[t](e,C(r)?r:(n=r)&&{},this),n)})},registerEase:function(e,t){dt[e]=xt(t)},parseEase:function(e,t){return arguments.length?xt(e,t):dt},getById:function(e){return o.getById(e)},exportRoot:function(e,t){void 0===e&&(e={});var r,n,i=new At(e);for(i.smoothChildTiming=R(e.smoothChildTiming),o.remove(i),i._dp=0,i._time=i._tTime=o._time,r=o._first;r;)n=r._next,!t&&!r._dur&&r instanceof Nt&&r.vars.onComplete===r._targets[0]||Oe(i,r,r._start-r._delay),r=n;return Oe(o,i,0),i},utils:{wrap:function e(t,r,n){var i=r-t;return L(t)?Ke(t,e(0,t.length),r):Fe(n,(function(e){return(i+(e-t)%i)%i+t}))},wrapYoyo:function e(t,r,n){var i=r-t,a=2*i;return L(t)?Ke(t,e(0,t.length-1),r):Fe(n,(function(e){return t+((e=(a+(e-t)%a)%a||0)>i?a-e:e)}))},distribute:qe,random:Ze,snap:Ye,normalize:function(e,t,r){return Je(e,t,0,1,r)},getUnit:Be,clamp:function(e,t,r){return Fe(r,(function(r){return Ue(e,t,r)}))},splitColor:ot,toArray:Ge,mapRange:Je,pipe:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return t.reduce((function(e,t){return t(e)}),e)}},unitize:function(e,t){return function(r){return e(parseFloat(r))+(t||Be(r))}},interpolate:function e(t,r,n,i){var a=isNaN(t+r)?0:function(e){return(1-e)*t+e*r};if(!a){var o,s,u,l,c,h=E(t),f={};if(!0===n&&(i=1)&&(n=null),h)t={p:t},r={p:r};else if(L(t)&&!L(r)){for(u=[],l=t.length,c=l-2,s=1;s<l;s++)u.push(e(t[s-1],t[s]));l--,a=function(e){e*=l;var t=Math.min(c,~~e);return u[t](e-t)},n=r}else i||(t=me(L(t)?[]:{},t));if(!u){for(o in r)Ot.call(f,t,o,"get",r[o]);a=function(e){return Wt(e,f)||(h?t.p:t)}}}return Fe(n,a)},shuffle:We},install:V,effects:J,ticker:ft,updateRoot:At.updateRoot,plugins:Q,globalTimeline:o,core:{PropTween:Kt,globals:q,Tween:Nt,Timeline:At,Animation:Mt,getCache:ne,_removeLinkedListItem:be,suppressOverwrites:function(e){return a=e}}};ae("to,from,fromTo,delayedCall,set,killTweensOf",(function(e){return Qt[e]=Nt[e]})),ft.add(At.updateRoot),f=Qt.to({},{duration:0});var Jt=function(e,t){for(var r=e._pt;r&&r.p!==t&&r.op!==t&&r.fp!==t;)r=r._next;return r},$t=function(e,t){return{name:e,rawVars:1,init:function(e,r,n){n._onInit=function(e){var n,i;if(E(r)&&(n={},ae(r,(function(e){return n[e]=1})),r=n),t){for(i in n={},r)n[i]=t(r[i]);r=n}!function(e,t){var r,n,i,a=e._targets;for(r in t)for(n=a.length;n--;)(i=e._ptLookup[n][r])&&(i=i.d)&&(i._pt&&(i=Jt(i,r)),i&&i.modifier&&i.modifier(t[r],e,a[n],r))}(e,r)}}}},er=Qt.registerPlugin({name:"attr",init:function(e,t,r,n,i){var a,o;for(a in t)(o=this.add(e,"setAttribute",(e.getAttribute(a)||0)+"",t[a],n,i,0,0,a))&&(o.op=a),this._props.push(a)}},{name:"endArray",init:function(e,t){for(var r=t.length;r--;)this.add(e,r,e[r]||0,t[r])}},$t("roundProps",Xe),$t("modifiers"),$t("snap",Ye))||Qt;Nt.version=At.version=er.version="3.6.1",c=1,O()&&pt();dt.Power0,dt.Power1,dt.Power2,dt.Power3,dt.Power4,dt.Linear,dt.Quad,dt.Cubic,dt.Quart,dt.Quint,dt.Strong,dt.Elastic,dt.Back,dt.SteppedEase,dt.Bounce,dt.Sine,dt.Expo,dt.Circ;var tr,rr,nr,ir,ar,or,sr,ur={},lr=180/Math.PI,cr=Math.PI/180,hr=Math.atan2,fr=/([A-Z])/g,pr=/(?:left|right|width|margin|padding|x)/i,dr=/[\s,\(]\S/,mr={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},vr=function(e,t){return t.set(t.t,t.p,Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},gr=function(e,t){return t.set(t.t,t.p,1===e?t.e:Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},yr=function(e,t){return t.set(t.t,t.p,e?Math.round(1e4*(t.s+t.c*e))/1e4+t.u:t.b,t)},br=function(e,t){var r=t.s+t.c*e;t.set(t.t,t.p,~~(r+(r<0?-.5:.5))+t.u,t)},xr=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},wr=function(e,t){return t.set(t.t,t.p,1!==e?t.b:t.e,t)},_r=function(e,t,r){return e.style[t]=r},Tr=function(e,t,r){return e.style.setProperty(t,r)},Er=function(e,t,r){return e._gsap[t]=r},Sr=function(e,t,r){return e._gsap.scaleX=e._gsap.scaleY=r},Mr=function(e,t,r,n,i){var a=e._gsap;a.scaleX=a.scaleY=r,a.renderTransform(i,a)},Ar=function(e,t,r,n,i){var a=e._gsap;a[t]=r,a.renderTransform(i,a)},Cr="transform",Rr=Cr+"Origin",Or=function(e,t){var r=rr.createElementNS?rr.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):rr.createElement(e);return r.style?r:rr.createElement(e)},kr=function e(t,r,n){var i=getComputedStyle(t);return i[r]||i.getPropertyValue(r.replace(fr,"-$1").toLowerCase())||i.getPropertyValue(r)||!n&&e(t,Lr(r)||r,1)||""},Pr="O,Moz,ms,Ms,Webkit".split(","),Lr=function(e,t,r){var n=(t||ar).style,i=5;if(e in n&&!r)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);i--&&!(Pr[i]+e in n););return i<0?null:(3===i?"ms":i>=0?Pr[i]:"")+e},zr=function(){"undefined"!==typeof window&&window.document&&(tr=window,rr=tr.document,nr=rr.documentElement,ar=Or("div")||{style:{}},Or("div"),Cr=Lr(Cr),Rr=Cr+"Origin",ar.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",sr=!!Lr("perspective"),ir=1)},Dr=function e(t){var r,n=Or("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,a=this.nextSibling,o=this.style.cssText;if(nr.appendChild(n),n.appendChild(this),this.style.display="block",t)try{r=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=e}catch(s){}else this._gsapBBox&&(r=this._gsapBBox());return i&&(a?i.insertBefore(this,a):i.appendChild(this)),nr.removeChild(n),this.style.cssText=o,r},Nr=function(e,t){for(var r=t.length;r--;)if(e.hasAttribute(t[r]))return e.getAttribute(t[r])},Ir=function(e){var t;try{t=e.getBBox()}catch(r){t=Dr.call(e,!0)}return t&&(t.width||t.height)||e.getBBox===Dr||(t=Dr.call(e,!0)),!t||t.width||t.x||t.y?t:{x:+Nr(e,["x","cx","x1"])||0,y:+Nr(e,["y","cy","y1"])||0,width:0,height:0}},Fr=function(e){return!(!e.getCTM||e.parentNode&&!e.ownerSVGElement||!Ir(e))},Ur=function(e,t){if(t){var r=e.style;t in ur&&t!==Rr&&(t=Cr),r.removeProperty?("ms"!==t.substr(0,2)&&"webkit"!==t.substr(0,6)||(t="-"+t),r.removeProperty(t.replace(fr,"-$1").toLowerCase())):r.removeAttribute(t)}},Br=function(e,t,r,n,i,a){var o=new Kt(e._pt,t,r,0,1,a?wr:xr);return e._pt=o,o.b=n,o.e=i,e._props.push(r),o},jr={deg:1,rad:1,turn:1},Hr=function e(t,r,n,i){var a,o,s,u,l=parseFloat(n)||0,c=(n+"").trim().substr((l+"").length)||"px",h=ar.style,f=pr.test(r),p="svg"===t.tagName.toLowerCase(),d=(p?"client":"offset")+(f?"Width":"Height"),m=100,v="px"===i,g="%"===i;return i===c||!l||jr[i]||jr[c]?l:("px"!==c&&!v&&(l=e(t,r,n,"px")),u=t.getCTM&&Fr(t),!g&&"%"!==c||!ur[r]&&!~r.indexOf("adius")?(h[f?"width":"height"]=m+(v?c:i),o=~r.indexOf("adius")||"em"===i&&t.appendChild&&!p?t:t.parentNode,u&&(o=(t.ownerSVGElement||{}).parentNode),o&&o!==rr&&o.appendChild||(o=rr.body),(s=o._gsap)&&g&&s.width&&f&&s.time===ft.time?oe(l/s.width*m):((g||"%"===c)&&(h.position=kr(t,"position")),o===t&&(h.position="static"),o.appendChild(ar),a=ar[d],o.removeChild(ar),h.position="absolute",f&&g&&((s=ne(o)).time=ft.time,s.width=o[d]),oe(v?a*l/m:a&&l?m/a*l:0))):(a=u?t.getBBox()[f?"width":"height"]:t[d],oe(g?l/a*m:l/100*a)))},Vr=function(e,t,r,n){var i;return ir||zr(),t in mr&&"transform"!==t&&~(t=mr[t]).indexOf(",")&&(t=t.split(",")[0]),ur[t]&&"transform"!==t?(i=tn(e,n),i="transformOrigin"!==t?i[t]:rn(kr(e,Rr))+" "+i.zOrigin+"px"):(!(i=e.style[t])||"auto"===i||n||~(i+"").indexOf("calc("))&&(i=Yr[t]&&Yr[t](e,t,r)||kr(e,t)||ie(e,t)||("opacity"===t?1:0)),r&&!~(i+"").trim().indexOf(" ")?Hr(e,t,i,r)+r:i},Gr=function(e,t,r,n){if(!r||"none"===r){var i=Lr(t,e,1),a=i&&kr(e,i,1);a&&a!==r?(t=i,r=a):"borderColor"===t&&(r=kr(e,"borderTopColor"))}var o,s,u,l,c,h,f,p,m,v,g,y,b=new Kt(this._pt,e.style,t,0,1,Gt),x=0,w=0;if(b.b=r,b.e=n,r+="","auto"===(n+="")&&(e.style[t]=n,n=kr(e,t)||n,e.style[t]=r),ht(o=[r,n]),n=o[1],u=(r=o[0]).match(N)||[],(n.match(N)||[]).length){for(;s=N.exec(n);)f=s[0],m=n.substring(x,s.index),c?c=(c+1)%5:"rgba("!==m.substr(-5)&&"hsla("!==m.substr(-5)||(c=1),f!==(h=u[w++]||"")&&(l=parseFloat(h)||0,g=h.substr((l+"").length),(y="="===f.charAt(1)?+(f.charAt(0)+"1"):0)&&(f=f.substr(2)),p=parseFloat(f),v=f.substr((p+"").length),x=N.lastIndex-v.length,v||(v=v||d.units[t]||g,x===n.length&&(n+=v,b.e+=v)),g!==v&&(l=Hr(e,t,h,v)||0),b._pt={_next:b._pt,p:m||1===w?m:",",s:l,c:y?y*p:p-l,m:c&&c<4||"zIndex"===t?Math.round:0});b.c=x<n.length?n.substring(x,n.length):""}else b.r="display"===t&&"none"===n?wr:xr;return F.test(n)&&(b.e=0),this._pt=b,b},Wr={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},qr=function(e){var t=e.split(" "),r=t[0],n=t[1]||"50%";return"top"!==r&&"bottom"!==r&&"left"!==n&&"right"!==n||(e=r,r=n,n=e),t[0]=Wr[r]||r,t[1]=Wr[n]||n,t.join(" ")},Xr=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var r,n,i,a=t.t,o=a.style,s=t.u,u=a._gsap;if("all"===s||!0===s)o.cssText="",n=1;else for(i=(s=s.split(",")).length;--i>-1;)r=s[i],ur[r]&&(n=1,r="transformOrigin"===r?Rr:Cr),Ur(a,r);n&&(Ur(a,Cr),u&&(u.svg&&a.removeAttribute("transform"),tn(a,1),u.uncache=1))}},Yr={clearProps:function(e,t,r,n,i){if("isFromStart"!==i.data){var a=e._pt=new Kt(e._pt,t,r,0,0,Xr);return a.u=n,a.pr=-10,a.tween=i,e._props.push(r),1}}},Zr=[1,0,0,1,0,0],Kr={},Qr=function(e){return"matrix(1, 0, 0, 1, 0, 0)"===e||"none"===e||!e},Jr=function(e){var t=kr(e,Cr);return Qr(t)?Zr:t.substr(7).match(D).map(oe)},$r=function(e,t){var r,n,i,a,o=e._gsap||ne(e),s=e.style,u=Jr(e);return o.svg&&e.getAttribute("transform")?"1,0,0,1,0,0"===(u=[(i=e.transform.baseVal.consolidate().matrix).a,i.b,i.c,i.d,i.e,i.f]).join(",")?Zr:u:(u!==Zr||e.offsetParent||e===nr||o.svg||(i=s.display,s.display="block",(r=e.parentNode)&&e.offsetParent||(a=1,n=e.nextSibling,nr.appendChild(e)),u=Jr(e),i?s.display=i:Ur(e,"display"),a&&(n?r.insertBefore(e,n):r?r.appendChild(e):nr.removeChild(e))),t&&u.length>6?[u[0],u[1],u[4],u[5],u[12],u[13]]:u)},en=function(e,t,r,n,i,a){var o,s,u,l=e._gsap,c=i||$r(e,!0),h=l.xOrigin||0,f=l.yOrigin||0,p=l.xOffset||0,d=l.yOffset||0,m=c[0],v=c[1],g=c[2],y=c[3],b=c[4],x=c[5],w=t.split(" "),_=parseFloat(w[0])||0,T=parseFloat(w[1])||0;r?c!==Zr&&(s=m*y-v*g)&&(u=_*(-v/s)+T*(m/s)-(m*x-v*b)/s,_=_*(y/s)+T*(-g/s)+(g*x-y*b)/s,T=u):(_=(o=Ir(e)).x+(~w[0].indexOf("%")?_/100*o.width:_),T=o.y+(~(w[1]||w[0]).indexOf("%")?T/100*o.height:T)),n||!1!==n&&l.smooth?(b=_-h,x=T-f,l.xOffset=p+(b*m+x*g)-b,l.yOffset=d+(b*v+x*y)-x):l.xOffset=l.yOffset=0,l.xOrigin=_,l.yOrigin=T,l.smooth=!!n,l.origin=t,l.originIsAbsolute=!!r,e.style[Rr]="0px 0px",a&&(Br(a,l,"xOrigin",h,_),Br(a,l,"yOrigin",f,T),Br(a,l,"xOffset",p,l.xOffset),Br(a,l,"yOffset",d,l.yOffset)),e.setAttribute("data-svg-origin",_+" "+T)},tn=function(e,t){var r=e._gsap||new St(e);if("x"in r&&!t&&!r.uncache)return r;var n,i,a,o,s,u,l,c,h,f,p,m,v,g,y,b,x,w,_,T,E,S,M,A,C,R,O,k,P,L,z,D,N=e.style,I=r.scaleX<0,F="px",U="deg",B=kr(e,Rr)||"0";return n=i=a=u=l=c=h=f=p=0,o=s=1,r.svg=!(!e.getCTM||!Fr(e)),g=$r(e,r.svg),r.svg&&(A=!r.uncache&&!t&&e.getAttribute("data-svg-origin"),en(e,A||B,!!A||r.originIsAbsolute,!1!==r.smooth,g)),m=r.xOrigin||0,v=r.yOrigin||0,g!==Zr&&(w=g[0],_=g[1],T=g[2],E=g[3],n=S=g[4],i=M=g[5],6===g.length?(o=Math.sqrt(w*w+_*_),s=Math.sqrt(E*E+T*T),u=w||_?hr(_,w)*lr:0,(h=T||E?hr(T,E)*lr+u:0)&&(s*=Math.abs(Math.cos(h*cr))),r.svg&&(n-=m-(m*w+v*T),i-=v-(m*_+v*E))):(D=g[6],L=g[7],O=g[8],k=g[9],P=g[10],z=g[11],n=g[12],i=g[13],a=g[14],l=(y=hr(D,P))*lr,y&&(A=S*(b=Math.cos(-y))+O*(x=Math.sin(-y)),C=M*b+k*x,R=D*b+P*x,O=S*-x+O*b,k=M*-x+k*b,P=D*-x+P*b,z=L*-x+z*b,S=A,M=C,D=R),c=(y=hr(-T,P))*lr,y&&(b=Math.cos(-y),z=E*(x=Math.sin(-y))+z*b,w=A=w*b-O*x,_=C=_*b-k*x,T=R=T*b-P*x),u=(y=hr(_,w))*lr,y&&(A=w*(b=Math.cos(y))+_*(x=Math.sin(y)),C=S*b+M*x,_=_*b-w*x,M=M*b-S*x,w=A,S=C),l&&Math.abs(l)+Math.abs(u)>359.9&&(l=u=0,c=180-c),o=oe(Math.sqrt(w*w+_*_+T*T)),s=oe(Math.sqrt(M*M+D*D)),y=hr(S,M),h=Math.abs(y)>2e-4?y*lr:0,p=z?1/(z<0?-z:z):0),r.svg&&(A=e.getAttribute("transform"),r.forceCSS=e.setAttribute("transform","")||!Qr(kr(e,Cr)),A&&e.setAttribute("transform",A))),Math.abs(h)>90&&Math.abs(h)<270&&(I?(o*=-1,h+=u<=0?180:-180,u+=u<=0?180:-180):(s*=-1,h+=h<=0?180:-180)),r.x=n-((r.xPercent=n&&(r.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-n)?-50:0)))?e.offsetWidth*r.xPercent/100:0)+F,r.y=i-((r.yPercent=i&&(r.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-i)?-50:0)))?e.offsetHeight*r.yPercent/100:0)+F,r.z=a+F,r.scaleX=oe(o),r.scaleY=oe(s),r.rotation=oe(u)+U,r.rotationX=oe(l)+U,r.rotationY=oe(c)+U,r.skewX=h+U,r.skewY=f+U,r.transformPerspective=p+F,(r.zOrigin=parseFloat(B.split(" ")[2])||0)&&(N[Rr]=rn(B)),r.xOffset=r.yOffset=0,r.force3D=d.force3D,r.renderTransform=r.svg?cn:sr?ln:an,r.uncache=0,r},rn=function(e){return(e=e.split(" "))[0]+" "+e[1]},nn=function(e,t,r){var n=Be(t);return oe(parseFloat(t)+parseFloat(Hr(e,"x",r+"px",n)))+n},an=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,ln(e,t)},on="0deg",sn="0px",un=") ",ln=function(e,t){var r=t||this,n=r.xPercent,i=r.yPercent,a=r.x,o=r.y,s=r.z,u=r.rotation,l=r.rotationY,c=r.rotationX,h=r.skewX,f=r.skewY,p=r.scaleX,d=r.scaleY,m=r.transformPerspective,v=r.force3D,g=r.target,y=r.zOrigin,b="",x="auto"===v&&e&&1!==e||!0===v;if(y&&(c!==on||l!==on)){var w,_=parseFloat(l)*cr,T=Math.sin(_),E=Math.cos(_);_=parseFloat(c)*cr,w=Math.cos(_),a=nn(g,a,T*w*-y),o=nn(g,o,-Math.sin(_)*-y),s=nn(g,s,E*w*-y+y)}m!==sn&&(b+="perspective("+m+un),(n||i)&&(b+="translate("+n+"%, "+i+"%) "),(x||a!==sn||o!==sn||s!==sn)&&(b+=s!==sn||x?"translate3d("+a+", "+o+", "+s+") ":"translate("+a+", "+o+un),u!==on&&(b+="rotate("+u+un),l!==on&&(b+="rotateY("+l+un),c!==on&&(b+="rotateX("+c+un),h===on&&f===on||(b+="skew("+h+", "+f+un),1===p&&1===d||(b+="scale("+p+", "+d+un),g.style[Cr]=b||"translate(0, 0)"},cn=function(e,t){var r,n,i,a,o,s=t||this,u=s.xPercent,l=s.yPercent,c=s.x,h=s.y,f=s.rotation,p=s.skewX,d=s.skewY,m=s.scaleX,v=s.scaleY,g=s.target,y=s.xOrigin,b=s.yOrigin,x=s.xOffset,w=s.yOffset,_=s.forceCSS,T=parseFloat(c),E=parseFloat(h);f=parseFloat(f),p=parseFloat(p),(d=parseFloat(d))&&(p+=d=parseFloat(d),f+=d),f||p?(f*=cr,p*=cr,r=Math.cos(f)*m,n=Math.sin(f)*m,i=Math.sin(f-p)*-v,a=Math.cos(f-p)*v,p&&(d*=cr,o=Math.tan(p-d),i*=o=Math.sqrt(1+o*o),a*=o,d&&(o=Math.tan(d),r*=o=Math.sqrt(1+o*o),n*=o)),r=oe(r),n=oe(n),i=oe(i),a=oe(a)):(r=m,a=v,n=i=0),(T&&!~(c+"").indexOf("px")||E&&!~(h+"").indexOf("px"))&&(T=Hr(g,"x",c,"px"),E=Hr(g,"y",h,"px")),(y||b||x||w)&&(T=oe(T+y-(y*r+b*i)+x),E=oe(E+b-(y*n+b*a)+w)),(u||l)&&(o=g.getBBox(),T=oe(T+u/100*o.width),E=oe(E+l/100*o.height)),o="matrix("+r+","+n+","+i+","+a+","+T+","+E+")",g.setAttribute("transform",o),_&&(g.style[Cr]=o)},hn=function(e,t,r,n,i,a){var o,s,u=360,l=E(i),c=parseFloat(i)*(l&&~i.indexOf("rad")?lr:1),h=a?c*a:c-n,f=n+h+"deg";return l&&("short"===(o=i.split("_")[1])&&(h%=u)!==h%180&&(h+=h<0?u:-360),"cw"===o&&h<0?h=(h+36e9)%u-~~(h/u)*u:"ccw"===o&&h>0&&(h=(h-36e9)%u-~~(h/u)*u)),e._pt=s=new Kt(e._pt,t,r,n,h,gr),s.e=f,s.u="deg",e._props.push(r),s},fn=function(e,t){for(var r in t)e[r]=t[r];return e},pn=function(e,t,r){var n,i,a,o,s,u,l,c=fn({},r._gsap),h=r.style;for(i in c.svg?(a=r.getAttribute("transform"),r.setAttribute("transform",""),h[Cr]=t,n=tn(r,1),Ur(r,Cr),r.setAttribute("transform",a)):(a=getComputedStyle(r)[Cr],h[Cr]=t,n=tn(r,1),h[Cr]=a),ur)(a=c[i])!==(o=n[i])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(i)<0&&(s=Be(a)!==(l=Be(o))?Hr(r,i,a,l):parseFloat(a),u=parseFloat(o),e._pt=new Kt(e._pt,n,i,s,u-s,vr),e._pt.u=l||0,e._props.push(i));fn(n,c)};ae("padding,margin,Width,Radius",(function(e,t){var r="Top",n="Right",i="Bottom",a="Left",o=(t<3?[r,n,i,a]:[r+a,r+n,i+n,i+a]).map((function(r){return t<2?e+r:"border"+r+e}));Yr[t>1?"border"+e:e]=function(e,t,r,n,i){var a,s;if(arguments.length<4)return a=o.map((function(t){return Vr(e,t,r)})),5===(s=a.join(" ")).split(a[0]).length?a[0]:s;a=(n+"").split(" "),s={},o.forEach((function(e,t){return s[e]=a[t]=a[t]||a[(t-1)/2|0]})),e.init(t,s,i)}}));var dn={name:"css",register:zr,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,r,n,i){var a,o,s,u,l,c,h,f,p,m,v,g,y,b,x,w=this._props,_=e.style,T=r.vars.startAt;for(h in ir||zr(),t)if("autoRound"!==h&&(o=t[h],!Q[h]||!kt(h,t,r,n,e,i)))if(l=typeof o,c=Yr[h],"function"===l&&(l=typeof(o=o.call(r,n,e,i))),"string"===l&&~o.indexOf("random(")&&(o=Qe(o)),c)c(this,e,h,o,r)&&(x=1);else if("--"===h.substr(0,2))a=(getComputedStyle(e).getPropertyValue(h)+"").trim(),o+="",lt.lastIndex=0,lt.test(a)||(f=Be(a),p=Be(o)),p?f!==p&&(a=Hr(e,h,a,p)+p):f&&(o+=f),this.add(_,"setProperty",a,o,n,i,0,0,h);else if("undefined"!==l){if(T&&h in T?(a="function"===typeof T[h]?T[h].call(r,n,e,i):T[h],h in d.units&&!Be(a)&&(a+=d.units[h]),"="===(a+"").charAt(1)&&(a=Vr(e,h))):a=Vr(e,h),u=parseFloat(a),(m="string"===l&&"="===o.charAt(1)?+(o.charAt(0)+"1"):0)&&(o=o.substr(2)),s=parseFloat(o),h in mr&&("autoAlpha"===h&&(1===u&&"hidden"===Vr(e,"visibility")&&s&&(u=0),Br(this,_,"visibility",u?"inherit":"hidden",s?"inherit":"hidden",!s)),"scale"!==h&&"transform"!==h&&~(h=mr[h]).indexOf(",")&&(h=h.split(",")[0])),v=h in ur)if(g||((y=e._gsap).renderTransform&&!t.parseTransform||tn(e,t.parseTransform),b=!1!==t.smoothOrigin&&y.smooth,(g=this._pt=new Kt(this._pt,_,Cr,0,1,y.renderTransform,y,0,-1)).dep=1),"scale"===h)this._pt=new Kt(this._pt,y,"scaleY",y.scaleY,m?m*s:s-y.scaleY),w.push("scaleY",h),h+="X";else{if("transformOrigin"===h){o=qr(o),y.svg?en(e,o,0,b,0,this):((p=parseFloat(o.split(" ")[2])||0)!==y.zOrigin&&Br(this,y,"zOrigin",y.zOrigin,p),Br(this,_,h,rn(a),rn(o)));continue}if("svgOrigin"===h){en(e,o,1,b,0,this);continue}if(h in Kr){hn(this,y,h,u,o,m);continue}if("smoothOrigin"===h){Br(this,y,"smooth",y.smooth,o);continue}if("force3D"===h){y[h]=o;continue}if("transform"===h){pn(this,o,e);continue}}else h in _||(h=Lr(h)||h);if(v||(s||0===s)&&(u||0===u)&&!dr.test(o)&&h in _)s||(s=0),(f=(a+"").substr((u+"").length))!==(p=Be(o)||(h in d.units?d.units[h]:f))&&(u=Hr(e,h,a,p)),this._pt=new Kt(this._pt,v?y:_,h,u,m?m*s:s-u,v||"px"!==p&&"zIndex"!==h||!1===t.autoRound?vr:br),this._pt.u=p||0,f!==p&&(this._pt.b=a,this._pt.r=yr);else if(h in _)Gr.call(this,e,h,a,o);else{if(!(h in e)){G(h,o);continue}this.add(e,h,e[h],o,n,i)}w.push(h)}x&&Zt(this)},get:Vr,aliases:mr,getSetter:function(e,t,r){var n=mr[t];return n&&n.indexOf(",")<0&&(t=n),t in ur&&t!==Rr&&(e._gsap.x||Vr(e,"x"))?r&&or===r?"scale"===t?Sr:Er:(or=r||{})&&("scale"===t?Mr:Ar):e.style&&!A(e.style[t])?_r:~t.indexOf("-")?Tr:jt(e,t)},core:{_removeProperty:Ur,_getMatrix:$r}};er.utils.checkPrefix=Lr,function(e,t,r,n){var i=ae(e+","+t+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",(function(e){ur[e]=1}));ae(t,(function(e){d.units[e]="deg",Kr[e]=1})),mr[i[13]]=e+","+t,ae("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",(function(e){var t=e.split(":");mr[t[1]]=i[t[0]]}))}("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY"),ae("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",(function(e){d.units[e]="px"})),er.registerPlugin(dn);var mn=er.registerPlugin(dn)||er;mn.core.Tween},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(14);function i(e,t){if(e){if("string"===typeof e)return Object(n.a)(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Object(n.a)(e,t):void 0}}},function(e,t,r){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";function n(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";var n=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function o(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var r,s,u=o(e),l=1;l<arguments.length;l++){for(var c in r=Object(arguments[l]))i.call(r,c)&&(u[c]=r[c]);if(n){s=n(r);for(var h=0;h<s.length;h++)a.call(r,s[h])&&(u[s[h]]=r[s[h]])}}return u}},function(e,t,r){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(24)},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(15),i=r(16);function a(e,t,r){return(a=Object(i.a)()?Reflect.construct:function(e,t,r){var i=[null];i.push.apply(i,t);var a=new(Function.bind.apply(e,i));return r&&Object(n.a)(a,r.prototype),a}).apply(null,arguments)}},function(e,t,r){"use strict";r.d(t,"a",(function(){return ut}));var n,i,a,o,s,u,l,c,h,f,p,d,m,v,g,y,b,x,w,_,T,E,S,M,A,C,R,O=1,k=[],P=[],L=Date.now,z=L(),D=0,N=1,I=function(e){return e},F=function(e){return Math.round(1e5*e)/1e5||0},U=function(){return"undefined"!==typeof window},B=function(){return n||U()&&(n=window.gsap)&&n.registerPlugin&&n},j=function(e){return!!~l.indexOf(e)},H=function(e,t){return~k.indexOf(e)&&k[k.indexOf(e)+1][t]},V=function(e,t){var r=t.s,n=t.sc,i=P.indexOf(e),a=n===ye.sc?1:2;return!~i&&(i=P.push(e)-1),P[i+a]||(P[i+a]=H(e,r)||(j(e)?n:function(t){return arguments.length?e[r]=t:e[r]}))},G=function(e){return H(e,"getBoundingClientRect")||(j(e)?function(){return nt.width=a.innerWidth,nt.height=a.innerHeight,nt}:function(){return we(e)})},W=function(e,t){var r=t.s,n=t.d2,i=t.d,o=t.a;return(r="scroll"+n)&&(o=H(e,r))?o()-G(e)()[i]:j(e)?Math.max(s[r],u[r])-(a["inner"+n]||s["client"+n]||u["client"+n]):e[r]-e["offset"+n]},q=function(e,t){for(var r=0;r<T.length;r+=3)(!t||~t.indexOf(T[r+1]))&&e(T[r],T[r+1],T[r+2])},X=function(e){return"string"===typeof e},Y=function(e){return"function"===typeof e},Z=function(e){return"number"===typeof e},K=function(e){return"object"===typeof e},Q=function(e){return Y(e)&&e()},J=function(e,t){return function(){var r=Q(e),n=Q(t);return function(){Q(r),Q(n)}}},$=Math.abs,ee="scrollLeft",te="scrollTop",re="left",ne="top",ie="right",ae="bottom",oe="width",se="height",ue="Right",le="Left",ce="Top",he="Bottom",fe="padding",pe="margin",de="Width",me="Height",ve="px",ge={s:ee,p:re,p2:le,os:ie,os2:ue,d:oe,d2:de,a:"x",sc:function(e){return arguments.length?a.scrollTo(e,ye.sc()):a.pageXOffset||o.scrollLeft||s.scrollLeft||u.scrollLeft||0}},ye={s:te,p:ne,p2:ce,os:ae,os2:he,d:se,d2:me,a:"y",op:ge,sc:function(e){return arguments.length?a.scrollTo(ge.sc(),e):a.pageYOffset||o.scrollTop||s.scrollTop||u.scrollTop||0}},be=function(e){return a.getComputedStyle(e)},xe=function(e,t){for(var r in t)r in e||(e[r]=t[r]);return e},we=function(e,t){var r=t&&"matrix(1, 0, 0, 1, 0, 0)"!==be(e)[b]&&n.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),i=e.getBoundingClientRect();return r&&r.progress(0).kill(),i},_e=function(e,t){var r=t.d2;return e["offset"+r]||e["client"+r]||0},Te=function(e){var t,r=[],n=e.labels,i=e.duration();for(t in n)r.push(n[t]/i);return r},Ee=function(e,t,r,n){return r.split(",").forEach((function(r){return e(t,r,n)}))},Se=function(e,t,r){return e.addEventListener(t,r,{passive:!0})},Me=function(e,t,r){return e.removeEventListener(t,r)},Ae={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},Ce={toggleActions:"play",anticipatePin:0},Re={top:0,left:0,center:.5,bottom:1,right:1},Oe=function(e,t){if(X(e)){var r=e.indexOf("="),n=~r?+(e.charAt(r-1)+1)*parseFloat(e.substr(r+1)):0;~r&&(e.indexOf("%")>r&&(n*=t/100),e=e.substr(0,r-1)),e=n+(e in Re?Re[e]*t:~e.indexOf("%")?parseFloat(e)*t/100:parseFloat(e)||0)}return e},ke=function(e,t,r,n,i,a,s){var l=i.startColor,c=i.endColor,h=i.fontSize,f=i.indent,p=i.fontWeight,d=o.createElement("div"),m=j(r)||"fixed"===H(r,"pinType"),v=-1!==e.indexOf("scroller"),g=m?u:r,y=-1!==e.indexOf("start"),b=y?l:c,x="border-color:"+b+";font-size:"+h+";color:"+b+";font-weight:"+p+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return x+="position:"+(v&&m?"fixed;":"absolute;"),(v||!m)&&(x+=(n===ye?ie:ae)+":"+(a+parseFloat(f))+"px;"),s&&(x+="box-sizing:border-box;text-align:left;width:"+s.offsetWidth+"px;"),d._isStart=y,d.setAttribute("class","gsap-marker-"+e),d.style.cssText=x,d.innerText=t||0===t?e+"-"+t:e,g.children[0]?g.insertBefore(d,g.children[0]):g.appendChild(d),d._offset=d["offset"+n.op.d2],Pe(d,0,n,y),d},Pe=function(e,t,r,i){var a={display:"block"},o=r[i?"os2":"p2"],s=r[i?"p2":"os2"];e._isFlipped=i,a[r.a+"Percent"]=i?-100:0,a[r.a]=i?"1px":0,a["border"+o+de]=1,a["border"+s+de]=0,a[r.p]=t+"px",n.set(e,a)},Le=[],ze={},De=function(){return f||(f=h(Ke))},Ne=function(){f||(f=h(Ke),D||Ve("scrollStart"),D=L())},Ie=function(){return!g&&!M&&!o.fullscreenElement&&c.restart(!0)},Fe={},Ue=[],Be=[],je=function(e){var t,r=n.ticker.frame,o=[],s=0;if(R!==r||O){for(qe();s<Be.length;s+=4)(t=a.matchMedia(Be[s]).matches)!==Be[s+3]&&(Be[s+3]=t,t?o.push(s):qe(1,Be[s])||Y(Be[s+2])&&Be[s+2]());for(We(),s=0;s<o.length;s++)t=o[s],C=Be[t],Be[t+2]=Be[t+1](e);C=0,i&&Xe(0,1),R=r,Ve("matchMedia")}},He=function e(){return Me(ut,"scrollEnd",e)||Xe(!0)},Ve=function(e){return Fe[e]&&Fe[e].map((function(e){return e()}))||Ue},Ge=[],We=function(e){for(var t=0;t<Ge.length;t+=4)e&&Ge[t+3]!==e||(Ge[t].style.cssText=Ge[t+1],Ge[t+2].uncache=1)},qe=function(e,t){var r;for(x=0;x<Le.length;x++)r=Le[x],t&&r.media!==t||(e?r.kill(1):(r.scroll.rec||(r.scroll.rec=r.scroll()),r.revert()));We(t),t||Ve("revert")},Xe=function(e,t){if(!D||e){var r=Ve("refreshInit");for(E&&ut.sort(),t||qe(),x=0;x<Le.length;x++)Le[x].refresh();for(r.forEach((function(e){return e&&e.render&&e.render(-1)})),x=Le.length;x--;)Le[x].scroll.rec=0;c.pause(),Ve("refresh")}else Se(ut,"scrollEnd",He)},Ye=0,Ze=1,Ke=function(){var e=Le.length,t=L(),r=t-z>=50,n=e&&Le[0].scroll();if(Ze=Ye>n?-1:1,Ye=n,r&&(D&&!y&&t-D>200&&(D=0,Ve("scrollEnd")),m=z,z=t),Ze<0){for(x=e;x-- >0;)Le[x]&&Le[x].update(0,r);Ze=1}else for(x=0;x<e;x++)Le[x]&&Le[x].update(0,r);f=0},Qe=[re,ne,ae,ie,"marginBottom","marginRight","marginTop","marginLeft","display","flexShrink","float","zIndex"],Je=Qe.concat([oe,se,"boxSizing","maxWidth","maxHeight","position",pe,fe,"paddingTop","paddingRight","paddingBottom","paddingLeft"]),$e=function(e,t,r,n){if(e.parentNode!==t){for(var i,a=Qe.length,o=t.style,s=e.style;a--;)o[i=Qe[a]]=r[i];o.position="absolute"===r.position?"absolute":"relative","inline"===r.display&&(o.display="inline-block"),s.bottom=s.right="auto",o.overflow="visible",o.boxSizing="border-box",o.width=_e(e,ge)+ve,o.height=_e(e,ye)+ve,o.padding=s.margin=s.top=s.left="0",tt(n),s.width=s.maxWidth=r.width,s.height=s.maxHeight=r.height,s.padding=r.padding,e.parentNode.insertBefore(t,e),t.appendChild(e)}},et=/([A-Z])/g,tt=function(e){if(e){var t,r,i=e.t.style,a=e.length,o=0;for((e.t._gsap||n.core.getCache(e.t)).uncache=1;o<a;o+=2)r=e[o+1],t=e[o],r?i[t]=r:i[t]&&i.removeProperty(t.replace(et,"-$1").toLowerCase())}},rt=function(e){for(var t=Je.length,r=e.style,n=[],i=0;i<t;i++)n.push(Je[i],r[Je[i]]);return n.t=e,n},nt={left:0,top:0},it=function(e,t,r,n,i,a,o,l,c,h,f,d){if(Y(e)&&(e=e(l)),X(e)&&"max"===e.substr(0,3)&&(e=d+("="===e.charAt(4)?Oe("0"+e.substr(3),r):0)),Z(e))o&&Pe(o,r,n,!0);else{Y(t)&&(t=t(l));var m,v,g,y=p(t)[0]||u,b=we(y)||{},x=e.split(" ");b&&(b.left||b.top)||"none"!==be(y).display||(g=y.style.display,y.style.display="block",b=we(y),g?y.style.display=g:y.style.removeProperty("display")),m=Oe(x[0],b[n.d]),v=Oe(x[1]||"0",r),e=b[n.p]-c[n.p]-h+m+i-v,o&&Pe(o,v,n,r-v<20||o._isStart&&v>20),r-=r-v}if(a){var w=e+r,_=a._isStart;d="scroll"+n.d2,Pe(a,w,n,_&&w>20||!_&&(f?Math.max(u[d],s[d]):a.parentNode[d])<=w+1),f&&(c=we(o),f&&(a.style[n.op.p]=c[n.op.p]-n.op.m-a._offset+ve))}return Math.round(e)},at=/(?:webkit|moz|length|cssText|inset)/i,ot=function(e,t,r,i){if(e.parentNode!==t){var a,o,s=e.style;if(t===u){for(a in e._stOrig=s.cssText,o=be(e))+a||at.test(a)||!o[a]||"string"!==typeof s[a]||"0"===a||(s[a]=o[a]);s.top=r,s.left=i}else s.cssText=e._stOrig;n.core.getCache(e).uncache=1,t.appendChild(e)}},st=function(e,t){var r,i,a=V(e,t),o="_scroll"+t.p2,s=function t(s,u,l,c,h){var f=t.tween,p=u.onComplete,d={};return f&&f.kill(),r=Math.round(l),u[o]=s,u.modifiers=d,d[o]=function(e){return(e=F(a()))!==r&&e!==i&&Math.abs(e-r)>2?(f.kill(),t.tween=0):e=l+c*f.ratio+h*f.ratio*f.ratio,i=r,r=F(e)},u.onComplete=function(){t.tween=0,p&&p.call(f)},f=t.tween=n.to(e,u)};return e[o]=a,e.addEventListener("wheel",(function(){return s.tween&&s.tween.kill()&&(s.tween=0)})),s};ge.op=ye;var ut=function(){function e(t,r){i||e.register(n)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),this.init(t,r)}return e.prototype.init=function(t,r){if(this.progress=this.start=0,this.vars&&this.kill(1),N){var i,l,c,h,f,v,b,w,_,T,M,R,P,z,F,U,B,q,Q,J,ee,te,re,ne,ie,ae,oe,se,ue,le,ce,he,me,Ee,Re,Pe,De,Fe,Ue,Be=(t=xe(X(t)||Z(t)||t.nodeType?{trigger:t}:t,Ce)).horizontal?ge:ye,je=t,Ve=je.onUpdate,Ge=je.toggleClass,We=je.id,qe=je.onToggle,Xe=je.onRefresh,Ye=je.scrub,Ke=je.trigger,Qe=je.pin,Je=je.pinSpacing,et=je.invalidateOnRefresh,at=je.anticipatePin,ut=je.onScrubComplete,lt=je.onSnapComplete,ct=je.once,ht=je.snap,ft=je.pinReparent,pt=!Ye&&0!==Ye,dt=p(t.scroller||a)[0],mt=n.core.getCache(dt),vt=j(dt),gt="pinType"in t?"fixed"===t.pinType:vt||"fixed"===H(dt,"pinType"),yt=[t.onEnter,t.onLeave,t.onEnterBack,t.onLeaveBack],bt=pt&&t.toggleActions.split(" "),xt="markers"in t?t.markers:Ce.markers,wt=vt?0:parseFloat(be(dt)["border"+Be.p2+de])||0,_t=this,Tt=t.onRefreshInit&&function(){return t.onRefreshInit(_t)},Et=function(e,t,r){var n=r.d,i=r.d2,o=r.a;return(o=H(e,"getBoundingClientRect"))?function(){return o()[n]}:function(){return(t?a["inner"+i]:e["client"+i])||0}}(dt,vt,Be),St=function(e,t){return!t||~k.indexOf(e)?G(e):function(){return nt}}(dt,vt);_t.media=C,at*=45,Le.push(_t),_t.scroller=dt,_t.scroll=V(dt,Be),f=_t.scroll(),_t.vars=t,r=r||t.animation,"refreshPriority"in t&&(E=1),mt.tweenScroll=mt.tweenScroll||{top:st(dt,ye),left:st(dt,ge)},_t.tweenTo=i=mt.tweenScroll[Be.p],r&&(r.vars.lazy=!1,r._initted||!1!==r.vars.immediateRender&&!1!==t.immediateRender&&r.render(0,!0,!0),_t.animation=r.pause(),r.scrollTrigger=_t,(he=Z(Ye)&&Ye)&&(ce=n.to(r,{ease:"power3",duration:he,onComplete:function(){return ut&&ut(_t)}})),ue=0,We||(We=r.vars.id)),ht&&(K(ht)||(ht={snapTo:ht}),"scrollBehavior"in u.style&&n.set(vt?[u,s]:dt,{scrollBehavior:"auto"}),c=Y(ht.snapTo)?ht.snapTo:"labels"===ht.snapTo?function(e){return function(t){return n.utils.snap(Te(e),t)}}(r):"labelsDirectional"===ht.snapTo?(Fe=r,function(e,t){var r,n=Te(Fe);if(n.sort((function(e,t){return e-t})),t.direction>0){for(e-=1e-4,r=0;r<n.length;r++)if(n[r]>=e)return n[r];return n.pop()}for(r=n.length,e+=1e-4;r--;)if(n[r]<=e)return n[r];return n[0]}):n.utils.snap(ht.snapTo),me=ht.duration||{min:.1,max:2},me=K(me)?d(me.min,me.max):d(me,me),Ee=n.delayedCall(ht.delay||he/2||.1,(function(){if(Math.abs(_t.getVelocity())<10&&!y){var e=r&&!pt?r.totalProgress():_t.progress,t=(e-le)/(L()-m)*1e3||0,n=$(t/2)*t/.185,a=e+(!1===ht.inertia?0:n),o=d(0,1,c(a,_t)),s=_t.scroll(),u=Math.round(b+o*z),l=ht,h=l.onStart,f=l.onInterrupt,p=l.onComplete,v=i.tween;if(s<=w&&s>=b&&u!==s){if(v&&!v._initted&&v.data<=Math.abs(u-s))return;i(u,{duration:me($(.185*Math.max($(a-e),$(o-e))/t/.05||0)),ease:ht.ease||"power3",data:Math.abs(u-s),onInterrupt:function(){return Ee.restart(!0)&&f&&f(_t)},onComplete:function(){ue=le=r&&!pt?r.totalProgress():_t.progress,lt&&lt(_t),p&&p(_t)}},s,n*z,u-s-n*z),h&&h(_t,i.tween)}}else _t.isActive&&Ee.restart(!0)})).pause()),We&&(ze[We]=_t),Ke=_t.trigger=p(Ke||Qe)[0],Qe=!0===Qe?Ke:p(Qe)[0],X(Ge)&&(Ge={targets:Ke,className:Ge}),Qe&&(!1===Je||Je===pe||(Je=!(!Je&&"flex"===be(Qe.parentNode).display)&&fe),_t.pin=Qe,!1!==t.force3D&&n.set(Qe,{force3D:!0}),(l=n.core.getCache(Qe)).spacer?F=l.pinState:(l.spacer=q=o.createElement("div"),q.setAttribute("class","pin-spacer"+(We?" pin-spacer-"+We:"")),l.pinState=F=rt(Qe)),_t.spacer=q=l.spacer,se=be(Qe),ne=se[Je+Be.os2],J=n.getProperty(Qe),ee=n.quickSetter(Qe,Be.a,ve),$e(Qe,q,se),B=rt(Qe)),xt&&(P=K(xt)?xe(xt,Ae):Ae,M=ke("scroller-start",We,dt,Be,P,0),R=ke("scroller-end",We,dt,Be,P,0,M),Q=M["offset"+Be.op.d2],_=ke("start",We,dt,Be,P,Q),T=ke("end",We,dt,Be,P,Q),gt||((Ue=vt?u:dt).style.position="absolute"===be(Ue).position?"absolute":"relative",n.set([M,R],{force3D:!0}),ae=n.quickSetter(M,Be.a,ve),oe=n.quickSetter(R,Be.a,ve))),_t.revert=function(e){var t=!1!==e||!_t.enabled,n=g;t!==h&&(t&&(Pe=Math.max(_t.scroll(),_t.scroll.rec||0),Re=_t.progress,De=r&&r.progress()),_&&[_,T,M,R].forEach((function(e){return e.style.display=t?"none":"block"})),t&&(g=1),_t.update(t),g=n,Qe&&(t?function(e,t,r){if(tt(r),e.parentNode===t){var n=t.parentNode;n&&(n.insertBefore(e,t),n.removeChild(t))}}(Qe,q,F):(!ft||!_t.isActive)&&$e(Qe,q,be(Qe),ie)),h=t)},_t.refresh=function(i,a){if(!g&&_t.enabled||a)if(Qe&&i&&D)Se(e,"scrollEnd",He);else{g=1,ce&&ce.pause(),et&&r&&r.progress(0).invalidate(),h||_t.revert();for(var o,s,l,c,p,d,m,y,x,E=Et(),A=St(),C=W(dt,Be),O=0,k=0,P=t.end,L=t.endTrigger||Ke,N=t.start||(0!==t.start&&Ke?Qe?"0 0":"0 100%":0),I=Ke&&Math.max(0,Le.indexOf(_t))||0,j=I;j--;)(d=Le[j]).end||d.refresh(0,1)||(g=1),(m=d.pin)&&(m===Ke||m===Qe)&&d.revert();for(b=it(N,Ke,E,Be,_t.scroll(),_,M,_t,A,wt,gt,C)||(Qe?-.001:0),Y(P)&&(P=P(_t)),X(P)&&!P.indexOf("+=")&&(~P.indexOf(" ")?P=(X(N)?N.split(" ")[0]:"")+P:(O=Oe(P.substr(2),E),P=X(N)?N:b+O,L=Ke)),w=Math.max(b,it(P||(L?"100% 0":C),L,E,Be,_t.scroll()+O,T,R,_t,A,wt,gt,C))||-.001,z=w-b||(b-=.01)&&.001,O=0,j=I;j--;)(m=(d=Le[j]).pin)&&d.start-d._pinPush<b&&(o=d.end-d.start,m===Ke&&(O+=o),m===Qe&&(k+=o));if(b+=O,w+=O,_t._pinPush=k,_&&O&&((o={})[Be.a]="+="+O,n.set([_,T],o)),Qe)o=be(Qe),c=Be===ye,l=_t.scroll(),te=parseFloat(J(Be.a))+k,!C&&w>1&&((vt?u:dt).style["overflow-"+Be.a]="scroll"),$e(Qe,q,o),B=rt(Qe),s=we(Qe,!0),y=gt&&V(dt,c?ge:ye)(),Je&&((ie=[Je+Be.os2,z+k+ve]).t=q,(j=Je===fe?_e(Qe,Be)+z+k:0)&&ie.push(Be.d,j+ve),tt(ie),gt&&_t.scroll(Pe)),gt&&((p={top:s.top+(c?l-b:y)+ve,left:s.left+(c?y:l-b)+ve,boxSizing:"border-box",position:"fixed"}).width=p.maxWidth=Math.ceil(s.width)+ve,p.height=p.maxHeight=Math.ceil(s.height)+ve,p.margin=p.marginTop=p.marginRight=p.marginBottom=p.marginLeft="0",p.padding=o.padding,p.paddingTop=o.paddingTop,p.paddingRight=o.paddingRight,p.paddingBottom=o.paddingBottom,p.paddingLeft=o.paddingLeft,U=function(e,t,r){for(var n,i=[],a=e.length,o=r?8:0;o<a;o+=2)n=e[o],i.push(n,n in t?t[n]:e[o+1]);return i.t=e.t,i}(F,p,ft)),r?(x=r._initted,S(1),r.progress(1,!0),re=J(Be.a)-te+z+k,z!==re&&U.splice(U.length-2,2),r.progress(0,!0),x||r.invalidate(),S(0)):re=z;else if(Ke&&_t.scroll())for(s=Ke.parentNode;s&&s!==u;)s._pinOffset&&(b-=s._pinOffset,w-=s._pinOffset),s=s.parentNode;for(j=0;j<I;j++)(d=Le[j].pin)&&(d===Ke||d===Qe)&&Le[j].revert(!1);_t.start=b,_t.end=w,(f=v=_t.scroll())<Pe&&_t.scroll(Pe),_t.revert(!1),g=0,r&&pt&&r._initted&&r.progress(De,!0).render(r.time(),!0,!0),Re!==_t.progress&&(ce&&r.totalProgress(Re,!0),_t.progress=Re,_t.update()),Qe&&Je&&(q._pinOffset=Math.round(_t.progress*re)),Xe&&Xe(_t)}},_t.getVelocity=function(){return(_t.scroll()-v)/(L()-m)*1e3||0},_t.update=function(e,t){var n,a,o,s,l,c=_t.scroll(),h=e?0:(c-b)/z,d=h<0?0:h>1?1:h||0,y=_t.progress;if(t&&(v=f,f=c,ht&&(le=ue,ue=r&&!pt?r.totalProgress():d)),at&&!d&&Qe&&!g&&!O&&D&&b<c+(c-v)/(L()-m)*at&&(d=1e-4),d!==y&&_t.enabled){if(s=(l=(n=_t.isActive=!!d&&d<1)!==(!!y&&y<1))||!!d!==!!y,_t.direction=d>y?1:-1,_t.progress=d,pt||(!ce||g||O?r&&r.totalProgress(d,!!g):(ce.vars.totalProgress=d,ce.invalidate().restart())),Qe)if(e&&Je&&(q.style[Je+Be.os2]=ne),gt){if(s){if(o=!e&&d>y&&w+1>c&&c+1>=W(dt,Be),ft)if(e||!n&&!o)ot(Qe,q);else{var x=we(Qe,!0),_=c-b;ot(Qe,u,x.top+(Be===ye?_:0)+ve,x.left+(Be===ye?0:_)+ve)}tt(n||o?U:B),re!==z&&d<1&&n||ee(te+(1!==d||o?0:re))}}else ee(te+re*d);ht&&!i.tween&&!g&&!O&&Ee.restart(!0),Ge&&(l||ct&&d&&(d<1||!A))&&p(Ge.targets).forEach((function(e){return e.classList[n||ct?"add":"remove"](Ge.className)})),Ve&&!pt&&!e&&Ve(_t),s&&!g?(a=d&&!y?0:1===d?1:1===y?2:3,pt&&(o=!l&&"none"!==bt[a+1]&&bt[a+1]||bt[a],r&&("complete"===o||"reset"===o||o in r)&&("complete"===o?r.pause().totalProgress(1):"reset"===o?r.restart(!0).pause():r[o]()),Ve&&Ve(_t)),!l&&A||(qe&&l&&qe(_t),yt[a]&&yt[a](_t),ct&&(1===d?_t.kill(!1,1):yt[a]=0),l||yt[a=1===d?1:3]&&yt[a](_t))):pt&&Ve&&!g&&Ve(_t)}oe&&(ae(c+(M._isFlipped?1:0)),oe(c))},_t.enable=function(){_t.enabled||(_t.enabled=!0,Se(dt,"resize",Ie),Se(dt,"scroll",Ne),Tt&&Se(e,"refreshInit",Tt),r&&r.add?n.delayedCall(.01,(function(){return b||w||_t.refresh()}))&&(z=.01)&&(b=w=0):_t.refresh())},_t.disable=function(t,r){if(_t.enabled&&(!1!==t&&_t.revert(),_t.enabled=_t.isActive=!1,r||ce&&ce.pause(),Pe=0,l&&(l.uncache=1),Tt&&Me(e,"refreshInit",Tt),Ee&&(Ee.pause(),i.tween&&i.tween.kill()&&(i.tween=0)),!vt)){for(var n=Le.length;n--;)if(Le[n].scroller===dt&&Le[n]!==_t)return;Me(dt,"resize",Ie),Me(dt,"scroll",Ne)}},_t.kill=function(e,t){_t.disable(e,t),We&&delete ze[We];var n=Le.indexOf(_t);Le.splice(n,1),n===x&&Ze>0&&x--,r&&(r.scrollTrigger=null,e&&r.render(-1),t||r.kill()),_&&[_,T,M,R].forEach((function(e){return e.parentNode.removeChild(e)})),Qe&&(l&&(l.uncache=1),n=0,Le.forEach((function(e){return e.pin===Qe&&n++})),n||(l.spacer=0))},_t.enable()}else this.update=this.refresh=this.kill=I},e.register=function(t){if(!i&&(n=t||B(),U()&&window.document&&(a=window,o=document,s=o.documentElement,u=o.body),n&&(p=n.utils.toArray,d=n.utils.clamp,S=n.core.suppressOverwrites||I,n.core.globals("ScrollTrigger",e),u))){h=a.requestAnimationFrame||function(e){return setTimeout(e,16)},Se(a,"wheel",Ne),l=[a,o,s,u],Se(o,"scroll",Ne);var r,f=u.style,m=f.borderTop;f.borderTop="1px solid #000",r=we(u),ye.m=Math.round(r.top+ye.sc())||0,ge.m=Math.round(r.left+ge.sc())||0,m?f.borderTop=m:f.removeProperty("border-top"),v=setInterval(De,200),n.delayedCall(.5,(function(){return O=0})),Se(o,"touchcancel",I),Se(u,"touchstart",I),Ee(Se,o,"pointerdown,touchstart,mousedown",(function(){return y=1})),Ee(Se,o,"pointerup,touchend,mouseup",(function(){return y=0})),b=n.utils.checkPrefix("transform"),Je.push(b),i=L(),c=n.delayedCall(.2,Xe).pause(),T=[o,"visibilitychange",function(){var e=a.innerWidth,t=a.innerHeight;o.hidden?(w=e,_=t):w===e&&_===t||Ie()},o,"DOMContentLoaded",Xe,a,"load",function(){return D||Xe()},a,"resize",Ie],q(Se)}return i},e.defaults=function(e){for(var t in e)Ce[t]=e[t]},e.kill=function(){N=0,Le.slice(0).forEach((function(e){return e.kill(1)}))},e.config=function(e){"limitCallbacks"in e&&(A=!!e.limitCallbacks);var t=e.syncInterval;t&&clearInterval(v)||(v=t)&&setInterval(De,t),"autoRefreshEvents"in e&&(q(Me)||q(Se,e.autoRefreshEvents||"none"),M=-1===(e.autoRefreshEvents+"").indexOf("resize"))},e.scrollerProxy=function(e,t){var r=p(e)[0],n=P.indexOf(r),i=j(r);~n&&P.splice(n,i?6:2),i?k.unshift(a,t,u,t,s,t):k.unshift(r,t)},e.matchMedia=function(e){var t,r,n,i,o;for(r in e)n=Be.indexOf(r),i=e[r],C=r,"all"===r?i():(t=a.matchMedia(r))&&(t.matches&&(o=i()),~n?(Be[n+1]=J(Be[n+1],i),Be[n+2]=J(Be[n+2],o)):(n=Be.length,Be.push(r,i,o),t.addListener?t.addListener(je):t.addEventListener("change",je)),Be[n+3]=t.matches),C=0;return Be},e.clearMatchMedia=function(e){e||(Be.length=0),(e=Be.indexOf(e))>=0&&Be.splice(e,4)},e}();ut.version="3.6.1",ut.saveStyles=function(e){return e?p(e).forEach((function(e){if(e&&e.style){var t=Ge.indexOf(e);t>=0&&Ge.splice(t,4),Ge.push(e,e.style.cssText,n.core.getCache(e),C)}})):Ge},ut.revert=function(e,t){return qe(!e,t)},ut.create=function(e,t){return new ut(e,t)},ut.refresh=function(e){return e?Ie():Xe(!0)},ut.update=Ke,ut.maxScroll=function(e,t){return W(e,t?ge:ye)},ut.getScrollFunc=function(e,t){return V(p(e)[0],t?ge:ye)},ut.getById=function(e){return ze[e]},ut.getAll=function(){return Le.slice(0)},ut.isScrolling=function(){return!!D},ut.addEventListener=function(e,t){var r=Fe[e]||(Fe[e]=[]);~r.indexOf(t)||r.push(t)},ut.removeEventListener=function(e,t){var r=Fe[e],n=r&&r.indexOf(t);n>=0&&r.splice(n,1)},ut.batch=function(e,t){var r,i=[],a={},o=t.interval||.016,s=t.batchMax||1e9,u=function(e,t){var r=[],i=[],a=n.delayedCall(o,(function(){t(r,i),r=[],i=[]})).pause();return function(e){r.length||a.restart(!0),r.push(e.trigger),i.push(e),s<=r.length&&a.progress(1)}};for(r in t)a[r]="on"===r.substr(0,2)&&Y(t[r])&&"onRefreshInit"!==r?u(0,t[r]):t[r];return Y(s)&&(s=s(),Se(ut,"refresh",(function(){return s=t.batchMax()}))),p(e).forEach((function(e){var t={};for(r in a)t[r]=a[r];t.trigger=e,i.push(ut.create(t))})),i},ut.sort=function(e){return Le.sort(e||function(e,t){return-1e6*(e.vars.refreshPriority||0)+e.start-(t.start+-1e6*(t.vars.refreshPriority||0))})},B()&&n.registerPlugin(ut)},function(e,t,r){"use strict";function n(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var i=r(13);function a(e,t){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=Object(i.a)(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(u)throw o}}}}var o=r(5),s=r(6),u=r(9),l=r(10),c=r(7),h=r(3),f=r.n(h),p=["displayLocation","setCameraMode","setCameraModeControlVisible","setCompassVisible","setEnvironment","setLayersControlVisible","setRotationControlVisible","setUserLocation","setUserLocationControlVisible","setZoomControlVisible"],d=["onBoundsFocused","onCameraChange","onFeatureClicked","onFeatureSelected","onFeaturesLoaded","onLocationError","onLocationFocused","onLocationLoaded","onOverlayAdded","onUserInteraction"],m=["addOverlay","focusOnBounds","focusOnFeature","focusOnLocation","highlightFeature","orbitTarget","pause","play","removeOverlay","toggleUserLocationTracking","updateOverlay"],v=function(e){Object(u.a)(r,e);var t=Object(l.a)(r);function r(e){var n;return Object(o.a)(this,r),n=t.call(this,e),"undefined"===typeof c.a&&(window.Procedural={}),n.generateMethods(),n}return Object(s.a)(r,[{key:"proxyProps",value:function(e,t){var r,n=a(p);try{for(n.s();!(r=n.n()).done;){var i=r.value,o=i;if("set"===i.slice(0,3)&&(o=(o=i.slice(3)).charAt(0).toLowerCase()+o.slice(1)),e[o]!==this.props[o]||t&&void 0!==e[o]){var s=e[o];c.a[i](s)}}}catch(f){n.e(f)}finally{n.f()}var u,l=a(d);try{for(l.s();!(u=l.n()).done;){var h=u.value;e[h]!==c.a[h]&&"function"===typeof e[h]&&(c.a[h]=e[h])}}catch(f){l.e(f)}finally{l.f()}}},{key:"generateMethods",value:function(){var e,t=this,r=a(m);try{var n=function(){var r=e.value;t[r]=function(){c.a[r].apply(c.a,arguments)}};for(r.s();!(e=r.n()).done;)n()}catch(i){r.e(i)}finally{r.f()}}},{key:"componentDidMount",value:function(){var e=this.props,t=e.datasource,r=n(e,["datasource"]);this.proxyProps(r,!0),c.a.init({container:this.el,datasource:t})}},{key:"shouldComponentUpdate",value:function(e){return this.proxyProps(e),!1}},{key:"render",value:function(){var e=this;return f.a.createElement("div",{ref:function(t){return e.el=t},style:{height:"100%",width:"100%"}})}}]),r}(f.a.Component);t.a=v},function(e,t,r){"use strict";var n=r(18),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,s=60110,u=60112;t.Suspense=60113;var l=60115,c=60116;if("function"===typeof Symbol&&Symbol.for){var h=Symbol.for;i=h("react.element"),a=h("react.portal"),t.Fragment=h("react.fragment"),t.StrictMode=h("react.strict_mode"),t.Profiler=h("react.profiler"),o=h("react.provider"),s=h("react.context"),u=h("react.forward_ref"),t.Suspense=h("react.suspense"),l=h("react.memo"),c=h("react.lazy")}var f="function"===typeof Symbol&&Symbol.iterator;function p(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var d={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function v(e,t,r){this.props=e,this.context=t,this.refs=m,this.updater=r||d}function g(){}function y(e,t,r){this.props=e,this.context=t,this.refs=m,this.updater=r||d}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(p(85));this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=v.prototype;var b=y.prototype=new g;b.constructor=y,n(b,v.prototype),b.isPureReactComponent=!0;var x={current:null},w=Object.prototype.hasOwnProperty,_={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,r){var n,a={},o=null,s=null;if(null!=t)for(n in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,n)&&!_.hasOwnProperty(n)&&(a[n]=t[n]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(n in u=e.defaultProps)void 0===a[n]&&(a[n]=u[n]);return{$$typeof:i,type:e,key:o,ref:s,props:a,_owner:x.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var S=/\/+/g;function M(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,r,n,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case a:u=!0}}if(u)return o=o(u=e),e=""===n?"."+M(u,0):n,Array.isArray(o)?(r="",null!=e&&(r=e.replace(S,"$&/")+"/"),A(o,t,r,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,r+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(S,"$&/")+"/")+e)),t.push(o)),1;if(u=0,n=""===n?".":n+":",Array.isArray(e))for(var l=0;l<e.length;l++){var c=n+M(s=e[l],l);u+=A(s,t,r,c,o)}else if("function"===typeof(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e)))for(e=c.call(e),l=0;!(s=e.next()).done;)u+=A(s=s.value,t,r,c=n+M(s,l++),o);else if("object"===s)throw t=""+e,Error(p(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function C(e,t,r){if(null==e)return e;var n=[],i=0;return A(e,n,"","",(function(e){return t.call(r,e,i++)})),n}function R(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var O={current:null};function k(){var e=O.current;if(null===e)throw Error(p(321));return e}var P={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:x,IsSomeRendererActing:{current:!1},assign:n};t.Children={map:C,forEach:function(e,t,r){C(e,(function(){t.apply(this,arguments)}),r)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error(p(143));return e}},t.Component=v,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error(p(267,e));var a=n({},e.props),o=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=x.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)w.call(t,c)&&!_.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=r;else if(1<c){l=Array(c);for(var h=0;h<c;h++)l[h]=arguments[h+2];a.children=l}return{$$typeof:i,type:e.type,key:o,ref:s,props:a,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:c,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:l,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return k().useCallback(e,t)},t.useContext=function(e,t){return k().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return k().useEffect(e,t)},t.useImperativeHandle=function(e,t,r){return k().useImperativeHandle(e,t,r)},t.useLayoutEffect=function(e,t){return k().useLayoutEffect(e,t)},t.useMemo=function(e,t){return k().useMemo(e,t)},t.useReducer=function(e,t,r){return k().useReducer(e,t,r)},t.useRef=function(e){return k().useRef(e)},t.useState=function(e){return k().useState(e)},t.version="17.0.1"},function(e,t,r){"use strict";var n=r(3),i=r(18),a=r(25);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!n)throw Error(o(227));var s=new Set,u={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var h=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p=Object.prototype.hasOwnProperty,d={},m={};function v(e,t,r,n,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function x(e,t,r,n){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0===i.type:!n&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,r,n){if(null===t||"undefined"===typeof t||function(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,i,n)&&(r=null),n||null===i?function(e){return!!p.call(m,e)||!p.call(d,e)&&(f.test(e)?m[e]=!0:(d[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=null===r?3!==i.type&&"":r:(t=i.attributeName,n=i.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(i=i.type)||4===i&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,b);g[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,b);g[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,b);g[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=60103,T=60106,E=60107,S=60108,M=60114,A=60109,C=60110,R=60112,O=60113,k=60120,P=60115,L=60116,z=60121,D=60128,N=60129,I=60130,F=60131;if("function"===typeof Symbol&&Symbol.for){var U=Symbol.for;_=U("react.element"),T=U("react.portal"),E=U("react.fragment"),S=U("react.strict_mode"),M=U("react.profiler"),A=U("react.provider"),C=U("react.context"),R=U("react.forward_ref"),O=U("react.suspense"),k=U("react.suspense_list"),P=U("react.memo"),L=U("react.lazy"),z=U("react.block"),U("react.scope"),D=U("react.opaque.id"),N=U("react.debug_trace_mode"),I=U("react.offscreen"),F=U("react.legacy_hidden")}var B,j="function"===typeof Symbol&&Symbol.iterator;function H(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=j&&e[j]||e["@@iterator"])?e:null}function V(e){if(void 0===B)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);B=t&&t[1]||""}return"\n"+B+e}var G=!1;function W(e,t){if(!e||G)return"";G=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),a=n.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=s);break}}}finally{G=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?V(e):""}function q(e){switch(e.tag){case 5:return V(e.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return e=W(e.type,!1);case 11:return e=W(e.type.render,!1);case 22:return e=W(e.type._render,!1);case 1:return e=W(e.type,!0);default:return""}}function X(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case T:return"Portal";case M:return"Profiler";case S:return"StrictMode";case O:return"Suspense";case k:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case A:return(e._context.displayName||"Context")+".Provider";case R:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case P:return X(e.type);case z:return X(e._render);case L:t=e._payload,e=e._init;try{return X(e(t))}catch(r){}}return null}function Y(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Z(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=Z(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Z(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var r=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function ee(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=Y(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&x(e,"checked",t,!1)}function re(e,t){te(e,t);var r=Y(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,r):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Y(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function ne(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function ie(e,t,r){"number"===t&&J(e.ownerDocument)===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return n.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Y(r),t=null,i=0;i<e.length;i++){if(e[i].value===r)return e[i].selected=!0,void(n&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(o(92));if(Array.isArray(r)){if(!(1>=r.length))throw Error(o(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:Y(r)}}function le(e,t){var r=Y(t.value),n=Y(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=n&&(e.defaultValue=""+n)}function ce(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var he="http://www.w3.org/1999/xhtml",fe="http://www.w3.org/2000/svg";function pe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function de(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?pe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var me,ve,ge=(ve=function(e,t){if(e.namespaceURI!==fe||"innerHTML"in e)e.innerHTML=t;else{for((me=me||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=me.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,r,n){MSApp.execUnsafeLocalFunction((function(){return ve(e,t)}))}:ve);function ye(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var be={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xe=["Webkit","ms","Moz","O"];function we(e,t,r){return null==t||"boolean"===typeof t||""===t?"":r||"number"!==typeof t||0===t||be.hasOwnProperty(e)&&be[e]?(""+t).trim():t+"px"}function _e(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),i=we(r,t[r],n);"float"===r&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}Object.keys(be).forEach((function(e){xe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),be[t]=be[e]}))}));var Te=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ee(e,t){if(t){if(Te[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Se(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Me(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ae=null,Ce=null,Re=null;function Oe(e){if(e=ei(e)){if("function"!==typeof Ae)throw Error(o(280));var t=e.stateNode;t&&(t=ri(t),Ae(e.stateNode,e.type,t))}}function ke(e){Ce?Re?Re.push(e):Re=[e]:Ce=e}function Pe(){if(Ce){var e=Ce,t=Re;if(Re=Ce=null,Oe(e),t)for(e=0;e<t.length;e++)Oe(t[e])}}function Le(e,t){return e(t)}function ze(e,t,r,n,i){return e(t,r,n,i)}function De(){}var Ne=Le,Ie=!1,Fe=!1;function Ue(){null===Ce&&null===Re||(De(),Pe())}function Be(e,t){var r=e.stateNode;if(null===r)return null;var n=ri(r);if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(o(231,t,typeof r));return r}var je=!1;if(h)try{var He={};Object.defineProperty(He,"passive",{get:function(){je=!0}}),window.addEventListener("test",He,He),window.removeEventListener("test",He,He)}catch(ve){je=!1}function Ve(e,t,r,n,i,a,o,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(r,l)}catch(c){this.onError(c)}}var Ge=!1,We=null,qe=!1,Xe=null,Ye={onError:function(e){Ge=!0,We=e}};function Ze(e,t,r,n,i,a,o,s,u){Ge=!1,We=null,Ve.apply(Ye,arguments)}function Ke(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function Qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Je(e){if(Ke(e)!==e)throw Error(o(188))}function $e(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ke(e)))throw Error(o(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(n=i.return)){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return Je(i),e;if(a===n)return Je(i),t;a=a.sibling}throw Error(o(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,u=i.child;u;){if(u===r){s=!0,r=i,n=a;break}if(u===n){s=!0,n=i,r=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===r){s=!0,r=a,n=i;break}if(u===n){s=!0,n=a,r=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(r.alternate!==n)throw Error(o(190))}if(3!==r.tag)throw Error(o(188));return r.stateNode.current===r?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var r=e.alternate;null!==t;){if(t===e||t===r)return!0;t=t.return}return!1}var tt,rt,nt,it,at=!1,ot=[],st=null,ut=null,lt=null,ct=new Map,ht=new Map,ft=[],pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dt(e,t,r,n,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|r,nativeEvent:i,targetContainers:[n]}}function mt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":lt=null;break;case"pointerover":case"pointerout":ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ht.delete(t.pointerId)}}function vt(e,t,r,n,i,a){return null===e||e.nativeEvent!==a?(e=dt(t,r,n,i,a),null!==t&&(null!==(t=ei(t))&&rt(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function gt(e){var t=$n(e.target);if(null!==t){var r=Ke(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=Qe(r)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){nt(r)}))}))}else if(3===t&&r.stateNode.hydrate)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function yt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r)return null!==(t=ei(r))&&rt(t),e.blockedOn=r,!1;t.shift()}return!0}function bt(e,t,r){yt(e)&&r.delete(t)}function xt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ei(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var r=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r){e.blockedOn=r;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==st&&yt(st)&&(st=null),null!==ut&&yt(ut)&&(ut=null),null!==lt&&yt(lt)&&(lt=null),ct.forEach(bt),ht.forEach(bt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,xt)))}function _t(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var r=1;r<ot.length;r++){var n=ot[r];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==st&&wt(st,e),null!==ut&&wt(ut,e),null!==lt&&wt(lt,e),ct.forEach(t),ht.forEach(t),r=0;r<ft.length;r++)(n=ft[r]).blockedOn===e&&(n.blockedOn=null);for(;0<ft.length&&null===(r=ft[0]).blockedOn;)gt(r),null===r.blockedOn&&ft.shift()}function Tt(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Et={animationend:Tt("Animation","AnimationEnd"),animationiteration:Tt("Animation","AnimationIteration"),animationstart:Tt("Animation","AnimationStart"),transitionend:Tt("Transition","TransitionEnd")},St={},Mt={};function At(e){if(St[e])return St[e];if(!Et[e])return e;var t,r=Et[e];for(t in r)if(r.hasOwnProperty(t)&&t in Mt)return St[e]=r[t];return e}h&&(Mt=document.createElement("div").style,"AnimationEvent"in window||(delete Et.animationend.animation,delete Et.animationiteration.animation,delete Et.animationstart.animation),"TransitionEvent"in window||delete Et.transitionend.transition);var Ct=At("animationend"),Rt=At("animationiteration"),Ot=At("animationstart"),kt=At("transitionend"),Pt=new Map,Lt=new Map,zt=["abort","abort",Ct,"animationEnd",Rt,"animationIteration",Ot,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",kt,"transitionEnd","waiting","waiting"];function Dt(e,t){for(var r=0;r<e.length;r+=2){var n=e[r],i=e[r+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Lt.set(n,t),Pt.set(n,i),l(i,[n])}}(0,a.unstable_now)();var Nt=8;function It(e){if(0!==(1&e))return Nt=15,1;if(0!==(2&e))return Nt=14,2;if(0!==(4&e))return Nt=13,4;var t=24&e;return 0!==t?(Nt=12,t):0!==(32&e)?(Nt=11,32):0!==(t=192&e)?(Nt=10,t):0!==(256&e)?(Nt=9,256):0!==(t=3584&e)?(Nt=8,t):0!==(4096&e)?(Nt=7,4096):0!==(t=4186112&e)?(Nt=6,t):0!==(t=62914560&e)?(Nt=5,t):67108864&e?(Nt=4,67108864):0!==(134217728&e)?(Nt=3,134217728):0!==(t=805306368&e)?(Nt=2,t):0!==(1073741824&e)?(Nt=1,1073741824):(Nt=8,e)}function Ft(e,t){var r=e.pendingLanes;if(0===r)return Nt=0;var n=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,s=e.pingedLanes;if(0!==a)n=a,i=Nt=15;else if(0!==(a=134217727&r)){var u=a&~o;0!==u?(n=It(u),i=Nt):0!==(s&=a)&&(n=It(s),i=Nt)}else 0!==(a=r&~o)?(n=It(a),i=Nt):0!==s&&(n=It(s),i=Nt);if(0===n)return 0;if(n=r&((0>(n=31-Gt(n))?0:1<<n)<<1)-1,0!==t&&t!==n&&0===(t&o)){if(It(t),i<=Nt)return t;Nt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)i=1<<(r=31-Gt(t)),n|=e[r],t&=~i;return n}function Ut(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Bt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=jt(24&~t))?Bt(10,t):e;case 10:return 0===(e=jt(192&~t))?Bt(8,t):e;case 8:return 0===(e=jt(3584&~t))&&(0===(e=jt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=jt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function jt(e){return e&-e}function Ht(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Vt(e,t,r){e.pendingLanes|=t;var n=t-1;e.suspendedLanes&=n,e.pingedLanes&=n,(e=e.eventTimes)[t=31-Gt(t)]=r}var Gt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Wt(e)/qt|0)|0},Wt=Math.log,qt=Math.LN2;var Xt=a.unstable_UserBlockingPriority,Yt=a.unstable_runWithPriority,Zt=!0;function Kt(e,t,r,n){Ie||De();var i=Jt,a=Ie;Ie=!0;try{ze(i,e,t,r,n)}finally{(Ie=a)||Ue()}}function Qt(e,t,r,n){Yt(Xt,Jt.bind(null,e,t,r,n))}function Jt(e,t,r,n){var i;if(Zt)if((i=0===(4&t))&&0<ot.length&&-1<pt.indexOf(e))e=dt(null,e,t,r,n),ot.push(e);else{var a=$t(e,t,r,n);if(null===a)i&&mt(e,n);else{if(i){if(-1<pt.indexOf(e))return e=dt(a,e,t,r,n),void ot.push(e);if(function(e,t,r,n,i){switch(t){case"focusin":return st=vt(st,e,t,r,n,i),!0;case"dragenter":return ut=vt(ut,e,t,r,n,i),!0;case"mouseover":return lt=vt(lt,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return ct.set(a,vt(ct.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,ht.set(a,vt(ht.get(a)||null,e,t,r,n,i)),!0}return!1}(a,e,t,r,n))return;mt(e,n)}Pn(e,t,n,null,r)}}}function $t(e,t,r,n){var i=Me(n);if(null!==(i=$n(i))){var a=Ke(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Qe(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Pn(e,t,n,i,r),null}var er=null,tr=null,rr=null;function nr(){if(rr)return rr;var e,t,r=tr,n=r.length,i="value"in er?er.value:er.textContent,a=i.length;for(e=0;e<n&&r[e]===i[e];e++);var o=n-e;for(t=1;t<=o&&r[n-t]===i[a-t];t++);return rr=i.slice(e,1<t?1-t:void 0)}function ir(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function ar(){return!0}function or(){return!1}function sr(e){function t(t,r,n,i,a){for(var o in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?ar:or,this.isPropagationStopped=or,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=ar)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=ar)},persist:function(){},isPersistent:ar}),t}var ur,lr,cr,hr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fr=sr(hr),pr=i({},hr,{view:0,detail:0}),dr=sr(pr),mr=i({},pr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cr&&(cr&&"mousemove"===e.type?(ur=e.screenX-cr.screenX,lr=e.screenY-cr.screenY):lr=ur=0,cr=e),ur)},movementY:function(e){return"movementY"in e?e.movementY:lr}}),vr=sr(mr),gr=sr(i({},mr,{dataTransfer:0})),yr=sr(i({},pr,{relatedTarget:0})),br=sr(i({},hr,{animationName:0,elapsedTime:0,pseudoElement:0})),xr=sr(i({},hr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),wr=sr(i({},hr,{data:0})),_r={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Er={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Er[e])&&!!t[e]}function Mr(){return Sr}var Ar=sr(i({},pr,{key:function(e){if(e.key){var t=_r[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ir(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Tr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mr,charCode:function(e){return"keypress"===e.type?ir(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ir(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),Cr=sr(i({},mr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Rr=sr(i({},pr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mr})),Or=sr(i({},hr,{propertyName:0,elapsedTime:0,pseudoElement:0})),kr=sr(i({},mr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Pr=[9,13,27,32],Lr=h&&"CompositionEvent"in window,zr=null;h&&"documentMode"in document&&(zr=document.documentMode);var Dr=h&&"TextEvent"in window&&!zr,Nr=h&&(!Lr||zr&&8<zr&&11>=zr),Ir=String.fromCharCode(32),Fr=!1;function Ur(e,t){switch(e){case"keyup":return-1!==Pr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Br(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var jr=!1;var Hr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hr[e.type]:"textarea"===t}function Gr(e,t,r,n){ke(n),0<(t=zn(t,"onChange")).length&&(r=new fr("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Wr=null,qr=null;function Xr(e){Mn(e,0)}function Yr(e){if(Q(ti(e)))return e}function Zr(e,t){if("change"===e)return t}var Kr=!1;if(h){var Qr;if(h){var Jr="oninput"in document;if(!Jr){var $r=document.createElement("div");$r.setAttribute("oninput","return;"),Jr="function"===typeof $r.oninput}Qr=Jr}else Qr=!1;Kr=Qr&&(!document.documentMode||9<document.documentMode)}function en(){Wr&&(Wr.detachEvent("onpropertychange",tn),qr=Wr=null)}function tn(e){if("value"===e.propertyName&&Yr(qr)){var t=[];if(Gr(t,qr,e,Me(e)),e=Xr,Ie)e(t);else{Ie=!0;try{Le(e,t)}finally{Ie=!1,Ue()}}}}function rn(e,t,r){"focusin"===e?(en(),qr=r,(Wr=t).attachEvent("onpropertychange",tn)):"focusout"===e&&en()}function nn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yr(qr)}function an(e,t){if("click"===e)return Yr(t)}function on(e,t){if("input"===e||"change"===e)return Yr(t)}var sn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},un=Object.prototype.hasOwnProperty;function ln(e,t){if(sn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!un.call(t,r[n])||!sn(e[r[n]],t[r[n]]))return!1;return!0}function cn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hn(e,t){var r,n=cn(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cn(n)}}function fn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function pn(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(n){r=!1}if(!r)break;t=J((e=t.contentWindow).document)}return t}function dn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var mn=h&&"documentMode"in document&&11>=document.documentMode,vn=null,gn=null,yn=null,bn=!1;function xn(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;bn||null==vn||vn!==J(n)||("selectionStart"in(n=vn)&&dn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},yn&&ln(yn,n)||(yn=n,0<(n=zn(gn,"onSelect")).length&&(t=new fr("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=vn)))}Dt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Dt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Dt(zt,2);for(var wn="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),_n=0;_n<wn.length;_n++)Lt.set(wn[_n],0);c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),En=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tn));function Sn(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,function(e,t,r,n,i,a,s,u,l){if(Ze.apply(this,arguments),Ge){if(!Ge)throw Error(o(198));var c=We;Ge=!1,We=null,qe||(qe=!0,Xe=c)}}(n,t,void 0,e),e.currentTarget=null}function Mn(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var s=n[o],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Sn(i,s,l),a=u}else for(o=0;o<n.length;o++){if(u=(s=n[o]).instance,l=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Sn(i,s,l),a=u}}}if(qe)throw e=Xe,qe=!1,Xe=null,e}function An(e,t){var r=ni(t),n=e+"__bubble";r.has(n)||(kn(t,e,2,!1),r.add(n))}var Cn="_reactListening"+Math.random().toString(36).slice(2);function Rn(e){e[Cn]||(e[Cn]=!0,s.forEach((function(t){En.has(t)||On(t,!1,e,null),On(t,!0,e,null)})))}function On(e,t,r,n){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=r;if("selectionchange"===e&&9!==r.nodeType&&(a=r.ownerDocument),null!==n&&!t&&En.has(e)){if("scroll"!==e)return;i|=2,a=n}var o=ni(a),s=e+"__"+(t?"capture":"bubble");o.has(s)||(t&&(i|=4),kn(a,e,i,t),o.add(s))}function kn(e,t,r,n){var i=Lt.get(t);switch(void 0===i?2:i){case 0:i=Kt;break;case 1:i=Qt;break;default:i=Jt}r=i.bind(null,t,r,e),i=void 0,!je||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),n?void 0!==i?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):void 0!==i?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Pn(e,t,r,n,i){var a=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var o=n.tag;if(3===o||4===o){var s=n.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=n.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=$n(s)))return;if(5===(u=o.tag)||6===u){n=a=o;continue e}s=s.parentNode}}n=n.return}!function(e,t,r){if(Fe)return e(t,r);Fe=!0;try{Ne(e,t,r)}finally{Fe=!1,Ue()}}((function(){var n=a,i=Me(r),o=[];e:{var s=Pt.get(e);if(void 0!==s){var u=fr,l=e;switch(e){case"keypress":if(0===ir(r))break e;case"keydown":case"keyup":u=Ar;break;case"focusin":l="focus",u=yr;break;case"focusout":l="blur",u=yr;break;case"beforeblur":case"afterblur":u=yr;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=vr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=gr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Rr;break;case Ct:case Rt:case Ot:u=br;break;case kt:u=Or;break;case"scroll":u=dr;break;case"wheel":u=kr;break;case"copy":case"cut":case"paste":u=xr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Cr}var c=0!==(4&t),h=!c&&"scroll"===e,f=c?null!==s?s+"Capture":null:s;c=[];for(var p,d=n;null!==d;){var m=(p=d).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==f&&(null!=(m=Be(d,f))&&c.push(Ln(d,m,p)))),h)break;d=d.return}0<c.length&&(s=new u(s,l,null,r,i),o.push({event:s,listeners:c}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(l=r.relatedTarget||r.fromElement)||!$n(l)&&!l[Qn])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=n,null!==(l=(l=r.relatedTarget||r.toElement)?$n(l):null)&&(l!==(h=Ke(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=n),u!==l)){if(c=vr,m="onMouseLeave",f="onMouseEnter",d="mouse","pointerout"!==e&&"pointerover"!==e||(c=Cr,m="onPointerLeave",f="onPointerEnter",d="pointer"),h=null==u?s:ti(u),p=null==l?s:ti(l),(s=new c(m,d+"leave",u,r,i)).target=h,s.relatedTarget=p,m=null,$n(i)===n&&((c=new c(f,d+"enter",l,r,i)).target=p,c.relatedTarget=h,m=c),h=m,u&&l)e:{for(f=l,d=0,p=c=u;p;p=Dn(p))d++;for(p=0,m=f;m;m=Dn(m))p++;for(;0<d-p;)c=Dn(c),d--;for(;0<p-d;)f=Dn(f),p--;for(;d--;){if(c===f||null!==f&&c===f.alternate)break e;c=Dn(c),f=Dn(f)}c=null}else c=null;null!==u&&Nn(o,s,u,c,!1),null!==l&&null!==h&&Nn(o,h,l,c,!0)}if("select"===(u=(s=n?ti(n):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var v=Zr;else if(Vr(s))if(Kr)v=on;else{v=nn;var g=rn}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=an);switch(v&&(v=v(e,n))?Gr(o,v,r,i):(g&&g(e,s,n),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ie(s,"number",s.value)),g=n?ti(n):window,e){case"focusin":(Vr(g)||"true"===g.contentEditable)&&(vn=g,gn=n,yn=null);break;case"focusout":yn=gn=vn=null;break;case"mousedown":bn=!0;break;case"contextmenu":case"mouseup":case"dragend":bn=!1,xn(o,r,i);break;case"selectionchange":if(mn)break;case"keydown":case"keyup":xn(o,r,i)}var y;if(Lr)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else jr?Ur(e,r)&&(b="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(b="onCompositionStart");b&&(Nr&&"ko"!==r.locale&&(jr||"onCompositionStart"!==b?"onCompositionEnd"===b&&jr&&(y=nr()):(tr="value"in(er=i)?er.value:er.textContent,jr=!0)),0<(g=zn(n,b)).length&&(b=new wr(b,e,null,r,i),o.push({event:b,listeners:g}),y?b.data=y:null!==(y=Br(r))&&(b.data=y))),(y=Dr?function(e,t){switch(e){case"compositionend":return Br(t);case"keypress":return 32!==t.which?null:(Fr=!0,Ir);case"textInput":return(e=t.data)===Ir&&Fr?null:e;default:return null}}(e,r):function(e,t){if(jr)return"compositionend"===e||!Lr&&Ur(e,t)?(e=nr(),rr=tr=er=null,jr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nr&&"ko"!==t.locale?null:t.data;default:return null}}(e,r))&&(0<(n=zn(n,"onBeforeInput")).length&&(i=new wr("onBeforeInput","beforeinput",null,r,i),o.push({event:i,listeners:n}),i.data=y))}Mn(o,t)}))}function Ln(e,t,r){return{instance:e,listener:t,currentTarget:r}}function zn(e,t){for(var r=t+"Capture",n=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Be(e,r))&&n.unshift(Ln(e,a,i)),null!=(a=Be(e,t))&&n.push(Ln(e,a,i))),e=e.return}return n}function Dn(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Nn(e,t,r,n,i){for(var a=t._reactName,o=[];null!==r&&r!==n;){var s=r,u=s.alternate,l=s.stateNode;if(null!==u&&u===n)break;5===s.tag&&null!==l&&(s=l,i?null!=(u=Be(r,a))&&o.unshift(Ln(r,u,s)):i||null!=(u=Be(r,a))&&o.push(Ln(r,u,s))),r=r.return}0!==o.length&&e.push({event:t,listeners:o})}function In(){}var Fn=null,Un=null;function Bn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function jn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Hn="function"===typeof setTimeout?setTimeout:void 0,Vn="function"===typeof clearTimeout?clearTimeout:void 0;function Gn(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Wn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function qn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var Xn=0;var Yn=Math.random().toString(36).slice(2),Zn="__reactFiber$"+Yn,Kn="__reactProps$"+Yn,Qn="__reactContainer$"+Yn,Jn="__reactEvents$"+Yn;function $n(e){var t=e[Zn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Qn]||r[Zn]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=qn(e);null!==e;){if(r=e[Zn])return r;e=qn(e)}return t}r=(e=r).parentNode}return null}function ei(e){return!(e=e[Zn]||e[Qn])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ti(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ri(e){return e[Kn]||null}function ni(e){var t=e[Jn];return void 0===t&&(t=e[Jn]=new Set),t}var ii=[],ai=-1;function oi(e){return{current:e}}function si(e){0>ai||(e.current=ii[ai],ii[ai]=null,ai--)}function ui(e,t){ai++,ii[ai]=e.current,e.current=t}var li={},ci=oi(li),hi=oi(!1),fi=li;function pi(e,t){var r=e.type.contextTypes;if(!r)return li;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in r)a[i]=t[i];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function di(e){return null!==(e=e.childContextTypes)&&void 0!==e}function mi(){si(hi),si(ci)}function vi(e,t,r){if(ci.current!==li)throw Error(o(168));ui(ci,t),ui(hi,r)}function gi(e,t,r){var n=e.stateNode;if(e=t.childContextTypes,"function"!==typeof n.getChildContext)return r;for(var a in n=n.getChildContext())if(!(a in e))throw Error(o(108,X(t)||"Unknown",a));return i({},r,n)}function yi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||li,fi=ci.current,ui(ci,e),ui(hi,hi.current),!0}function bi(e,t,r){var n=e.stateNode;if(!n)throw Error(o(169));r?(e=gi(e,t,fi),n.__reactInternalMemoizedMergedChildContext=e,si(hi),si(ci),ui(ci,e)):si(hi),ui(hi,r)}var xi=null,wi=null,_i=a.unstable_runWithPriority,Ti=a.unstable_scheduleCallback,Ei=a.unstable_cancelCallback,Si=a.unstable_shouldYield,Mi=a.unstable_requestPaint,Ai=a.unstable_now,Ci=a.unstable_getCurrentPriorityLevel,Ri=a.unstable_ImmediatePriority,Oi=a.unstable_UserBlockingPriority,ki=a.unstable_NormalPriority,Pi=a.unstable_LowPriority,Li=a.unstable_IdlePriority,zi={},Di=void 0!==Mi?Mi:function(){},Ni=null,Ii=null,Fi=!1,Ui=Ai(),Bi=1e4>Ui?Ai:function(){return Ai()-Ui};function ji(){switch(Ci()){case Ri:return 99;case Oi:return 98;case ki:return 97;case Pi:return 96;case Li:return 95;default:throw Error(o(332))}}function Hi(e){switch(e){case 99:return Ri;case 98:return Oi;case 97:return ki;case 96:return Pi;case 95:return Li;default:throw Error(o(332))}}function Vi(e,t){return e=Hi(e),_i(e,t)}function Gi(e,t,r){return e=Hi(e),Ti(e,t,r)}function Wi(){if(null!==Ii){var e=Ii;Ii=null,Ei(e)}qi()}function qi(){if(!Fi&&null!==Ni){Fi=!0;var e=0;try{var t=Ni;Vi(99,(function(){for(;e<t.length;e++){var r=t[e];do{r=r(!0)}while(null!==r)}})),Ni=null}catch(r){throw null!==Ni&&(Ni=Ni.slice(e+1)),Ti(Ri,Wi),r}finally{Fi=!1}}}var Xi=w.ReactCurrentBatchConfig;function Yi(e,t){if(e&&e.defaultProps){for(var r in t=i({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}return t}var Zi=oi(null),Ki=null,Qi=null,Ji=null;function $i(){Ji=Qi=Ki=null}function ea(e){var t=Zi.current;si(Zi),e.type._context._currentValue=t}function ta(e,t){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)===t){if(null===r||(r.childLanes&t)===t)break;r.childLanes|=t}else e.childLanes|=t,null!==r&&(r.childLanes|=t);e=e.return}}function ra(e,t){Ki=e,Ji=Qi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(zo=!0),e.firstContext=null)}function na(e,t){if(Ji!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(Ji=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Qi){if(null===Ki)throw Error(o(308));Qi=t,Ki.dependencies={lanes:0,firstContext:t,responders:null}}else Qi=Qi.next=t;return e._currentValue}var ia=!1;function aa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function oa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function sa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ua(e,t){if(null!==(e=e.updateQueue)){var r=(e=e.shared).pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}}function la(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var i=null,a=null;if(null!==(r=r.firstBaseUpdate)){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===a?i=a=o:a=a.next=o,r=r.next}while(null!==r);null===a?i=a=t:a=a.next=t}else i=a=t;return r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ca(e,t,r,n){var a=e.updateQueue;ia=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,u=a.shared.pending;if(null!==u){a.shared.pending=null;var l=u,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var h=e.alternate;if(null!==h){var f=(h=h.updateQueue).lastBaseUpdate;f!==s&&(null===f?h.firstBaseUpdate=c:f.next=c,h.lastBaseUpdate=l)}}if(null!==o){for(f=a.baseState,s=0,h=c=l=null;;){u=o.lane;var p=o.eventTime;if((n&u)===u){null!==h&&(h=h.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var d=e,m=o;switch(u=t,p=r,m.tag){case 1:if("function"===typeof(d=m.payload)){f=d.call(p,f,u);break e}f=d;break e;case 3:d.flags=-4097&d.flags|64;case 0:if(null===(u="function"===typeof(d=m.payload)?d.call(p,f,u):d)||void 0===u)break e;f=i({},f,u);break e;case 2:ia=!0}}null!==o.callback&&(e.flags|=32,null===(u=a.effects)?a.effects=[o]:u.push(o))}else p={eventTime:p,lane:u,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===h?(c=h=p,l=f):h=h.next=p,s|=u;if(null===(o=o.next)){if(null===(u=a.shared.pending))break;o=u.next,u.next=null,a.lastBaseUpdate=u,a.shared.pending=null}}null===h&&(l=f),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=h,Fs|=s,e.lanes=s,e.memoizedState=f}}function ha(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(null!==i){if(n.callback=null,n=r,"function"!==typeof i)throw Error(o(191,i));i.call(n)}}}var fa=(new n.Component).refs;function pa(e,t,r,n){r=null===(r=r(n,t=e.memoizedState))||void 0===r?t:i({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var da={isMounted:function(e){return!!(e=e._reactInternals)&&Ke(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=lu(),i=cu(e),a=sa(n,i);a.payload=t,void 0!==r&&null!==r&&(a.callback=r),ua(e,a),hu(e,i,n)},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=lu(),i=cu(e),a=sa(n,i);a.tag=1,a.payload=t,void 0!==r&&null!==r&&(a.callback=r),ua(e,a),hu(e,i,n)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=lu(),n=cu(e),i=sa(r,n);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),ua(e,i),hu(e,n,r)}};function ma(e,t,r,n,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ln(r,n)||!ln(i,a))}function va(e,t,r){var n=!1,i=li,a=t.contextType;return"object"===typeof a&&null!==a?a=na(a):(i=di(t)?fi:ci.current,a=(n=null!==(n=t.contextTypes)&&void 0!==n)?pi(e,i):li),t=new t(r,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=da,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ga(e,t,r,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&da.enqueueReplaceState(t,t.state,null)}function ya(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs=fa,aa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=na(a):(a=di(t)?fi:ci.current,i.context=pi(e,a)),ca(e,r,i,n),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(pa(e,t,a,r),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&da.enqueueReplaceState(i,i.state,null),ca(e,r,i,n),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var ba=Array.isArray;function xa(e,t,r){if(null!==(e=r.ref)&&"function"!==typeof e&&"object"!==typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(o(309));var n=r.stateNode}if(!n)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=n.refs;t===fa&&(t=n.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!r._owner)throw Error(o(290,e))}return e}function wa(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function _a(e){function t(t,r){if(e){var n=t.lastEffect;null!==n?(n.nextEffect=r,t.lastEffect=r):t.firstEffect=t.lastEffect=r,r.nextEffect=null,r.flags=8}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Vu(e,t)).index=0,e.sibling=null,e}function a(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags=2,r):n:(t.flags=2,r):r}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,r,n){return null===t||6!==t.tag?((t=Xu(r,e.mode,n)).return=e,t):((t=i(t,r)).return=e,t)}function l(e,t,r,n){return null!==t&&t.elementType===r.type?((n=i(t,r.props)).ref=xa(e,t,r),n.return=e,n):((n=Gu(r.type,r.key,r.props,null,e.mode,n)).ref=xa(e,t,r),n.return=e,n)}function c(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Yu(r,e.mode,n)).return=e,t):((t=i(t,r.children||[])).return=e,t)}function h(e,t,r,n,a){return null===t||7!==t.tag?((t=Wu(r,e.mode,n,a)).return=e,t):((t=i(t,r)).return=e,t)}function f(e,t,r){if("string"===typeof t||"number"===typeof t)return(t=Xu(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(r=Gu(t.type,t.key,t.props,null,e.mode,r)).ref=xa(e,null,t),r.return=e,r;case T:return(t=Yu(t,e.mode,r)).return=e,t}if(ba(t)||H(t))return(t=Wu(t,e.mode,r,null)).return=e,t;wa(e,t)}return null}function p(e,t,r,n){var i=null!==t?t.key:null;if("string"===typeof r||"number"===typeof r)return null!==i?null:u(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return r.key===i?r.type===E?h(e,t,r.props.children,n,i):l(e,t,r,n):null;case T:return r.key===i?c(e,t,r,n):null}if(ba(r)||H(r))return null!==i?null:h(e,t,r,n,null);wa(e,r)}return null}function d(e,t,r,n,i){if("string"===typeof n||"number"===typeof n)return u(t,e=e.get(r)||null,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return e=e.get(null===n.key?r:n.key)||null,n.type===E?h(t,e,n.props.children,i,n.key):l(t,e,n,i);case T:return c(t,e=e.get(null===n.key?r:n.key)||null,n,i)}if(ba(n)||H(n))return h(t,e=e.get(r)||null,n,i,null);wa(t,n)}return null}function m(i,o,s,u){for(var l=null,c=null,h=o,m=o=0,v=null;null!==h&&m<s.length;m++){h.index>m?(v=h,h=null):v=h.sibling;var g=p(i,h,s[m],u);if(null===g){null===h&&(h=v);break}e&&h&&null===g.alternate&&t(i,h),o=a(g,o,m),null===c?l=g:c.sibling=g,c=g,h=v}if(m===s.length)return r(i,h),l;if(null===h){for(;m<s.length;m++)null!==(h=f(i,s[m],u))&&(o=a(h,o,m),null===c?l=h:c.sibling=h,c=h);return l}for(h=n(i,h);m<s.length;m++)null!==(v=d(h,i,m,s[m],u))&&(e&&null!==v.alternate&&h.delete(null===v.key?m:v.key),o=a(v,o,m),null===c?l=v:c.sibling=v,c=v);return e&&h.forEach((function(e){return t(i,e)})),l}function v(i,s,u,l){var c=H(u);if("function"!==typeof c)throw Error(o(150));if(null==(u=c.call(u)))throw Error(o(151));for(var h=c=null,m=s,v=s=0,g=null,y=u.next();null!==m&&!y.done;v++,y=u.next()){m.index>v?(g=m,m=null):g=m.sibling;var b=p(i,m,y.value,l);if(null===b){null===m&&(m=g);break}e&&m&&null===b.alternate&&t(i,m),s=a(b,s,v),null===h?c=b:h.sibling=b,h=b,m=g}if(y.done)return r(i,m),c;if(null===m){for(;!y.done;v++,y=u.next())null!==(y=f(i,y.value,l))&&(s=a(y,s,v),null===h?c=y:h.sibling=y,h=y);return c}for(m=n(i,m);!y.done;v++,y=u.next())null!==(y=d(m,i,v,y.value,l))&&(e&&null!==y.alternate&&m.delete(null===y.key?v:y.key),s=a(y,s,v),null===h?c=y:h.sibling=y,h=y);return e&&m.forEach((function(e){return t(i,e)})),c}return function(e,n,a,u){var l="object"===typeof a&&null!==a&&a.type===E&&null===a.key;l&&(a=a.props.children);var c="object"===typeof a&&null!==a;if(c)switch(a.$$typeof){case _:e:{for(c=a.key,l=n;null!==l;){if(l.key===c){switch(l.tag){case 7:if(a.type===E){r(e,l.sibling),(n=i(l,a.props.children)).return=e,e=n;break e}break;default:if(l.elementType===a.type){r(e,l.sibling),(n=i(l,a.props)).ref=xa(e,l,a),n.return=e,e=n;break e}}r(e,l);break}t(e,l),l=l.sibling}a.type===E?((n=Wu(a.props.children,e.mode,u,a.key)).return=e,e=n):((u=Gu(a.type,a.key,a.props,null,e.mode,u)).ref=xa(e,n,a),u.return=e,e=u)}return s(e);case T:e:{for(l=a.key;null!==n;){if(n.key===l){if(4===n.tag&&n.stateNode.containerInfo===a.containerInfo&&n.stateNode.implementation===a.implementation){r(e,n.sibling),(n=i(n,a.children||[])).return=e,e=n;break e}r(e,n);break}t(e,n),n=n.sibling}(n=Yu(a,e.mode,u)).return=e,e=n}return s(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==n&&6===n.tag?(r(e,n.sibling),(n=i(n,a)).return=e,e=n):(r(e,n),(n=Xu(a,e.mode,u)).return=e,e=n),s(e);if(ba(a))return m(e,n,a,u);if(H(a))return v(e,n,a,u);if(c&&wa(e,a),"undefined"===typeof a&&!l)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,X(e.type)||"Component"))}return r(e,n)}}var Ta=_a(!0),Ea=_a(!1),Sa={},Ma=oi(Sa),Aa=oi(Sa),Ca=oi(Sa);function Ra(e){if(e===Sa)throw Error(o(174));return e}function Oa(e,t){switch(ui(Ca,t),ui(Aa,e),ui(Ma,Sa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:de(null,"");break;default:t=de(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}si(Ma),ui(Ma,t)}function ka(){si(Ma),si(Aa),si(Ca)}function Pa(e){Ra(Ca.current);var t=Ra(Ma.current),r=de(t,e.type);t!==r&&(ui(Aa,e),ui(Ma,r))}function La(e){Aa.current===e&&(si(Ma),si(Aa))}var za=oi(0);function Da(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Na=null,Ia=null,Fa=!1;function Ua(e,t){var r=ju(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=t,r.return=e,r.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=r,e.lastEffect=r):e.firstEffect=e.lastEffect=r}function Ba(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function ja(e){if(Fa){var t=Ia;if(t){var r=t;if(!Ba(e,t)){if(!(t=Wn(r.nextSibling))||!Ba(e,t))return e.flags=-1025&e.flags|2,Fa=!1,void(Na=e);Ua(Na,r)}Na=e,Ia=Wn(t.firstChild)}else e.flags=-1025&e.flags|2,Fa=!1,Na=e}}function Ha(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Na=e}function Va(e){if(e!==Na)return!1;if(!Fa)return Ha(e),Fa=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!jn(t,e.memoizedProps))for(t=Ia;t;)Ua(e,t),t=Wn(t.nextSibling);if(Ha(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){Ia=Wn(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}Ia=null}}else Ia=Na?Wn(e.stateNode.nextSibling):null;return!0}function Ga(){Ia=Na=null,Fa=!1}var Wa=[];function qa(){for(var e=0;e<Wa.length;e++)Wa[e]._workInProgressVersionPrimary=null;Wa.length=0}var Xa=w.ReactCurrentDispatcher,Ya=w.ReactCurrentBatchConfig,Za=0,Ka=null,Qa=null,Ja=null,$a=!1,eo=!1;function to(){throw Error(o(321))}function ro(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!sn(e[r],t[r]))return!1;return!0}function no(e,t,r,n,i,a){if(Za=a,Ka=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xa.current=null===e||null===e.memoizedState?Oo:ko,e=r(n,i),eo){a=0;do{if(eo=!1,!(25>a))throw Error(o(301));a+=1,Ja=Qa=null,t.updateQueue=null,Xa.current=Po,e=r(n,i)}while(eo)}if(Xa.current=Ro,t=null!==Qa&&null!==Qa.next,Za=0,Ja=Qa=Ka=null,$a=!1,t)throw Error(o(300));return e}function io(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ja?Ka.memoizedState=Ja=e:Ja=Ja.next=e,Ja}function ao(){if(null===Qa){var e=Ka.alternate;e=null!==e?e.memoizedState:null}else e=Qa.next;var t=null===Ja?Ka.memoizedState:Ja.next;if(null!==t)Ja=t,Qa=e;else{if(null===e)throw Error(o(310));e={memoizedState:(Qa=e).memoizedState,baseState:Qa.baseState,baseQueue:Qa.baseQueue,queue:Qa.queue,next:null},null===Ja?Ka.memoizedState=Ja=e:Ja=Ja.next=e}return Ja}function oo(e,t){return"function"===typeof t?t(e):t}function so(e){var t=ao(),r=t.queue;if(null===r)throw Error(o(311));r.lastRenderedReducer=e;var n=Qa,i=n.baseQueue,a=r.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}n.baseQueue=i=a,r.pending=null}if(null!==i){i=i.next,n=n.baseState;var u=s=a=null,l=i;do{var c=l.lane;if((Za&c)===c)null!==u&&(u=u.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),n=l.eagerReducer===e?l.eagerState:e(n,l.action);else{var h={lane:c,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===u?(s=u=h,a=n):u=u.next=h,Ka.lanes|=c,Fs|=c}l=l.next}while(null!==l&&l!==i);null===u?a=n:u.next=s,sn(n,t.memoizedState)||(zo=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=u,r.lastRenderedState=n}return[t.memoizedState,r.dispatch]}function uo(e){var t=ao(),r=t.queue;if(null===r)throw Error(o(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(null!==i){r.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sn(a,t.memoizedState)||(zo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function lo(e,t,r){var n=t._getVersion;n=n(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===n:(e=e.mutableReadLanes,(e=(Za&e)===e)&&(t._workInProgressVersionPrimary=n,Wa.push(t))),e)return r(t._source);throw Wa.push(t),Error(o(350))}function co(e,t,r,n){var i=Os;if(null===i)throw Error(o(349));var a=t._getVersion,s=a(t._source),u=Xa.current,l=u.useState((function(){return lo(i,t,r)})),c=l[1],h=l[0];l=Ja;var f=e.memoizedState,p=f.refs,d=p.getSnapshot,m=f.source;f=f.subscribe;var v=Ka;return e.memoizedState={refs:p,source:t,subscribe:n},u.useEffect((function(){p.getSnapshot=r,p.setSnapshot=c;var e=a(t._source);if(!sn(s,e)){e=r(t._source),sn(h,e)||(c(e),e=cu(v),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var n=i.entanglements,o=e;0<o;){var u=31-Gt(o),l=1<<u;n[u]|=e,o&=~l}}}),[r,t,n]),u.useEffect((function(){return n(t._source,(function(){var e=p.getSnapshot,r=p.setSnapshot;try{r(e(t._source));var n=cu(v);i.mutableReadLanes|=n&i.pendingLanes}catch(a){r((function(){throw a}))}}))}),[t,n]),sn(d,r)&&sn(m,t)&&sn(f,n)||((e={pending:null,dispatch:null,lastRenderedReducer:oo,lastRenderedState:h}).dispatch=c=Co.bind(null,Ka,e),l.queue=e,l.baseQueue=null,h=lo(i,t,r),l.memoizedState=l.baseState=h),h}function ho(e,t,r){return co(ao(),e,t,r)}function fo(e){var t=io();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:oo,lastRenderedState:e}).dispatch=Co.bind(null,Ka,e),[t.memoizedState,e]}function po(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===(t=Ka.updateQueue)?(t={lastEffect:null},Ka.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function mo(e){return e={current:e},io().memoizedState=e}function vo(){return ao().memoizedState}function go(e,t,r,n){var i=io();Ka.flags|=e,i.memoizedState=po(1|t,r,void 0,void 0===n?null:n)}function yo(e,t,r,n){var i=ao();n=void 0===n?null:n;var a=void 0;if(null!==Qa){var o=Qa.memoizedState;if(a=o.destroy,null!==n&&ro(n,o.deps))return void po(t,r,a,n)}Ka.flags|=e,i.memoizedState=po(1|t,r,a,n)}function bo(e,t){return go(516,4,e,t)}function xo(e,t){return yo(516,4,e,t)}function wo(e,t){return yo(4,2,e,t)}function _o(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function To(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,yo(4,2,_o.bind(null,t,e),r)}function Eo(){}function So(e,t){var r=ao();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&ro(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Mo(e,t){var r=ao();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&ro(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Ao(e,t){var r=ji();Vi(98>r?98:r,(function(){e(!0)})),Vi(97<r?97:r,(function(){var r=Ya.transition;Ya.transition=1;try{e(!1),t()}finally{Ya.transition=r}}))}function Co(e,t,r){var n=lu(),i=cu(e),a={lane:i,action:r,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Ka||null!==o&&o===Ka)eo=$a=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=o(s,r);if(a.eagerReducer=o,a.eagerState=u,sn(u,s))return}catch(l){}hu(e,i,n)}}var Ro={readContext:na,useCallback:to,useContext:to,useEffect:to,useImperativeHandle:to,useLayoutEffect:to,useMemo:to,useReducer:to,useRef:to,useState:to,useDebugValue:to,useDeferredValue:to,useTransition:to,useMutableSource:to,useOpaqueIdentifier:to,unstable_isNewReconciler:!1},Oo={readContext:na,useCallback:function(e,t){return io().memoizedState=[e,void 0===t?null:t],e},useContext:na,useEffect:bo,useImperativeHandle:function(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,go(4,2,_o.bind(null,t,e),r)},useLayoutEffect:function(e,t){return go(4,2,e,t)},useMemo:function(e,t){var r=io();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=io();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e=(e=n.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Co.bind(null,Ka,e),[n.memoizedState,e]},useRef:mo,useState:fo,useDebugValue:Eo,useDeferredValue:function(e){var t=fo(e),r=t[0],n=t[1];return bo((function(){var t=Ya.transition;Ya.transition=1;try{n(e)}finally{Ya.transition=t}}),[e]),r},useTransition:function(){var e=fo(!1),t=e[0];return mo(e=Ao.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,r){var n=io();return n.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:r},co(n,e,t,r)},useOpaqueIdentifier:function(){if(Fa){var e=!1,t=function(e){return{$$typeof:D,toString:e,valueOf:e}}((function(){throw e||(e=!0,r("r:"+(Xn++).toString(36))),Error(o(355))})),r=fo(t)[1];return 0===(2&Ka.mode)&&(Ka.flags|=516,po(5,(function(){r("r:"+(Xn++).toString(36))}),void 0,null)),t}return fo(t="r:"+(Xn++).toString(36)),t},unstable_isNewReconciler:!1},ko={readContext:na,useCallback:So,useContext:na,useEffect:xo,useImperativeHandle:To,useLayoutEffect:wo,useMemo:Mo,useReducer:so,useRef:vo,useState:function(){return so(oo)},useDebugValue:Eo,useDeferredValue:function(e){var t=so(oo),r=t[0],n=t[1];return xo((function(){var t=Ya.transition;Ya.transition=1;try{n(e)}finally{Ya.transition=t}}),[e]),r},useTransition:function(){var e=so(oo)[0];return[vo().current,e]},useMutableSource:ho,useOpaqueIdentifier:function(){return so(oo)[0]},unstable_isNewReconciler:!1},Po={readContext:na,useCallback:So,useContext:na,useEffect:xo,useImperativeHandle:To,useLayoutEffect:wo,useMemo:Mo,useReducer:uo,useRef:vo,useState:function(){return uo(oo)},useDebugValue:Eo,useDeferredValue:function(e){var t=uo(oo),r=t[0],n=t[1];return xo((function(){var t=Ya.transition;Ya.transition=1;try{n(e)}finally{Ya.transition=t}}),[e]),r},useTransition:function(){var e=uo(oo)[0];return[vo().current,e]},useMutableSource:ho,useOpaqueIdentifier:function(){return uo(oo)[0]},unstable_isNewReconciler:!1},Lo=w.ReactCurrentOwner,zo=!1;function Do(e,t,r,n){t.child=null===e?Ea(t,null,r,n):Ta(t,e.child,r,n)}function No(e,t,r,n,i){r=r.render;var a=t.ref;return ra(t,i),n=no(e,t,r,n,a,i),null===e||zo?(t.flags|=1,Do(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,rs(e,t,i))}function Io(e,t,r,n,i,a){if(null===e){var o=r.type;return"function"!==typeof o||Hu(o)||void 0!==o.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=Gu(r.type,null,n,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Fo(e,t,o,n,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(r=null!==(r=r.compare)?r:ln)(i,n)&&e.ref===t.ref)?rs(e,t,a):(t.flags|=1,(e=Vu(o,n)).ref=t.ref,e.return=t,t.child=e)}function Fo(e,t,r,n,i,a){if(null!==e&&ln(e.memoizedProps,n)&&e.ref===t.ref){if(zo=!1,0===(a&i))return t.lanes=e.lanes,rs(e,t,a);0!==(16384&e.flags)&&(zo=!0)}return jo(e,t,r,n,a)}function Uo(e,t,r){var n=t.pendingProps,i=n.children,a=null!==e?e.memoizedState:null;if("hidden"===n.mode||"unstable-defer-without-hiding"===n.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},bu(t,r);else{if(0===(1073741824&r))return e=null!==a?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},bu(t,e),null;t.memoizedState={baseLanes:0},bu(t,null!==a?a.baseLanes:r)}else null!==a?(n=a.baseLanes|r,t.memoizedState=null):n=r,bu(t,n);return Do(e,t,i,r),t.child}function Bo(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.flags|=128)}function jo(e,t,r,n,i){var a=di(r)?fi:ci.current;return a=pi(t,a),ra(t,i),r=no(e,t,r,n,a,i),null===e||zo?(t.flags|=1,Do(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,rs(e,t,i))}function Ho(e,t,r,n,i){if(di(r)){var a=!0;yi(t)}else a=!1;if(ra(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),va(t,r,n),ya(t,r,n,i),n=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,l=r.contextType;"object"===typeof l&&null!==l?l=na(l):l=pi(t,l=di(r)?fi:ci.current);var c=r.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==n||u!==l)&&ga(t,o,n,l),ia=!1;var f=t.memoizedState;o.state=f,ca(t,n,o,i),u=t.memoizedState,s!==n||f!==u||hi.current||ia?("function"===typeof c&&(pa(t,r,c,n),u=t.memoizedState),(s=ia||ma(t,r,s,n,f,u,l))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=n,t.memoizedState=u),o.props=n,o.state=u,o.context=l,n=s):("function"===typeof o.componentDidMount&&(t.flags|=4),n=!1)}else{o=t.stateNode,oa(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:Yi(t.type,s),o.props=l,h=t.pendingProps,f=o.context,"object"===typeof(u=r.contextType)&&null!==u?u=na(u):u=pi(t,u=di(r)?fi:ci.current);var p=r.getDerivedStateFromProps;(c="function"===typeof p||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==h||f!==u)&&ga(t,o,n,u),ia=!1,f=t.memoizedState,o.state=f,ca(t,n,o,i);var d=t.memoizedState;s!==h||f!==d||hi.current||ia?("function"===typeof p&&(pa(t,r,p,n),d=t.memoizedState),(l=ia||ma(t,r,l,n,f,d,u))?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(n,d,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(n,d,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),t.memoizedProps=n,t.memoizedState=d),o.props=n,o.state=d,o.context=u,n=l):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),n=!1)}return Vo(e,t,r,n,a,i)}function Vo(e,t,r,n,i,a){Bo(e,t);var o=0!==(64&t.flags);if(!n&&!o)return i&&bi(t,r,!1),rs(e,t,a);n=t.stateNode,Lo.current=t;var s=o&&"function"!==typeof r.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&o?(t.child=Ta(t,e.child,null,a),t.child=Ta(t,null,s,a)):Do(e,t,s,a),t.memoizedState=n.state,i&&bi(t,r,!0),t.child}function Go(e){var t=e.stateNode;t.pendingContext?vi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&vi(0,t.context,!1),Oa(e,t.containerInfo)}var Wo,qo,Xo,Yo={dehydrated:null,retryLane:0};function Zo(e,t,r){var n,i=t.pendingProps,a=za.current,o=!1;return(n=0!==(64&t.flags))||(n=(null===e||null!==e.memoizedState)&&0!==(2&a)),n?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),ui(za,1&a),null===e?(void 0!==i.fallback&&ja(t),e=i.children,a=i.fallback,o?(e=Ko(t,e,a,r),t.child.memoizedState={baseLanes:r},t.memoizedState=Yo,e):"number"===typeof i.unstable_expectedLoadTime?(e=Ko(t,e,a,r),t.child.memoizedState={baseLanes:r},t.memoizedState=Yo,t.lanes=33554432,e):((r=qu({mode:"visible",children:e},t.mode,r,null)).return=t,t.child=r)):(e.memoizedState,o?(i=Jo(e,t,i.children,i.fallback,r),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:r}:{baseLanes:a.baseLanes|r},o.childLanes=e.childLanes&~r,t.memoizedState=Yo,i):(r=Qo(e,t,i.children,r),t.memoizedState=null,r))}function Ko(e,t,r,n){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=qu(t,i,0,null),r=Wu(r,i,n,null),a.return=e,r.return=e,a.sibling=r,e.child=a,r}function Qo(e,t,r,n){var i=e.child;return e=i.sibling,r=Vu(i,{mode:"visible",children:r}),0===(2&t.mode)&&(r.lanes=n),r.return=t,r.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=r}function Jo(e,t,r,n,i){var a=t.mode,o=e.child;e=o.sibling;var s={mode:"hidden",children:r};return 0===(2&a)&&t.child!==o?((r=t.child).childLanes=0,r.pendingProps=s,null!==(o=r.lastEffect)?(t.firstEffect=r.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):r=Vu(o,s),null!==e?n=Vu(e,n):(n=Wu(n,a,i,null)).flags|=2,n.return=t,r.return=t,r.sibling=n,t.child=r,n}function $o(e,t){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ta(e.return,t)}function es(e,t,r,n,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i,o.lastEffect=a)}function ts(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(Do(e,t,n.children,r),0!==(2&(n=za.current)))n=1&n|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&$o(e,r);else if(19===e.tag)$o(e,r);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ui(za,n),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;null!==r;)null!==(e=r.alternate)&&null===Da(e)&&(i=r),r=r.sibling;null===(r=i)?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),es(t,!1,i,r,a,t.lastEffect);break;case"backwards":for(r=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Da(e)){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}es(t,!0,r,null,a,t.lastEffect);break;case"together":es(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function rs(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),Fs|=t.lanes,0!==(r&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(r=Vu(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Vu(e,e.pendingProps)).return=t;r.sibling=null}return t.child}return null}function ns(e,t){if(!Fa)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function is(e,t,r){var n=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return di(t.type)&&mi(),null;case 3:return ka(),si(hi),si(ci),qa(),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(Va(t)?t.flags|=4:n.hydrate||(t.flags|=256)),null;case 5:La(t);var a=Ra(Ca.current);if(r=t.type,null!==e&&null!=t.stateNode)qo(e,t,r,n),e.ref!==t.ref&&(t.flags|=128);else{if(!n){if(null===t.stateNode)throw Error(o(166));return null}if(e=Ra(Ma.current),Va(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[Zn]=t,n[Kn]=s,r){case"dialog":An("cancel",n),An("close",n);break;case"iframe":case"object":case"embed":An("load",n);break;case"video":case"audio":for(e=0;e<Tn.length;e++)An(Tn[e],n);break;case"source":An("error",n);break;case"img":case"image":case"link":An("error",n),An("load",n);break;case"details":An("toggle",n);break;case"input":ee(n,s),An("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},An("invalid",n);break;case"textarea":ue(n,s),An("invalid",n)}for(var l in Ee(r,s),e=null,s)s.hasOwnProperty(l)&&(a=s[l],"children"===l?"string"===typeof a?n.textContent!==a&&(e=["children",a]):"number"===typeof a&&n.textContent!==""+a&&(e=["children",""+a]):u.hasOwnProperty(l)&&null!=a&&"onScroll"===l&&An("scroll",n));switch(r){case"input":K(n),ne(n,s,!0);break;case"textarea":K(n),ce(n);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(n.onclick=In)}n=e,t.updateQueue=n,null!==n&&(t.flags|=4)}else{switch(l=9===a.nodeType?a:a.ownerDocument,e===he&&(e=pe(r)),e===he?"script"===r?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof n.is?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),"select"===r&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[Zn]=t,e[Kn]=n,Wo(e,t),t.stateNode=e,l=Se(r,n),r){case"dialog":An("cancel",e),An("close",e),a=n;break;case"iframe":case"object":case"embed":An("load",e),a=n;break;case"video":case"audio":for(a=0;a<Tn.length;a++)An(Tn[a],e);a=n;break;case"source":An("error",e),a=n;break;case"img":case"image":case"link":An("error",e),An("load",e),a=n;break;case"details":An("toggle",e),a=n;break;case"input":ee(e,n),a=$(e,n),An("invalid",e);break;case"option":a=ae(e,n);break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=i({},n,{value:void 0}),An("invalid",e);break;case"textarea":ue(e,n),a=se(e,n),An("invalid",e);break;default:a=n}Ee(r,a);var c=a;for(s in c)if(c.hasOwnProperty(s)){var h=c[s];"style"===s?_e(e,h):"dangerouslySetInnerHTML"===s?null!=(h=h?h.__html:void 0)&&ge(e,h):"children"===s?"string"===typeof h?("textarea"!==r||""!==h)&&ye(e,h):"number"===typeof h&&ye(e,""+h):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=h&&"onScroll"===s&&An("scroll",e):null!=h&&x(e,s,h,l))}switch(r){case"input":K(e),ne(e,n,!1);break;case"textarea":K(e),ce(e);break;case"option":null!=n.value&&e.setAttribute("value",""+Y(n.value));break;case"select":e.multiple=!!n.multiple,null!=(s=n.value)?oe(e,!!n.multiple,s,!1):null!=n.defaultValue&&oe(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=In)}Bn(r,n)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Xo(0,t,e.memoizedProps,n);else{if("string"!==typeof n&&null===t.stateNode)throw Error(o(166));r=Ra(Ca.current),Ra(Ma.current),Va(t)?(n=t.stateNode,r=t.memoizedProps,n[Zn]=t,n.nodeValue!==r&&(t.flags|=4)):((n=(9===r.nodeType?r:r.ownerDocument).createTextNode(n))[Zn]=t,t.stateNode=n)}return null;case 13:return si(za),n=t.memoizedState,0!==(64&t.flags)?(t.lanes=r,t):(n=null!==n,r=!1,null===e?void 0!==t.memoizedProps.fallback&&Va(t):r=null!==e.memoizedState,n&&!r&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&za.current)?0===Ds&&(Ds=3):(0!==Ds&&3!==Ds||(Ds=4),null===Os||0===(134217727&Fs)&&0===(134217727&Us)||mu(Os,Ps))),(n||r)&&(t.flags|=4),null);case 4:return ka(),null===e&&Rn(t.stateNode.containerInfo),null;case 10:return ea(t),null;case 17:return di(t.type)&&mi(),null;case 19:if(si(za),null===(n=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(l=n.rendering))if(s)ns(n,!1);else{if(0!==Ds||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(l=Da(e))){for(t.flags|=64,ns(n,!1),null!==(s=l.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===n.lastEffect&&(t.firstEffect=null),t.lastEffect=n.lastEffect,n=r,r=t.child;null!==r;)e=n,(s=r).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ui(za,1&za.current|2),t.child}e=e.sibling}null!==n.tail&&Bi()>Vs&&(t.flags|=64,s=!0,ns(n,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Da(l))){if(t.flags|=64,s=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.flags|=4),ns(n,!0),null===n.tail&&"hidden"===n.tailMode&&!l.alternate&&!Fa)return null!==(t=t.lastEffect=n.lastEffect)&&(t.nextEffect=null),null}else 2*Bi()-n.renderingStartTime>Vs&&1073741824!==r&&(t.flags|=64,s=!0,ns(n,!1),t.lanes=33554432);n.isBackwards?(l.sibling=t.child,t.child=l):(null!==(r=n.last)?r.sibling=l:t.child=l,n.last=l)}return null!==n.tail?(r=n.tail,n.rendering=r,n.tail=r.sibling,n.lastEffect=t.lastEffect,n.renderingStartTime=Bi(),r.sibling=null,t=za.current,ui(za,s?1&t|2:1&t),r):null;case 23:case 24:return xu(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==n.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function as(e){switch(e.tag){case 1:di(e.type)&&mi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(ka(),si(hi),si(ci),qa(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return La(e),null;case 13:return si(za),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return si(za),null;case 4:return ka(),null;case 10:return ea(e),null;case 23:case 24:return xu(),null;default:return null}}function os(e,t){try{var r="",n=t;do{r+=q(n),n=n.return}while(n);var i=r}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function ss(e,t){try{console.error(t.value)}catch(r){setTimeout((function(){throw r}))}}Wo=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},qo=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Ra(Ma.current);var o,s=null;switch(r){case"input":a=$(e,a),n=$(e,n),s=[];break;case"option":a=ae(e,a),n=ae(e,n),s=[];break;case"select":a=i({},a,{value:void 0}),n=i({},n,{value:void 0}),s=[];break;case"textarea":a=se(e,a),n=se(e,n),s=[];break;default:"function"!==typeof a.onClick&&"function"===typeof n.onClick&&(e.onclick=In)}for(h in Ee(r,n),r=null,a)if(!n.hasOwnProperty(h)&&a.hasOwnProperty(h)&&null!=a[h])if("style"===h){var l=a[h];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(u.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in n){var c=n[h];if(l=null!=a?a[h]:void 0,n.hasOwnProperty(h)&&c!==l&&(null!=c||null!=l))if("style"===h)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(s||(s=[]),s.push(h,r)),r=c;else"dangerouslySetInnerHTML"===h?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(h,c)):"children"===h?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(h,""+c):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(u.hasOwnProperty(h)?(null!=c&&"onScroll"===h&&An("scroll",e),s||l===c||(s=[])):"object"===typeof c&&null!==c&&c.$$typeof===D?c.toString():(s=s||[]).push(h,c))}r&&(s=s||[]).push("style",r);var h=s;(t.updateQueue=h)&&(t.flags|=4)}},Xo=function(e,t,r,n){r!==n&&(t.flags|=4)};var us="function"===typeof WeakMap?WeakMap:Map;function ls(e,t,r){(r=sa(-1,r)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Xs||(Xs=!0,Ys=n),ss(0,t)},r}function cs(e,t,r){(r=sa(-1,r)).tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var i=t.value;r.payload=function(){return ss(0,t),n(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(r.callback=function(){"function"!==typeof n&&(null===Zs?Zs=new Set([this]):Zs.add(this),ss(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),r}var hs="function"===typeof WeakSet?WeakSet:Set;function fs(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(r){Iu(e,r)}else t.current=null}function ps(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.flags&&null!==e){var r=e.memoizedProps,n=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?r:Yi(t.type,r),n),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Gn(t.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(o(163))}function ds(e,t,r){switch(r.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=r.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var n=e.create;e.destroy=n()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=r.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;n=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(zu(r,e),Lu(r,e)),e=n}while(e!==t)}return;case 1:return e=r.stateNode,4&r.flags&&(null===t?e.componentDidMount():(n=r.elementType===r.type?t.memoizedProps:Yi(r.type,t.memoizedProps),e.componentDidUpdate(n,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=r.updateQueue)&&ha(r,t,e));case 3:if(null!==(t=r.updateQueue)){if(e=null,null!==r.child)switch(r.child.tag){case 5:e=r.child.stateNode;break;case 1:e=r.child.stateNode}ha(r,t,e)}return;case 5:return e=r.stateNode,void(null===t&&4&r.flags&&Bn(r.type,r.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===r.memoizedState&&(r=r.alternate,null!==r&&(r=r.memoizedState,null!==r&&(r=r.dehydrated,null!==r&&_t(r)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(o(163))}function ms(e,t){for(var r=e;;){if(5===r.tag){var n=r.stateNode;if(t)"function"===typeof(n=n.style).setProperty?n.setProperty("display","none","important"):n.display="none";else{n=r.stateNode;var i=r.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,n.style.display=we("display",i)}}else if(6===r.tag)r.stateNode.nodeValue=t?"":r.memoizedProps;else if((23!==r.tag&&24!==r.tag||null===r.memoizedState||r===e)&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===e)break;for(;null===r.sibling;){if(null===r.return||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function vs(e,t){if(wi&&"function"===typeof wi.onCommitFiberUnmount)try{wi.onCommitFiberUnmount(xi,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e=e.next;do{var n=r,i=n.destroy;if(n=n.tag,void 0!==i)if(0!==(4&n))zu(t,r);else{n=t;try{i()}catch(a){Iu(n,a)}}r=r.next}while(r!==e)}break;case 1:if(fs(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Iu(t,a)}break;case 5:fs(t);break;case 4:_s(e,t)}}function gs(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ys(e){return 5===e.tag||3===e.tag||4===e.tag}function bs(e){e:{for(var t=e.return;null!==t;){if(ys(t))break e;t=t.return}throw Error(o(160))}var r=t;switch(t=r.stateNode,r.tag){case 5:var n=!1;break;case 3:case 4:t=t.containerInfo,n=!0;break;default:throw Error(o(161))}16&r.flags&&(ye(t,""),r.flags&=-17);e:t:for(r=e;;){for(;null===r.sibling;){if(null===r.return||ys(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;5!==r.tag&&6!==r.tag&&18!==r.tag;){if(2&r.flags)continue t;if(null===r.child||4===r.tag)continue t;r.child.return=r,r=r.child}if(!(2&r.flags)){r=r.stateNode;break e}}n?xs(e,r,t):ws(e,r,t)}function xs(e,t,r){var n=e.tag,i=5===n||6===n;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode).insertBefore(e,r):(t=r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=In));else if(4!==n&&null!==(e=e.child))for(xs(e,t,r),e=e.sibling;null!==e;)xs(e,t,r),e=e.sibling}function ws(e,t,r){var n=e.tag,i=5===n||6===n;if(i)e=i?e.stateNode:e.stateNode.instance,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&null!==(e=e.child))for(ws(e,t,r),e=e.sibling;null!==e;)ws(e,t,r),e=e.sibling}function _s(e,t){for(var r,n,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(r=a.stateNode,a.tag){case 5:n=!1;break e;case 3:case 4:r=r.containerInfo,n=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,l=u;;)if(vs(s,l),null!==l.child&&4!==l.tag)l.child.return=l,l=l.child;else{if(l===u)break e;for(;null===l.sibling;){if(null===l.return||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}n?(s=r,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):r.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){r=i.stateNode.containerInfo,n=!0,i.child.return=i,i=i.child;continue}}else if(vs(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Ts(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var n=r=r.next;do{3===(3&n.tag)&&(e=n.destroy,n.destroy=void 0,void 0!==e&&e()),n=n.next}while(n!==r)}return;case 1:return;case 5:if(null!=(r=t.stateNode)){n=t.memoizedProps;var i=null!==e?e.memoizedProps:n;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(r[Kn]=n,"input"===e&&"radio"===n.type&&null!=n.name&&te(r,n),Se(e,i),t=Se(e,n),i=0;i<a.length;i+=2){var s=a[i],u=a[i+1];"style"===s?_e(r,u):"dangerouslySetInnerHTML"===s?ge(r,u):"children"===s?ye(r,u):x(r,s,u,t)}switch(e){case"input":re(r,n);break;case"textarea":le(r,n);break;case"select":e=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!n.multiple,null!=(a=n.value)?oe(r,!!n.multiple,a,!1):e!==!!n.multiple&&(null!=n.defaultValue?oe(r,!!n.multiple,n.defaultValue,!0):oe(r,!!n.multiple,n.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((r=t.stateNode).hydrate&&(r.hydrate=!1,_t(r.containerInfo)));case 12:return;case 13:return null!==t.memoizedState&&(Hs=Bi(),ms(t.child,!0)),void Es(t);case 19:return void Es(t);case 17:return;case 23:case 24:return void ms(t,null!==t.memoizedState)}throw Error(o(163))}function Es(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new hs),t.forEach((function(t){var n=Uu.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))}))}}function Ss(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Ms=Math.ceil,As=w.ReactCurrentDispatcher,Cs=w.ReactCurrentOwner,Rs=0,Os=null,ks=null,Ps=0,Ls=0,zs=oi(0),Ds=0,Ns=null,Is=0,Fs=0,Us=0,Bs=0,js=null,Hs=0,Vs=1/0;function Gs(){Vs=Bi()+500}var Ws,qs=null,Xs=!1,Ys=null,Zs=null,Ks=!1,Qs=null,Js=90,$s=[],eu=[],tu=null,ru=0,nu=null,iu=-1,au=0,ou=0,su=null,uu=!1;function lu(){return 0!==(48&Rs)?Bi():-1!==iu?iu:iu=Bi()}function cu(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===ji()?1:2;if(0===au&&(au=Is),0!==Xi.transition){0!==ou&&(ou=null!==js?js.pendingLanes:0),e=au;var t=4186112&~ou;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=ji(),0!==(4&Rs)&&98===e?e=Bt(12,au):e=Bt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),au),e}function hu(e,t,r){if(50<ru)throw ru=0,nu=null,Error(o(185));if(null===(e=fu(e,t)))return null;Vt(e,t,r),e===Os&&(Us|=t,4===Ds&&mu(e,Ps));var n=ji();1===t?0!==(8&Rs)&&0===(48&Rs)?vu(e):(pu(e,r),0===Rs&&(Gs(),Wi())):(0===(4&Rs)||98!==n&&99!==n||(null===tu?tu=new Set([e]):tu.add(e)),pu(e,r)),js=e}function fu(e,t){e.lanes|=t;var r=e.alternate;for(null!==r&&(r.lanes|=t),r=e,e=e.return;null!==e;)e.childLanes|=t,null!==(r=e.alternate)&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}function pu(e,t){for(var r=e.callbackNode,n=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-Gt(s),l=1<<u,c=a[u];if(-1===c){if(0===(l&n)||0!==(l&i)){c=t,It(l);var h=Nt;a[u]=10<=h?c+250:6<=h?c+5e3:-1}}else c<=t&&(e.expiredLanes|=l);s&=~l}if(n=Ft(e,e===Os?Ps:0),t=Nt,0===n)null!==r&&(r!==zi&&Ei(r),e.callbackNode=null,e.callbackPriority=0);else{if(null!==r){if(e.callbackPriority===t)return;r!==zi&&Ei(r)}15===t?(r=vu.bind(null,e),null===Ni?(Ni=[r],Ii=Ti(Ri,qi)):Ni.push(r),r=zi):14===t?r=Gi(99,vu.bind(null,e)):r=Gi(r=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),du.bind(null,e)),e.callbackPriority=t,e.callbackNode=r}}function du(e){if(iu=-1,ou=au=0,0!==(48&Rs))throw Error(o(327));var t=e.callbackNode;if(Pu()&&e.callbackNode!==t)return null;var r=Ft(e,e===Os?Ps:0);if(0===r)return null;var n=r,i=Rs;Rs|=16;var a=Tu();for(Os===e&&Ps===n||(Gs(),wu(e,n));;)try{Mu();break}catch(u){_u(e,u)}if($i(),As.current=a,Rs=i,null!==ks?n=0:(Os=null,Ps=0,n=Ds),0!==(Is&Us))wu(e,0);else if(0!==n){if(2===n&&(Rs|=64,e.hydrate&&(e.hydrate=!1,Gn(e.containerInfo)),0!==(r=Ut(e))&&(n=Eu(e,r))),1===n)throw t=Ns,wu(e,0),mu(e,r),pu(e,Bi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=r,n){case 0:case 1:throw Error(o(345));case 2:Ru(e);break;case 3:if(mu(e,r),(62914560&r)===r&&10<(n=Hs+500-Bi())){if(0!==Ft(e,0))break;if(((i=e.suspendedLanes)&r)!==r){lu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Hn(Ru.bind(null,e),n);break}Ru(e);break;case 4:if(mu(e,r),(4186112&r)===r)break;for(n=e.eventTimes,i=-1;0<r;){var s=31-Gt(r);a=1<<s,(s=n[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Bi()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ms(r/1960))-r)){e.timeoutHandle=Hn(Ru.bind(null,e),r);break}Ru(e);break;case 5:Ru(e);break;default:throw Error(o(329))}}return pu(e,Bi()),e.callbackNode===t?du.bind(null,e):null}function mu(e,t){for(t&=~Bs,t&=~Us,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Gt(t),n=1<<r;e[r]=-1,t&=~n}}function vu(e){if(0!==(48&Rs))throw Error(o(327));if(Pu(),e===Os&&0!==(e.expiredLanes&Ps)){var t=Ps,r=Eu(e,t);0!==(Is&Us)&&(r=Eu(e,t=Ft(e,t)))}else r=Eu(e,t=Ft(e,0));if(0!==e.tag&&2===r&&(Rs|=64,e.hydrate&&(e.hydrate=!1,Gn(e.containerInfo)),0!==(t=Ut(e))&&(r=Eu(e,t))),1===r)throw r=Ns,wu(e,0),mu(e,t),pu(e,Bi()),r;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ru(e),pu(e,Bi()),null}function gu(e,t){var r=Rs;Rs|=1;try{return e(t)}finally{0===(Rs=r)&&(Gs(),Wi())}}function yu(e,t){var r=Rs;Rs&=-2,Rs|=8;try{return e(t)}finally{0===(Rs=r)&&(Gs(),Wi())}}function bu(e,t){ui(zs,Ls),Ls|=t,Is|=t}function xu(){Ls=zs.current,si(zs)}function wu(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,Vn(r)),null!==ks)for(r=ks.return;null!==r;){var n=r;switch(n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&mi();break;case 3:ka(),si(hi),si(ci),qa();break;case 5:La(n);break;case 4:ka();break;case 13:case 19:si(za);break;case 10:ea(n);break;case 23:case 24:xu()}r=r.return}Os=e,ks=Vu(e.current,null),Ps=Ls=Is=t,Ds=0,Ns=null,Bs=Us=Fs=0}function _u(e,t){for(;;){var r=ks;try{if($i(),Xa.current=Ro,$a){for(var n=Ka.memoizedState;null!==n;){var i=n.queue;null!==i&&(i.pending=null),n=n.next}$a=!1}if(Za=0,Ja=Qa=Ka=null,eo=!1,Cs.current=null,null===r||null===r.return){Ds=1,Ns=t,ks=null;break}e:{var a=e,o=r.return,s=r,u=t;if(t=Ps,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var l=u;if(0===(2&s.mode)){var c=s.alternate;c?(s.updateQueue=c.updateQueue,s.memoizedState=c.memoizedState,s.lanes=c.lanes):(s.updateQueue=null,s.memoizedState=null)}var h=0!==(1&za.current),f=o;do{var p;if(p=13===f.tag){var d=f.memoizedState;if(null!==d)p=null!==d.dehydrated;else{var m=f.memoizedProps;p=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!h)}}if(p){var v=f.updateQueue;if(null===v){var g=new Set;g.add(l),f.updateQueue=g}else v.add(l);if(0===(2&f.mode)){if(f.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=sa(-1,1);y.tag=2,ua(s,y)}s.lanes|=1;break e}u=void 0,s=t;var b=a.pingCache;if(null===b?(b=a.pingCache=new us,u=new Set,b.set(l,u)):void 0===(u=b.get(l))&&(u=new Set,b.set(l,u)),!u.has(s)){u.add(s);var x=Fu.bind(null,a,l,s);l.then(x,x)}f.flags|=4096,f.lanes=t;break e}f=f.return}while(null!==f);u=Error((X(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Ds&&(Ds=2),u=os(u,s),f=o;do{switch(f.tag){case 3:a=u,f.flags|=4096,t&=-t,f.lanes|=t,la(f,ls(0,a,t));break e;case 1:a=u;var w=f.type,_=f.stateNode;if(0===(64&f.flags)&&("function"===typeof w.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===Zs||!Zs.has(_)))){f.flags|=4096,t&=-t,f.lanes|=t,la(f,cs(f,a,t));break e}}f=f.return}while(null!==f)}Cu(r)}catch(T){t=T,ks===r&&null!==r&&(ks=r=r.return);continue}break}}function Tu(){var e=As.current;return As.current=Ro,null===e?Ro:e}function Eu(e,t){var r=Rs;Rs|=16;var n=Tu();for(Os===e&&Ps===t||wu(e,t);;)try{Su();break}catch(i){_u(e,i)}if($i(),Rs=r,As.current=n,null!==ks)throw Error(o(261));return Os=null,Ps=0,Ds}function Su(){for(;null!==ks;)Au(ks)}function Mu(){for(;null!==ks&&!Si();)Au(ks)}function Au(e){var t=Ws(e.alternate,e,Ls);e.memoizedProps=e.pendingProps,null===t?Cu(e):ks=t,Cs.current=null}function Cu(e){var t=e;do{var r=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(r=is(r,t,Ls)))return void(ks=r);if(24!==(r=t).tag&&23!==r.tag||null===r.memoizedState||0!==(1073741824&Ls)||0===(4&r.mode)){for(var n=0,i=r.child;null!==i;)n|=i.lanes|i.childLanes,i=i.sibling;r.childLanes=n}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(r=as(t)))return r.flags&=2047,void(ks=r);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(ks=t);ks=t=e}while(null!==t);0===Ds&&(Ds=5)}function Ru(e){var t=ji();return Vi(99,Ou.bind(null,e,t)),null}function Ou(e,t){do{Pu()}while(null!==Qs);if(0!==(48&Rs))throw Error(o(327));var r=e.finishedWork;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(o(177));e.callbackNode=null;var n=r.lanes|r.childLanes,i=n,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<a;){var l=31-Gt(a),c=1<<l;i[l]=0,s[l]=-1,u[l]=-1,a&=~c}if(null!==tu&&0===(24&n)&&tu.has(e)&&tu.delete(e),e===Os&&(ks=Os=null,Ps=0),1<r.flags?null!==r.lastEffect?(r.lastEffect.nextEffect=r,n=r.firstEffect):n=r:n=r.firstEffect,null!==n){if(i=Rs,Rs|=32,Cs.current=null,Fn=Zt,dn(s=pn())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(c=u.getSelection&&u.getSelection())&&0!==c.rangeCount){u=c.anchorNode,a=c.anchorOffset,l=c.focusNode,c=c.focusOffset;try{u.nodeType,l.nodeType}catch(M){u=null;break e}var h=0,f=-1,p=-1,d=0,m=0,v=s,g=null;t:for(;;){for(var y;v!==u||0!==a&&3!==v.nodeType||(f=h+a),v!==l||0!==c&&3!==v.nodeType||(p=h+c),3===v.nodeType&&(h+=v.nodeValue.length),null!==(y=v.firstChild);)g=v,v=y;for(;;){if(v===s)break t;if(g===u&&++d===a&&(f=h),g===l&&++m===c&&(p=h),null!==(y=v.nextSibling))break;g=(v=g).parentNode}v=y}u=-1===f||-1===p?null:{start:f,end:p}}else u=null;u=u||{start:0,end:0}}else u=null;Un={focusedElem:s,selectionRange:u},Zt=!1,su=null,uu=!1,qs=n;do{try{ku()}catch(M){if(null===qs)throw Error(o(330));Iu(qs,M),qs=qs.nextEffect}}while(null!==qs);su=null,qs=n;do{try{for(s=e;null!==qs;){var b=qs.flags;if(16&b&&ye(qs.stateNode,""),128&b){var x=qs.alternate;if(null!==x){var w=x.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&b){case 2:bs(qs),qs.flags&=-3;break;case 6:bs(qs),qs.flags&=-3,Ts(qs.alternate,qs);break;case 1024:qs.flags&=-1025;break;case 1028:qs.flags&=-1025,Ts(qs.alternate,qs);break;case 4:Ts(qs.alternate,qs);break;case 8:_s(s,u=qs);var _=u.alternate;gs(u),null!==_&&gs(_)}qs=qs.nextEffect}}catch(M){if(null===qs)throw Error(o(330));Iu(qs,M),qs=qs.nextEffect}}while(null!==qs);if(w=Un,x=pn(),b=w.focusedElem,s=w.selectionRange,x!==b&&b&&b.ownerDocument&&fn(b.ownerDocument.documentElement,b)){null!==s&&dn(b)&&(x=s.start,void 0===(w=s.end)&&(w=x),"selectionStart"in b?(b.selectionStart=x,b.selectionEnd=Math.min(w,b.value.length)):(w=(x=b.ownerDocument||document)&&x.defaultView||window).getSelection&&(w=w.getSelection(),u=b.textContent.length,_=Math.min(s.start,u),s=void 0===s.end?_:Math.min(s.end,u),!w.extend&&_>s&&(u=s,s=_,_=u),u=hn(b,_),a=hn(b,s),u&&a&&(1!==w.rangeCount||w.anchorNode!==u.node||w.anchorOffset!==u.offset||w.focusNode!==a.node||w.focusOffset!==a.offset)&&((x=x.createRange()).setStart(u.node,u.offset),w.removeAllRanges(),_>s?(w.addRange(x),w.extend(a.node,a.offset)):(x.setEnd(a.node,a.offset),w.addRange(x))))),x=[];for(w=b;w=w.parentNode;)1===w.nodeType&&x.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<x.length;b++)(w=x[b]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Zt=!!Fn,Un=Fn=null,e.current=r,qs=n;do{try{for(b=e;null!==qs;){var T=qs.flags;if(36&T&&ds(b,qs.alternate,qs),128&T){x=void 0;var E=qs.ref;if(null!==E){var S=qs.stateNode;switch(qs.tag){case 5:x=S;break;default:x=S}"function"===typeof E?E(x):E.current=x}}qs=qs.nextEffect}}catch(M){if(null===qs)throw Error(o(330));Iu(qs,M),qs=qs.nextEffect}}while(null!==qs);qs=null,Di(),Rs=i}else e.current=r;if(Ks)Ks=!1,Qs=e,Js=t;else for(qs=n;null!==qs;)t=qs.nextEffect,qs.nextEffect=null,8&qs.flags&&((T=qs).sibling=null,T.stateNode=null),qs=t;if(0===(n=e.pendingLanes)&&(Zs=null),1===n?e===nu?ru++:(ru=0,nu=e):ru=0,r=r.stateNode,wi&&"function"===typeof wi.onCommitFiberRoot)try{wi.onCommitFiberRoot(xi,r,void 0,64===(64&r.current.flags))}catch(M){}if(pu(e,Bi()),Xs)throw Xs=!1,e=Ys,Ys=null,e;return 0!==(8&Rs)||Wi(),null}function ku(){for(;null!==qs;){var e=qs.alternate;uu||null===su||(0!==(8&qs.flags)?et(qs,su)&&(uu=!0):13===qs.tag&&Ss(e,qs)&&et(qs,su)&&(uu=!0));var t=qs.flags;0!==(256&t)&&ps(e,qs),0===(512&t)||Ks||(Ks=!0,Gi(97,(function(){return Pu(),null}))),qs=qs.nextEffect}}function Pu(){if(90!==Js){var e=97<Js?97:Js;return Js=90,Vi(e,Du)}return!1}function Lu(e,t){$s.push(t,e),Ks||(Ks=!0,Gi(97,(function(){return Pu(),null})))}function zu(e,t){eu.push(t,e),Ks||(Ks=!0,Gi(97,(function(){return Pu(),null})))}function Du(){if(null===Qs)return!1;var e=Qs;if(Qs=null,0!==(48&Rs))throw Error(o(331));var t=Rs;Rs|=32;var r=eu;eu=[];for(var n=0;n<r.length;n+=2){var i=r[n],a=r[n+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(l){if(null===a)throw Error(o(330));Iu(a,l)}}for(r=$s,$s=[],n=0;n<r.length;n+=2){i=r[n],a=r[n+1];try{var u=i.create;i.destroy=u()}catch(l){if(null===a)throw Error(o(330));Iu(a,l)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return Rs=t,Wi(),!0}function Nu(e,t,r){ua(e,t=ls(0,t=os(r,t),1)),t=lu(),null!==(e=fu(e,1))&&(Vt(e,1,t),pu(e,t))}function Iu(e,t){if(3===e.tag)Nu(e,e,t);else for(var r=e.return;null!==r;){if(3===r.tag){Nu(r,e,t);break}if(1===r.tag){var n=r.stateNode;if("function"===typeof r.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Zs||!Zs.has(n))){var i=cs(r,e=os(t,e),1);if(ua(r,i),i=lu(),null!==(r=fu(r,1)))Vt(r,1,i),pu(r,i);else if("function"===typeof n.componentDidCatch&&(null===Zs||!Zs.has(n)))try{n.componentDidCatch(t,e)}catch(a){}break}}r=r.return}}function Fu(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),t=lu(),e.pingedLanes|=e.suspendedLanes&r,Os===e&&(Ps&r)===r&&(4===Ds||3===Ds&&(62914560&Ps)===Ps&&500>Bi()-Hs?wu(e,0):Bs|=r),pu(e,t)}function Uu(e,t){var r=e.stateNode;null!==r&&r.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===ji()?1:2:(0===au&&(au=Is),0===(t=jt(62914560&~au))&&(t=4194304))),r=lu(),null!==(e=fu(e,t))&&(Vt(e,t,r),pu(e,r))}function Bu(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function ju(e,t,r,n){return new Bu(e,t,r,n)}function Hu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Vu(e,t){var r=e.alternate;return null===r?((r=ju(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Gu(e,t,r,n,i,a){var s=2;if(n=e,"function"===typeof e)Hu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case E:return Wu(r.children,i,a,t);case N:s=8,i|=16;break;case S:s=8,i|=1;break;case M:return(e=ju(12,r,t,8|i)).elementType=M,e.type=M,e.lanes=a,e;case O:return(e=ju(13,r,t,i)).type=O,e.elementType=O,e.lanes=a,e;case k:return(e=ju(19,r,t,i)).elementType=k,e.lanes=a,e;case I:return qu(r,i,a,t);case F:return(e=ju(24,r,t,i)).elementType=F,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case A:s=10;break e;case C:s=9;break e;case R:s=11;break e;case P:s=14;break e;case L:s=16,n=null;break e;case z:s=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=ju(s,r,t,i)).elementType=e,t.type=n,t.lanes=a,t}function Wu(e,t,r,n){return(e=ju(7,e,n,t)).lanes=r,e}function qu(e,t,r,n){return(e=ju(23,e,n,t)).elementType=I,e.lanes=r,e}function Xu(e,t,r){return(e=ju(6,e,null,t)).lanes=r,e}function Yu(e,t,r){return(t=ju(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Zu(e,t,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=r,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Ht(0),this.expirationTimes=Ht(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ht(0),this.mutableSourceEagerHydrationData=null}function Ku(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:T,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}function Qu(e,t,r,n){var i=t.current,a=lu(),s=cu(i);e:if(r){t:{if(Ke(r=r._reactInternals)!==r||1!==r.tag)throw Error(o(170));var u=r;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(di(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(o(171))}if(1===r.tag){var l=r.type;if(di(l)){r=gi(r,l,u);break e}}r=u}else r=li;return null===t.context?t.context=r:t.pendingContext=r,(t=sa(a,s)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),ua(i,t),hu(i,s,a),s}function Ju(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function $u(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function el(e,t){$u(e,t),(e=e.alternate)&&$u(e,t)}function tl(e,t,r){var n=null!=r&&null!=r.hydrationOptions&&r.hydrationOptions.mutableSources||null;if(r=new Zu(e,t,null!=r&&!0===r.hydrate),t=ju(3,null,null,2===t?7:1===t?3:0),r.current=t,t.stateNode=r,aa(t),e[Qn]=r.current,Rn(8===e.nodeType?e.parentNode:e),n)for(e=0;e<n.length;e++){var i=(t=n[e])._getVersion;i=i(t._source),null==r.mutableSourceEagerHydrationData?r.mutableSourceEagerHydrationData=[t,i]:r.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=r}function rl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function nl(e,t,r,n,i){var a=r._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=Ju(o);s.call(e)}}Qu(t,o,e,i)}else{if(a=r._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var r;r=e.lastChild;)e.removeChild(r);return new tl(e,0,t?{hydrate:!0}:void 0)}(r,n),o=a._internalRoot,"function"===typeof i){var u=i;i=function(){var e=Ju(o);u.call(e)}}yu((function(){Qu(t,o,e,i)}))}return Ju(o)}function il(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!rl(t))throw Error(o(200));return Ku(e,t,null,r)}Ws=function(e,t,r){var n=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||hi.current)zo=!0;else{if(0===(r&n)){switch(zo=!1,t.tag){case 3:Go(t),Ga();break;case 5:Pa(t);break;case 1:di(t.type)&&yi(t);break;case 4:Oa(t,t.stateNode.containerInfo);break;case 10:n=t.memoizedProps.value;var i=t.type._context;ui(Zi,i._currentValue),i._currentValue=n;break;case 13:if(null!==t.memoizedState)return 0!==(r&t.child.childLanes)?Zo(e,t,r):(ui(za,1&za.current),null!==(t=rs(e,t,r))?t.sibling:null);ui(za,1&za.current);break;case 19:if(n=0!==(r&t.childLanes),0!==(64&e.flags)){if(n)return ts(e,t,r);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ui(za,za.current),n)break;return null;case 23:case 24:return t.lanes=0,Uo(e,t,r)}return rs(e,t,r)}zo=0!==(16384&e.flags)}else zo=!1;switch(t.lanes=0,t.tag){case 2:if(n=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=pi(t,ci.current),ra(t,r),i=no(null,t,n,e,i,r),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,di(n)){var a=!0;yi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,aa(t);var s=n.getDerivedStateFromProps;"function"===typeof s&&pa(t,n,s,e),i.updater=da,t.stateNode=i,i._reactInternals=t,ya(t,n,e,r),t=Vo(null,t,n,!0,a,r)}else t.tag=0,Do(null,t,i,r),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Hu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===R)return 11;if(e===P)return 14}return 2}(i),e=Yi(i,e),a){case 0:t=jo(null,t,i,e,r);break e;case 1:t=Ho(null,t,i,e,r);break e;case 11:t=No(null,t,i,e,r);break e;case 14:t=Io(null,t,i,Yi(i.type,e),n,r);break e}throw Error(o(306,i,""))}return t;case 0:return n=t.type,i=t.pendingProps,jo(e,t,n,i=t.elementType===n?i:Yi(n,i),r);case 1:return n=t.type,i=t.pendingProps,Ho(e,t,n,i=t.elementType===n?i:Yi(n,i),r);case 3:if(Go(t),n=t.updateQueue,null===e||null===n)throw Error(o(282));if(n=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,oa(e,t),ca(t,n,null,r),(n=t.memoizedState.element)===i)Ga(),t=rs(e,t,r);else{if((a=(i=t.stateNode).hydrate)&&(Ia=Wn(t.stateNode.containerInfo.firstChild),Na=t,a=Fa=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Wa.push(a);for(r=Ea(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|1024,r=r.sibling}else Do(e,t,n,r),Ga();t=t.child}return t;case 5:return Pa(t),null===e&&ja(t),n=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,jn(n,i)?s=null:null!==a&&jn(n,a)&&(t.flags|=16),Bo(e,t),Do(e,t,s,r),t.child;case 6:return null===e&&ja(t),null;case 13:return Zo(e,t,r);case 4:return Oa(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=Ta(t,null,n,r):Do(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,No(e,t,n,i=t.elementType===n?i:Yi(n,i),r);case 7:return Do(e,t,t.pendingProps,r),t.child;case 8:case 12:return Do(e,t,t.pendingProps.children,r),t.child;case 10:e:{n=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value;var u=t.type._context;if(ui(Zi,u._currentValue),u._currentValue=a,null!==s)if(u=s.value,0===(a=sn(u,a)?0:0|("function"===typeof n._calculateChangedBits?n._calculateChangedBits(u,a):1073741823))){if(s.children===i.children&&!hi.current){t=rs(e,t,r);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var l=u.dependencies;if(null!==l){s=u.child;for(var c=l.firstContext;null!==c;){if(c.context===n&&0!==(c.observedBits&a)){1===u.tag&&((c=sa(-1,r&-r)).tag=2,ua(u,c)),u.lanes|=r,null!==(c=u.alternate)&&(c.lanes|=r),ta(u.return,r),l.lanes|=r;break}c=c.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Do(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=(a=t.pendingProps).children,ra(t,r),n=n(i=na(i,a.unstable_observedBits)),t.flags|=1,Do(e,t,n,r),t.child;case 14:return a=Yi(i=t.type,t.pendingProps),Io(e,t,i,a=Yi(i.type,a),n,r);case 15:return Fo(e,t,t.type,t.pendingProps,n,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Yi(n,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,di(n)?(e=!0,yi(t)):e=!1,ra(t,r),va(t,n,i),ya(t,n,i,r),Vo(null,t,n,!0,e,r);case 19:return ts(e,t,r);case 23:case 24:return Uo(e,t,r)}throw Error(o(156,t.tag))},tl.prototype.render=function(e){Qu(e,this._internalRoot,null,null)},tl.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Qu(null,e,null,(function(){t[Qn]=null}))},tt=function(e){13===e.tag&&(hu(e,4,lu()),el(e,4))},rt=function(e){13===e.tag&&(hu(e,67108864,lu()),el(e,67108864))},nt=function(e){if(13===e.tag){var t=lu(),r=cu(e);hu(e,r,t),el(e,r)}},it=function(e,t){return t()},Ae=function(e,t,r){switch(t){case"input":if(re(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=ri(n);if(!i)throw Error(o(90));Q(n),re(n,i)}}}break;case"textarea":le(e,r);break;case"select":null!=(t=r.value)&&oe(e,!!r.multiple,t,!1)}},Le=gu,ze=function(e,t,r,n,i){var a=Rs;Rs|=4;try{return Vi(98,e.bind(null,t,r,n,i))}finally{0===(Rs=a)&&(Gs(),Wi())}},De=function(){0===(49&Rs)&&(function(){if(null!==tu){var e=tu;tu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,pu(e,Bi())}))}Wi()}(),Pu())},Ne=function(e,t){var r=Rs;Rs|=2;try{return e(t)}finally{0===(Rs=r)&&(Gs(),Wi())}};var al={Events:[ei,ti,ri,ke,Pe,Pu,{current:!1}]},ol={findFiberByHostInstance:$n,bundleType:0,version:"17.0.1",rendererPackageName:"react-dom"},sl={bundleType:ol.bundleType,version:ol.version,rendererPackageName:ol.rendererPackageName,rendererConfig:ol.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=$e(e))?null:e.stateNode},findFiberByHostInstance:ol.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ul=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ul.isDisabled&&ul.supportsFiber)try{xi=ul.inject(sl),wi=ul}catch(ve){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=al,t.createPortal=il,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=$e(t))?null:e.stateNode},t.flushSync=function(e,t){var r=Rs;if(0!==(48&r))return e(t);Rs|=1;try{if(e)return Vi(99,e.bind(null,t))}finally{Rs=r,Wi()}},t.hydrate=function(e,t,r){if(!rl(t))throw Error(o(200));return nl(null,e,t,!0,r)},t.render=function(e,t,r){if(!rl(t))throw Error(o(200));return nl(null,e,t,!1,r)},t.unmountComponentAtNode=function(e){if(!rl(e))throw Error(o(40));return!!e._reactRootContainer&&(yu((function(){nl(null,null,e,!1,(function(){e._reactRootContainer=null,e[Qn]=null}))})),!0)},t.unstable_batchedUpdates=gu,t.unstable_createPortal=function(e,t){return il(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!rl(r))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return nl(e,t,r,!1,n)},t.version="17.0.1"},function(e,t,r){"use strict";e.exports=r(26)},function(e,t,r){"use strict";var n,i,a,o;if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var u=Date,l=u.now();t.unstable_now=function(){return u.now()-l}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,h=null,f=function e(){if(null!==c)try{var r=t.unstable_now();c(!0,r),c=null}catch(n){throw setTimeout(e,0),n}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},i=function(e,t){h=setTimeout(e,t)},a=function(){clearTimeout(h)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var p=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var m=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,g=null,y=-1,b=5,x=0;t.unstable_shouldYield=function(){return t.unstable_now()>=x},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,_=w.port2;w.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();x=e+b;try{g(!0,e)?_.postMessage(null):(v=!1,g=null)}catch(r){throw _.postMessage(null),r}}else v=!1},n=function(e){g=e,v||(v=!0,_.postMessage(null))},i=function(e,r){y=p((function(){e(t.unstable_now())}),r)},a=function(){d(y),y=-1}}function T(e,t){var r=e.length;e.push(t);e:for(;;){var n=r-1>>>1,i=e[n];if(!(void 0!==i&&0<M(i,t)))break e;e[n]=t,e[r]=i,r=n}}function E(e){return void 0===(e=e[0])?null:e}function S(e){var t=e[0];if(void 0!==t){var r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,i=e.length;n<i;){var a=2*(n+1)-1,o=e[a],s=a+1,u=e[s];if(void 0!==o&&0>M(o,r))void 0!==u&&0>M(u,o)?(e[n]=u,e[s]=r,n=s):(e[n]=o,e[a]=r,n=a);else{if(!(void 0!==u&&0>M(u,r)))break e;e[n]=u,e[s]=r,n=s}}}return t}return null}function M(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}var A=[],C=[],R=1,O=null,k=3,P=!1,L=!1,z=!1;function D(e){for(var t=E(C);null!==t;){if(null===t.callback)S(C);else{if(!(t.startTime<=e))break;S(C),t.sortIndex=t.expirationTime,T(A,t)}t=E(C)}}function N(e){if(z=!1,D(e),!L)if(null!==E(A))L=!0,n(I);else{var t=E(C);null!==t&&i(N,t.startTime-e)}}function I(e,r){L=!1,z&&(z=!1,a()),P=!0;var n=k;try{for(D(r),O=E(A);null!==O&&(!(O.expirationTime>r)||e&&!t.unstable_shouldYield());){var o=O.callback;if("function"===typeof o){O.callback=null,k=O.priorityLevel;var s=o(O.expirationTime<=r);r=t.unstable_now(),"function"===typeof s?O.callback=s:O===E(A)&&S(A),D(r)}else S(A);O=E(A)}if(null!==O)var u=!0;else{var l=E(C);null!==l&&i(N,l.startTime-r),u=!1}return u}finally{O=null,k=n,P=!1}}var F=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){L||P||(L=!0,n(I))},t.unstable_getCurrentPriorityLevel=function(){return k},t.unstable_getFirstCallbackNode=function(){return E(A)},t.unstable_next=function(e){switch(k){case 1:case 2:case 3:var t=3;break;default:t=k}var r=k;k=t;try{return e()}finally{k=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=k;k=e;try{return t()}finally{k=r}},t.unstable_scheduleCallback=function(e,r,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:R++,callback:r,priorityLevel:e,startTime:o,expirationTime:u=o+u,sortIndex:-1},o>s?(e.sortIndex=o,T(C,e),null===E(A)&&e===E(C)&&(z?a():z=!0,i(N,o-s))):(e.sortIndex=u,T(A,e),L||P||(L=!0,n(I))),e},t.unstable_wrapCallback=function(e){var t=k;return function(){var r=k;k=t;try{return e.apply(this,arguments)}finally{k=r}}}},,,function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(n){"object"===typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";r(18);var n=r(3),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,r){var n,a={},l=null,c=null;for(n in void 0!==r&&(l=""+r),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)s.call(t,n)&&!u.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===a[n]&&(a[n]=t[n]);return{$$typeof:i,type:e,key:l,ref:c,props:a,_owner:o.current}}t.jsx=l,t.jsxs=l},function(e,t,r){"use strict";var n=r(32);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,r,i,a,o){if(o!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return r.PropTypes=r,r}},function(e,t,r){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}]]);
//# sourceMappingURL=2.50e3e465.chunk.js.map